import{c as Se,a as k,h as _,b as Ee,x as Ln,P as as,r as Q,G as ta,H as zn,F as dt,I as jt,w as de,o as fn,f as Ke,g as Fe,J as Mn,k as xn,K as Il,L as Sn,t as is,M as Ri,N as Bi,O as Vi,Q as Wn,R as pa,S as no,T as Fi,U as ao,j as Ea,V as na,W as We,X as Vt,Y as ls,Z as Ft,$ as os,a0 as Yi,a1 as je,a2 as rs,a3 as io,n as lo,a4 as oo,a5 as Ui,a6 as Na,a7 as La,a8 as ss,a9 as us,aa as ro,ab as Ra,ac as so,ad as cs,ae as ds,af as uo,ag as co,i as ba,e as Et,l as fs,d as hs,ah as fo,ai as ms,aj as gs,ak as vs,y as ot,al as ho,am as dn,an as mo,ao as kn,ap as _a,p as ys,aq as ps,ar as ii,as as wi,at as bs,au as Hi,av as go,aw as vo,ax as yo,ay as _s,az as ws,aA as Al,aB as Ss,aC as ks,aD as Cs,aE as Ts,aF as Ms,aG as qs,aH as Ol,aI as Ps,aJ as Ds,aK as $s,aL as on,aM as Si,_ as _t,A as S,B as j,C as f,E as c,D as m,aN as we,aO as Ae,aP as vt,aQ as ee,aR as fe,aS as Xe,aT as ki,aU as V,aV as at,aW as et,aX as po,aY as lt,aZ as oe,a_ as W,a$ as xs,b0 as In,b1 as bo,b2 as Is,b3 as As,b4 as ca,m as li,b5 as oi,b6 as El,z as Ci,b7 as _o,b8 as Os,b9 as Es,ba as Ns,bb as Nl,bc as Ls,bd as Rs,be as Bs,bf as Vs}from"./index.725caa24.js";import{Q as Fs}from"./QResizeObserver.bcb70109.js";var ri=Se({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:t}){const n=k(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>_("div",{class:n.value,role:"toolbar"},Ee(t.default))}});const Ys=["top","middle","bottom"];var rn=Se({name:"QBadge",props:{color:String,textColor:String,floating:Boolean,transparent:Boolean,multiLine:Boolean,outline:Boolean,rounded:Boolean,label:[Number,String],align:{type:String,validator:e=>Ys.includes(e)}},setup(e,{slots:t}){const n=k(()=>e.align!==void 0?{verticalAlign:e.align}:null),a=k(()=>{const i=e.outline===!0&&e.color||e.textColor;return`q-badge flex inline items-center no-wrap q-badge--${e.multiLine===!0?"multi":"single"}-line`+(e.outline===!0?" q-badge--outline":e.color!==void 0?` bg-${e.color}`:"")+(i!==void 0?` text-${i}`:"")+(e.floating===!0?" q-badge--floating":"")+(e.rounded===!0?" q-badge--rounded":"")+(e.transparent===!0?" q-badge--transparent":"")});return()=>_("div",{class:a.value,style:n.value,role:"status","aria-label":e.label},Ln(t.default,e.label!==void 0?[e.label]:[]))}});function wa(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),as.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}const wo={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function So({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:a,proxy:i,emit:l}=Fe(),o=Q(null);let r=null;function s(g){return o.value===null?!1:g===void 0||g.touches===void 0||g.touches.length<=1}const u={};n===void 0&&(Object.assign(u,{hide(g){i.hide(g)},toggle(g){i.toggle(g),g.qAnchorHandled=!0},toggleKey(g){ta(g,13)===!0&&u.toggle(g)},contextClick(g){i.hide(g),zn(g),dt(()=>{i.show(g),g.qAnchorHandled=!0})},prevent:zn,mobileTouch(g){if(u.mobileCleanup(g),s(g)!==!0)return;i.hide(g),o.value.classList.add("non-selectable");const C=g.target;jt(u,"anchor",[[C,"touchmove","mobileCleanup","passive"],[C,"touchend","mobileCleanup","passive"],[C,"touchcancel","mobileCleanup","passive"],[o.value,"contextmenu","prevent","notPassive"]]),r=setTimeout(()=>{r=null,i.show(g),g.qAnchorHandled=!0},300)},mobileCleanup(g){o.value.classList.remove("non-selectable"),r!==null&&(clearTimeout(r),r=null),e.value===!0&&g!==void 0&&wa()}}),n=function(g=a.contextMenu){if(a.noParentEvent===!0||o.value===null)return;let C;g===!0?i.$q.platform.is.mobile===!0?C=[[o.value,"touchstart","mobileTouch","passive"]]:C=[[o.value,"mousedown","hide","passive"],[o.value,"contextmenu","contextClick","notPassive"]]:C=[[o.value,"click","toggle","passive"],[o.value,"keyup","toggleKey","passive"]],jt(u,"anchor",C)});function d(){Mn(u,"anchor")}function v(g){for(o.value=g;o.value.classList.contains("q-anchor--skip");)o.value=o.value.parentNode;n()}function y(){if(a.target===!1||a.target===""||i.$el.parentNode===null)o.value=null;else if(a.target===!0)v(i.$el.parentNode);else{let g=a.target;if(typeof a.target=="string")try{g=document.querySelector(a.target)}catch{g=void 0}g!=null?(o.value=g.$el||g,n()):(o.value=null,console.error(`Anchor: target "${a.target}" not found`))}}return de(()=>a.contextMenu,g=>{o.value!==null&&(d(),n(g))}),de(()=>a.target,()=>{o.value!==null&&d(),y()}),de(()=>a.noParentEvent,g=>{o.value!==null&&(g===!0?d():n())}),fn(()=>{y(),t!==!0&&a.modelValue===!0&&o.value===null&&l("update:modelValue",!1)}),Ke(()=>{r!==null&&clearTimeout(r),d()}),{anchorEl:o,canShow:s,anchorEvents:u}}function ko(e,t){const n=Q(null);let a;function i(r,s){const u=`${s!==void 0?"add":"remove"}EventListener`,d=s!==void 0?s:a;r!==window&&r[u]("scroll",d,xn.passive),window[u]("scroll",d,xn.passive),a=s}function l(){n.value!==null&&(i(n.value),n.value=null)}const o=de(()=>e.noParentEvent,()=>{n.value!==null&&(l(),t())});return Ke(o),{localScrollTarget:n,unconfigureScrollTarget:l,changeScrollEvent:i}}const{notPassiveCapture:Sa}=xn,un=[];function ka(e){const t=e.target;if(t===void 0||t.nodeType===8||t.classList.contains("no-pointer-events")===!0)return;let n=Il.length-1;for(;n>=0;){const a=Il[n].$;if(a.type.name==="QTooltip"){n--;continue}if(a.type.name!=="QDialog")break;if(a.props.seamless!==!0)return;n--}for(let a=un.length-1;a>=0;a--){const i=un[a];if((i.anchorEl.value===null||i.anchorEl.value.contains(t)===!1)&&(t===document.body||i.innerRef.value!==null&&i.innerRef.value.contains(t)===!1))e.qClickOutside=!0,i.onClickOutside(e);else return}}function Co(e){un.push(e),un.length===1&&(document.addEventListener("mousedown",ka,Sa),document.addEventListener("touchstart",ka,Sa))}function Ca(e){const t=un.findIndex(n=>n===e);t>-1&&(un.splice(t,1),un.length===0&&(document.removeEventListener("mousedown",ka,Sa),document.removeEventListener("touchstart",ka,Sa)))}let Ll,Rl;function Ta(e){const t=e.split(" ");return t.length!==2?!1:["top","center","bottom"].includes(t[0])!==!0?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):["left","middle","right","start","end"].includes(t[1])!==!0?(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1):!0}function To(e){return e?!(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number"):!0}const Ti={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};["left","middle","right"].forEach(e=>{Ti[`${e}#ltr`]=e,Ti[`${e}#rtl`]=e});function Ma(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:Ti[`${n[1]}#${t===!0?"rtl":"ltr"}`]}}function Us(e,t){let{top:n,left:a,right:i,bottom:l,width:o,height:r}=e.getBoundingClientRect();return t!==void 0&&(n-=t[1],a-=t[0],l+=t[1],i+=t[0],o+=t[0],r+=t[1]),{top:n,bottom:l,height:r,left:a,right:i,width:o,middle:a+(i-a)/2,center:n+(l-n)/2}}function Hs(e,t,n){let{top:a,left:i}=e.getBoundingClientRect();return a+=t.top,i+=t.left,n!==void 0&&(a+=n[1],i+=n[0]),{top:a,bottom:a+1,height:1,left:i,right:i+1,width:1,middle:i,center:a}}function zs(e,t){return{top:0,center:t/2,bottom:t,left:0,middle:e/2,right:e}}function Bl(e,t,n,a){return{top:e[n.vertical]-t[a.vertical],left:e[n.horizontal]-t[a.horizontal]}}function zi(e,t=0){if(e.targetEl===null||e.anchorEl===null||t>5)return;if(e.targetEl.offsetHeight===0||e.targetEl.offsetWidth===0){setTimeout(()=>{zi(e,t+1)},10);return}const{targetEl:n,offset:a,anchorEl:i,anchorOrigin:l,selfOrigin:o,absoluteOffset:r,fit:s,cover:u,maxHeight:d,maxWidth:v}=e;if(Sn.is.ios===!0&&window.visualViewport!==void 0){const B=document.body.style,{offsetLeft:x,offsetTop:$}=window.visualViewport;x!==Ll&&(B.setProperty("--q-pe-left",x+"px"),Ll=x),$!==Rl&&(B.setProperty("--q-pe-top",$+"px"),Rl=$)}const{scrollLeft:y,scrollTop:g}=n,C=r===void 0?Us(i,u===!0?[0,0]:a):Hs(i,r,a);Object.assign(n.style,{top:0,left:0,minWidth:null,minHeight:null,maxWidth:v||"100vw",maxHeight:d||"100vh",visibility:"visible"});const{offsetWidth:w,offsetHeight:T}=n,{elWidth:q,elHeight:P}=s===!0||u===!0?{elWidth:Math.max(C.width,w),elHeight:u===!0?Math.max(C.height,T):T}:{elWidth:w,elHeight:T};let p={maxWidth:v,maxHeight:d};(s===!0||u===!0)&&(p.minWidth=C.width+"px",u===!0&&(p.minHeight=C.height+"px")),Object.assign(n.style,p);const b=zs(q,P);let M=Bl(C,b,l,o);if(r===void 0||a===void 0)si(M,C,b,l,o);else{const{top:B,left:x}=M;si(M,C,b,l,o);let $=!1;if(M.top!==B){$=!0;const G=2*a[1];C.center=C.top-=G,C.bottom-=G+2}if(M.left!==x){$=!0;const G=2*a[0];C.middle=C.left-=G,C.right-=G+2}$===!0&&(M=Bl(C,b,l,o),si(M,C,b,l,o))}p={top:M.top+"px",left:M.left+"px"},M.maxHeight!==void 0&&(p.maxHeight=M.maxHeight+"px",C.height>M.maxHeight&&(p.minHeight=p.maxHeight)),M.maxWidth!==void 0&&(p.maxWidth=M.maxWidth+"px",C.width>M.maxWidth&&(p.minWidth=p.maxWidth)),Object.assign(n.style,p),n.scrollTop!==g&&(n.scrollTop=g),n.scrollLeft!==y&&(n.scrollLeft=y)}function si(e,t,n,a,i){const l=n.bottom,o=n.right,r=is(),s=window.innerHeight-r,u=document.body.clientWidth;if(e.top<0||e.top+l>s)if(i.vertical==="center")e.top=t[a.vertical]>s/2?Math.max(0,s-l):0,e.maxHeight=Math.min(l,s);else if(t[a.vertical]>s/2){const d=Math.min(s,a.vertical==="center"?t.center:a.vertical===i.vertical?t.bottom:t.top);e.maxHeight=Math.min(l,d),e.top=Math.max(0,d-l)}else e.top=Math.max(0,a.vertical==="center"?t.center:a.vertical===i.vertical?t.top:t.bottom),e.maxHeight=Math.min(l,s-e.top);if(e.left<0||e.left+o>u)if(e.maxWidth=Math.min(o,u),i.horizontal==="middle")e.left=t[a.horizontal]>u/2?Math.max(0,u-o):0;else if(t[a.horizontal]>u/2){const d=Math.min(u,a.horizontal==="middle"?t.middle:a.horizontal===i.horizontal?t.right:t.left);e.maxWidth=Math.min(o,d),e.left=Math.max(0,d-e.maxWidth)}else e.left=Math.max(0,a.horizontal==="middle"?t.middle:a.horizontal===i.horizontal?t.left:t.right),e.maxWidth=Math.min(o,u-e.left)}var Tt=Se({name:"QTooltip",inheritAttrs:!1,props:{...wo,...Ri,...Bi,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Ta},self:{type:String,default:"top middle",validator:Ta},offset:{type:Array,default:()=>[14,14],validator:To},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...Vi],setup(e,{slots:t,emit:n,attrs:a}){let i,l;const o=Fe(),{proxy:{$q:r}}=o,s=Q(null),u=Q(!1),d=k(()=>Ma(e.anchor,r.lang.rtl)),v=k(()=>Ma(e.self,r.lang.rtl)),y=k(()=>e.persistent!==!0),{registerTick:g,removeTick:C}=Wn(),{registerTimeout:w}=pa(),{transitionProps:T,transitionStyle:q}=no(e),{localScrollTarget:P,changeScrollEvent:p,unconfigureScrollTarget:b}=ko(e,N),{anchorEl:M,canShow:B,anchorEvents:x}=So({showing:u,configureAnchorEl:Be}),{show:$,hide:G}=Fi({showing:u,canShow:B,handleShow:E,handleHide:le,hideOnRouteChange:y,processOnMount:!0});Object.assign(x,{delayShow:J,delayHide:qe});const{showPortal:Z,hidePortal:ce,renderPortal:$e}=ao(o,s,H,"tooltip");if(r.platform.is.mobile===!0){const U={anchorEl:M,innerRef:s,onClickOutside(be){return G(be),be.target.classList.contains("q-dialog__backdrop")&&We(be),!0}},me=k(()=>e.modelValue===null&&e.persistent!==!0&&u.value===!0);de(me,be=>{(be===!0?Co:Ca)(U)}),Ke(()=>{Ca(U)})}function E(U){Z(),g(()=>{l=new MutationObserver(()=>ke()),l.observe(s.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),ke(),N()}),i===void 0&&(i=de(()=>r.screen.width+"|"+r.screen.height+"|"+e.self+"|"+e.anchor+"|"+r.lang.rtl,ke)),w(()=>{Z(!0),n("show",U)},e.transitionDuration)}function le(U){C(),ce(),ve(),w(()=>{ce(!0),n("hide",U)},e.transitionDuration)}function ve(){l!==void 0&&(l.disconnect(),l=void 0),i!==void 0&&(i(),i=void 0),b(),Mn(x,"tooltipTemp")}function ke(){zi({targetEl:s.value,offset:e.offset,anchorEl:M.value,anchorOrigin:d.value,selfOrigin:v.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function J(U){if(r.platform.is.mobile===!0){wa(),document.body.classList.add("non-selectable");const me=M.value,be=["touchmove","touchcancel","touchend","click"].map(X=>[me,X,"delayHide","passiveCapture"]);jt(x,"tooltipTemp",be)}w(()=>{$(U)},e.delay)}function qe(U){r.platform.is.mobile===!0&&(Mn(x,"tooltipTemp"),wa(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),w(()=>{G(U)},e.hideDelay)}function Be(){if(e.noParentEvent===!0||M.value===null)return;const U=r.platform.is.mobile===!0?[[M.value,"touchstart","delayShow","passive"]]:[[M.value,"mouseenter","delayShow","passive"],[M.value,"mouseleave","delayHide","passive"]];jt(x,"anchor",U)}function N(){if(M.value!==null||e.scrollTarget!==void 0){P.value=Ea(M.value,e.scrollTarget);const U=e.noParentEvent===!0?ke:G;p(P.value,U)}}function A(){return u.value===!0?_("div",{...a,ref:s,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",a.class],style:[a.style,q.value],role:"tooltip"},Ee(t.default)):null}function H(){return _(na,T.value,A)}return Ke(ve),Object.assign(o.proxy,{updatePosition:ke}),$e}});const Ws={xs:8,sm:10,md:14,lg:20,xl:24};var aa=Se({name:"QChip",props:{...Vt,...ls,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,removeAriaLabel:String,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:a}}=Fe(),i=Ft(e,a),l=os(e,Ws),o=k(()=>e.selected===!0||e.icon!==void 0),r=k(()=>e.selected===!0?e.iconSelected||a.iconSet.chip.selected:e.icon),s=k(()=>e.iconRemove||a.iconSet.chip.remove),u=k(()=>e.disable===!1&&(e.clickable===!0||e.selected!==null)),d=k(()=>{const T=e.outline===!0&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(e.outline===!1&&e.color!==void 0?` bg-${e.color}`:"")+(T?` text-${T} q-chip--colored`:"")+(e.disable===!0?" disabled":"")+(e.dense===!0?" q-chip--dense":"")+(e.outline===!0?" q-chip--outline":"")+(e.selected===!0?" q-chip--selected":"")+(u.value===!0?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(e.square===!0?" q-chip--square":"")+(i.value===!0?" q-chip--dark q-dark":"")}),v=k(()=>{const T=e.disable===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0},q={...T,role:"button","aria-hidden":"false","aria-label":e.removeAriaLabel||a.lang.label.remove};return{chip:T,remove:q}});function y(T){T.keyCode===13&&g(T)}function g(T){e.disable||(n("update:selected",!e.selected),n("click",T))}function C(T){(T.keyCode===void 0||T.keyCode===13)&&(We(T),e.disable===!1&&(n("update:modelValue",!1),n("remove")))}function w(){const T=[];u.value===!0&&T.push(_("div",{class:"q-focus-helper"})),o.value===!0&&T.push(_(je,{class:"q-chip__icon q-chip__icon--left",name:r.value}));const q=e.label!==void 0?[_("div",{class:"ellipsis"},[e.label])]:void 0;return T.push(_("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},rs(t.default,q))),e.iconRight&&T.push(_(je,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),e.removable===!0&&T.push(_(je,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:s.value,...v.value.remove,onClick:C,onKeyup:C})),T}return()=>{if(e.modelValue===!1)return;const T={class:d.value,style:l.value};return u.value===!0&&Object.assign(T,v.value.chip,{onClick:g,onKeyup:y}),Yi("div",T,w(),"ripple",e.ripple!==!1&&e.disable!==!0,()=>[[io,e.ripple]])}}}),Qt=Se({name:"QList",props:{...Vt,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean,tag:{type:String,default:"div"}},setup(e,{slots:t}){const n=Fe(),a=Ft(e,n.proxy.$q),i=k(()=>"q-list"+(e.bordered===!0?" q-list--bordered":"")+(e.dense===!0?" q-list--dense":"")+(e.separator===!0?" q-list--separator":"")+(a.value===!0?" q-list--dark":"")+(e.padding===!0?" q-list--padding":""));return()=>_(e.tag,{class:i.value},Ee(t.default))}});const js=["horizontal","vertical","cell","none"];var Qs=Se({name:"QMarkupTable",props:{...Vt,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>js.includes(e)}},setup(e,{slots:t}){const n=Fe(),a=Ft(e,n.proxy.$q),i=k(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(a.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>_("div",{class:i.value},[_("table",{class:"q-table"},Ee(t.default))])}});function Ks(e,t){return _("div",e,[_("table",{class:"q-table"},t)])}let Gn=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const t=document.createElement("div");Object.assign(t.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,Gn=e.scrollLeft>=0,e.remove()}const gt=1e3,Gs=["start","center","end","start-force","center-force","end-force"],Mo=Array.prototype.filter,Zs=window.getComputedStyle(document.body).overflowAnchor===void 0?lo:function(e,t){e!==null&&(e._qOverflowAnimationFrame!==void 0&&cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame(()=>{if(e===null)return;e._qOverflowAnimationFrame=void 0;const n=e.children||[];Mo.call(n,i=>i.dataset&&i.dataset.qVsAnchor!==void 0).forEach(i=>{delete i.dataset.qVsAnchor});const a=n[t];a&&a.dataset&&(a.dataset.qVsAnchor="")}))};function qn(e,t){return e+t}function ui(e,t,n,a,i,l,o,r){const s=e===window?document.scrollingElement||document.documentElement:e,u=i===!0?"offsetWidth":"offsetHeight",d={scrollStart:0,scrollViewSize:-o-r,scrollMaxSize:0,offsetStart:-o,offsetEnd:-r};if(i===!0?(e===window?(d.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,d.scrollViewSize+=document.documentElement.clientWidth):(d.scrollStart=s.scrollLeft,d.scrollViewSize+=s.clientWidth),d.scrollMaxSize=s.scrollWidth,l===!0&&(d.scrollStart=(Gn===!0?d.scrollMaxSize-d.scrollViewSize:0)-d.scrollStart)):(e===window?(d.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,d.scrollViewSize+=document.documentElement.clientHeight):(d.scrollStart=s.scrollTop,d.scrollViewSize+=s.clientHeight),d.scrollMaxSize=s.scrollHeight),n!==null)for(let v=n.previousElementSibling;v!==null;v=v.previousElementSibling)v.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetStart+=v[u]);if(a!==null)for(let v=a.nextElementSibling;v!==null;v=v.nextElementSibling)v.classList.contains("q-virtual-scroll--skip")===!1&&(d.offsetEnd+=v[u]);if(t!==e){const v=s.getBoundingClientRect(),y=t.getBoundingClientRect();i===!0?(d.offsetStart+=y.left-v.left,d.offsetEnd-=y.width):(d.offsetStart+=y.top-v.top,d.offsetEnd-=y.height),e!==window&&(d.offsetStart+=d.scrollStart),d.offsetEnd+=d.scrollMaxSize-d.offsetStart}return d}function Vl(e,t,n,a){t==="end"&&(t=(e===window?document.body:e)[n===!0?"scrollWidth":"scrollHeight"]),e===window?n===!0?(a===!0&&(t=(Gn===!0?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):n===!0?(a===!0&&(t=(Gn===!0?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function Fn(e,t,n,a){if(n>=a)return 0;const i=t.length,l=Math.floor(n/gt),o=Math.floor((a-1)/gt)+1;let r=e.slice(l,o).reduce(qn,0);return n%gt!==0&&(r-=t.slice(l*gt,n).reduce(qn,0)),a%gt!==0&&a!==i&&(r-=t.slice(a,o*gt).reduce(qn,0)),r}const Js={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},qo={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...Js};function Po({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:n,virtualScrollItemSizeComputed:a}){const i=Fe(),{props:l,emit:o,proxy:r}=i,{$q:s}=r;let u,d,v,y=[],g;const C=Q(0),w=Q(0),T=Q({}),q=Q(null),P=Q(null),p=Q(null),b=Q({from:0,to:0}),M=k(()=>l.tableColspan!==void 0?l.tableColspan:100);a===void 0&&(a=k(()=>l.virtualScrollItemSize));const B=k(()=>a.value+";"+l.virtualScrollHorizontal),x=k(()=>B.value+";"+l.virtualScrollSliceRatioBefore+";"+l.virtualScrollSliceRatioAfter);de(x,()=>{ke()}),de(B,$);function $(){ve(d,!0)}function G(A){ve(A===void 0?d:A)}function Z(A,H){const U=t();if(U==null||U.nodeType===8)return;const me=ui(U,n(),q.value,P.value,l.virtualScrollHorizontal,s.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd);v!==me.scrollViewSize&&ke(me.scrollViewSize),$e(U,me,Math.min(e.value-1,Math.max(0,parseInt(A,10)||0)),0,Gs.indexOf(H)>-1?H:d>-1&&A>d?"end":"start")}function ce(){const A=t();if(A==null||A.nodeType===8)return;const H=ui(A,n(),q.value,P.value,l.virtualScrollHorizontal,s.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd),U=e.value-1,me=H.scrollMaxSize-H.offsetStart-H.offsetEnd-w.value;if(u===H.scrollStart)return;if(H.scrollMaxSize<=0){$e(A,H,0,0);return}v!==H.scrollViewSize&&ke(H.scrollViewSize),E(b.value.from);const be=Math.floor(H.scrollMaxSize-Math.max(H.scrollViewSize,H.offsetEnd)-Math.min(g[U],H.scrollViewSize/2));if(be>0&&Math.ceil(H.scrollStart)>=be){$e(A,H,U,H.scrollMaxSize-H.offsetEnd-y.reduce(qn,0));return}let X=0,te=H.scrollStart-H.offsetStart,Ve=te;if(te<=me&&te+H.scrollViewSize>=C.value)te-=C.value,X=b.value.from,Ve=te;else for(let O=0;te>=y[O]&&X<U;O++)te-=y[O],X+=gt;for(;te>0&&X<U;)te-=g[X],te>-H.scrollViewSize?(X++,Ve=te):Ve=g[X]+te;$e(A,H,X,Ve)}function $e(A,H,U,me,be){const X=typeof be=="string"&&be.indexOf("-force")>-1,te=X===!0?be.replace("-force",""):be,Ve=te!==void 0?te:"start";let O=Math.max(0,U-T.value[Ve]),Ne=O+T.value.total;Ne>e.value&&(Ne=e.value,O=Math.max(0,Ne-T.value.total)),u=H.scrollStart;const St=O!==b.value.from||Ne!==b.value.to;if(St===!1&&te===void 0){qe(U);return}const{activeElement:xt}=document,ut=p.value;St===!0&&ut!==null&&ut!==xt&&ut.contains(xt)===!0&&(ut.addEventListener("focusout",le),setTimeout(()=>{ut!==null&&ut.removeEventListener("focusout",le)})),Zs(ut,U-O);const It=te!==void 0?g.slice(O,U).reduce(qn,0):0;if(St===!0){const kt=Ne>=b.value.from&&O<=b.value.to?b.value.to:Ne;b.value={from:O,to:kt},C.value=Fn(y,g,0,O),w.value=Fn(y,g,Ne,e.value),requestAnimationFrame(()=>{b.value.to!==Ne&&u===H.scrollStart&&(b.value={from:b.value.from,to:Ne},w.value=Fn(y,g,Ne,e.value))})}requestAnimationFrame(()=>{if(u!==H.scrollStart)return;St===!0&&E(O);const kt=g.slice(O,U).reduce(qn,0),Ht=kt+H.offsetStart+C.value,mn=Ht+g[U];let zt=Ht+me;if(te!==void 0){const gn=kt-It,He=H.scrollStart+gn;zt=X!==!0&&He<Ht&&mn<He+H.scrollViewSize?He:te==="end"?mn-H.scrollViewSize:Ht-(te==="start"?0:Math.round((H.scrollViewSize-g[U])/2))}u=zt,Vl(A,zt,l.virtualScrollHorizontal,s.lang.rtl),qe(U)})}function E(A){const H=p.value;if(H){const U=Mo.call(H.children,O=>O.classList&&O.classList.contains("q-virtual-scroll--skip")===!1),me=U.length,be=l.virtualScrollHorizontal===!0?O=>O.getBoundingClientRect().width:O=>O.offsetHeight;let X=A,te,Ve;for(let O=0;O<me;){for(te=be(U[O]),O++;O<me&&U[O].classList.contains("q-virtual-scroll--with-prev")===!0;)te+=be(U[O]),O++;Ve=te-g[X],Ve!==0&&(g[X]+=Ve,y[Math.floor(X/gt)]+=Ve),X++}}}function le(){p.value!==null&&p.value!==void 0&&p.value.focus()}function ve(A,H){const U=1*a.value;(H===!0||Array.isArray(g)===!1)&&(g=[]);const me=g.length;g.length=e.value;for(let X=e.value-1;X>=me;X--)g[X]=U;const be=Math.floor((e.value-1)/gt);y=[];for(let X=0;X<=be;X++){let te=0;const Ve=Math.min((X+1)*gt,e.value);for(let O=X*gt;O<Ve;O++)te+=g[O];y.push(te)}d=-1,u=void 0,C.value=Fn(y,g,0,b.value.from),w.value=Fn(y,g,b.value.to,e.value),A>=0?(E(b.value.from),dt(()=>{Z(A)})):Be()}function ke(A){if(A===void 0&&typeof window!="undefined"){const te=t();te!=null&&te.nodeType!==8&&(A=ui(te,n(),q.value,P.value,l.virtualScrollHorizontal,s.lang.rtl,l.virtualScrollStickySizeStart,l.virtualScrollStickySizeEnd).scrollViewSize)}v=A;const H=parseFloat(l.virtualScrollSliceRatioBefore)||0,U=parseFloat(l.virtualScrollSliceRatioAfter)||0,me=1+H+U,be=A===void 0||A<=0?1:Math.ceil(A/a.value),X=Math.max(1,be,Math.ceil((l.virtualScrollSliceSize>0?l.virtualScrollSliceSize:10)/me));T.value={total:Math.ceil(X*me),start:Math.ceil(X*H),center:Math.ceil(X*(.5+H)),end:Math.ceil(X*(1+H)),view:be}}function J(A,H){const U=l.virtualScrollHorizontal===!0?"width":"height",me={["--q-virtual-scroll-item-"+U]:a.value+"px"};return[A==="tbody"?_(A,{class:"q-virtual-scroll__padding",key:"before",ref:q},[_("tr",[_("td",{style:{[U]:`${C.value}px`,...me},colspan:M.value})])]):_(A,{class:"q-virtual-scroll__padding",key:"before",ref:q,style:{[U]:`${C.value}px`,...me}}),_(A,{class:"q-virtual-scroll__content",key:"content",ref:p,tabindex:-1},H.flat()),A==="tbody"?_(A,{class:"q-virtual-scroll__padding",key:"after",ref:P},[_("tr",[_("td",{style:{[U]:`${w.value}px`,...me},colspan:M.value})])]):_(A,{class:"q-virtual-scroll__padding",key:"after",ref:P,style:{[U]:`${w.value}px`,...me}})]}function qe(A){d!==A&&(l.onVirtualScroll!==void 0&&o("virtualScroll",{index:A,from:b.value.from,to:b.value.to-1,direction:A<d?"decrease":"increase",ref:r}),d=A)}ke();const Be=oo(ce,s.platform.is.ios===!0?120:35);Ui(()=>{ke()});let N=!1;return Na(()=>{N=!0}),La(()=>{if(N!==!0)return;const A=t();u!==void 0&&A!==void 0&&A!==null&&A.nodeType!==8?Vl(A,u,l.virtualScrollHorizontal,s.lang.rtl):Z(d)}),Ke(()=>{Be.cancel()}),Object.assign(r,{scrollTo:Z,reset:$,refresh:G}),{virtualScrollSliceRange:b,virtualScrollSliceSizeComputed:T,setVirtualScrollSize:ke,onVirtualScrollEvt:Be,localResetVirtualScroll:ve,padVirtualScroll:J,scrollTo:Z,reset:$,refresh:G}}const Xs={list:Qt,table:Qs},eu=["list","table","__qtable"];var Wi=Se({name:"QVirtualScroll",props:{...qo,type:{type:String,default:"list",validator:e=>eu.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:t,attrs:n}){let a;const i=Q(null),l=k(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:o,localResetVirtualScroll:r,padVirtualScroll:s,onVirtualScrollEvt:u}=Po({virtualScrollLength:l,getVirtualScrollTarget:C,getVirtualScrollEl:g}),d=k(()=>{if(l.value===0)return[];const P=(p,b)=>({index:o.value.from+b,item:p});return e.itemsFn===void 0?e.items.slice(o.value.from,o.value.to).map(P):e.itemsFn(o.value.from,o.value.to-o.value.from).map(P)}),v=k(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),y=k(()=>e.scrollTarget!==void 0?{}:{tabindex:0});de(l,()=>{r()}),de(()=>e.scrollTarget,()=>{T(),w()});function g(){return i.value.$el||i.value}function C(){return a}function w(){a=Ea(g(),e.scrollTarget),a.addEventListener("scroll",u,xn.passive)}function T(){a!==void 0&&(a.removeEventListener("scroll",u,xn.passive),a=void 0)}function q(){let P=s(e.type==="list"?"div":"tbody",d.value.map(t.default));return t.before!==void 0&&(P=t.before().concat(P)),Ln(t.after,P)}return Ui(()=>{r()}),fn(()=>{w()}),La(()=>{w()}),Na(()=>{T()}),Ke(()=>{T()}),()=>{if(t.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?Ks({ref:i,class:"q-table__middle "+v.value},q()):_(Xs[e.type],{...n,ref:i,class:[n.class,v.value],...y.value},q)}}});const tu=[_("circle",{cx:"15",cy:"15",r:"15"},[_("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),_("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})]),_("circle",{cx:"60",cy:"15",r:"9","fill-opacity":".3"},[_("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),_("animate",{attributeName:"fill-opacity",from:".5",to:".5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})]),_("circle",{cx:"105",cy:"15",r:"15"},[_("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),_("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})])];var Do=Se({name:"QSpinnerDots",props:ss,setup(e){const{cSize:t,classes:n}=us(e);return()=>_("svg",{class:n.value,fill:"currentColor",width:t.value,height:t.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg"},tu)}});const nu={ratio:[String,Number]};function au(e,t){return k(()=>{const n=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(n)!==!0&&n>0?{paddingBottom:`${100/n}%`}:null})}const iu=16/9;var ji=Se({name:"QImg",props:{...nu,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:iu},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:n}){const a=Q(e.initialRatio),i=au(e,a);let l=null,o=!1;const r=[Q(null),Q(T())],s=Q(0),u=Q(!1),d=Q(!1),v=k(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),y=k(()=>({width:e.width,height:e.height})),g=k(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),C=k(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));de(()=>w(),q);function w(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function T(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function q($){l!==null&&(clearTimeout(l),l=null),d.value=!1,$===null?(u.value=!1,r[s.value^1].value=T()):u.value=!0,r[s.value].value=$}function P({target:$}){o!==!0&&(l!==null&&(clearTimeout(l),l=null),a.value=$.naturalHeight===0?.5:$.naturalWidth/$.naturalHeight,p($,1))}function p($,G){o===!0||G===1e3||($.complete===!0?b($):l=setTimeout(()=>{l=null,p($,G+1)},50))}function b($){o!==!0&&(s.value=s.value^1,r[s.value].value=null,u.value=!1,d.value=!1,n("load",$.currentSrc||$.src))}function M($){l!==null&&(clearTimeout(l),l=null),u.value=!1,d.value=!0,r[s.value].value=null,r[s.value^1].value=T(),n("error",$)}function B($){const G=r[$].value,Z={key:"img_"+$,class:g.value,style:C.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...G};return s.value===$?(Z.class+=" q-img__image--waiting",Object.assign(Z,{onLoad:P,onError:M})):Z.class+=" q-img__image--loaded",_("div",{class:"q-img__container absolute-full",key:"img"+$},_("img",Z))}function x(){return u.value!==!0?_("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},Ee(t[d.value===!0?"error":"default"])):_("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[_(ro,{color:e.spinnerColor,size:e.spinnerSize})])}return q(w()),Ke(()=>{o=!0,l!==null&&(clearTimeout(l),l=null)}),()=>{const $=[];return i.value!==null&&$.push(_("div",{key:"filler",style:i.value})),d.value!==!0&&(r[0].value!==null&&$.push(B(0)),r[1].value!==null&&$.push(B(1))),$.push(_(na,{name:"q-transition--fade"},x)),_("div",{class:v.value,style:y.value,role:"img","aria-label":e.alt},$)}}}),lu=Se({name:"QBanner",props:{...Vt,inlineActions:Boolean,dense:Boolean,rounded:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=Fe(),a=Ft(e,n),i=k(()=>"q-banner row items-center"+(e.dense===!0?" q-banner--dense":"")+(a.value===!0?" q-banner--dark q-dark":"")+(e.rounded===!0?" rounded-borders":"")),l=k(()=>`q-banner__actions row items-center justify-end col-${e.inlineActions===!0?"auto":"all"}`);return()=>{const o=[_("div",{class:"q-banner__avatar col-auto row items-center self-start"},Ee(t.avatar)),_("div",{class:"q-banner__content col text-body2"},Ee(t.default))],r=Ee(t.action);return r!==void 0&&o.push(_("div",{class:l.value},r)),_("div",{class:i.value+(e.inlineActions===!1&&r!==void 0?" q-banner--top-padding":""),role:"alert"},o)}}}),Wt=Se({name:"QBreadcrumbsEl",props:{...Ra,label:String,icon:String,tag:{type:String,default:"span"}},emits:["click"],setup(e,{slots:t}){const{linkTag:n,linkAttrs:a,linkClass:i,navigateOnClick:l}=so(),o=k(()=>({class:"q-breadcrumbs__el q-link flex inline items-center relative-position "+(e.disable!==!0?"q-link--focusable"+i.value:"q-breadcrumbs__el--disable"),...a.value,onClick:l})),r=k(()=>"q-breadcrumbs__el-icon"+(e.label!==void 0?" q-breadcrumbs__el-icon--with-label":""));return()=>{const s=[];return e.icon!==void 0&&s.push(_(je,{class:r.value,name:e.icon})),e.label!==void 0&&s.push(e.label),_(n.value,{...o.value},Ln(t.default,s))}}});const ou=["",!0];var ru=Se({name:"QBreadcrumbs",props:{...cs,separator:{type:String,default:"/"},separatorColor:String,activeColor:{type:String,default:"primary"},gutter:{type:String,validator:e=>["none","xs","sm","md","lg","xl"].includes(e),default:"sm"}},setup(e,{slots:t}){const n=ds(e),a=k(()=>`flex items-center ${n.value}${e.gutter==="none"?"":` q-gutter-${e.gutter}`}`),i=k(()=>e.separatorColor?` text-${e.separatorColor}`:""),l=k(()=>` text-${e.activeColor}`);return()=>{const o=uo(Ee(t.default));if(o.length===0)return;let r=1;const s=[],u=o.filter(v=>v.type!==void 0&&v.type.name==="QBreadcrumbsEl").length,d=t.separator!==void 0?t.separator:()=>e.separator;return o.forEach(v=>{if(v.type!==void 0&&v.type.name==="QBreadcrumbsEl"){const y=r<u,g=v.props!==null&&ou.includes(v.props.disable),C=(y===!0?"":" q-breadcrumbs--last")+(g!==!0&&y===!0?l.value:"");r++,s.push(_("div",{class:`flex items-center${C}`},[v])),y===!0&&s.push(_("div",{class:"q-breadcrumbs__separator"+i.value},d()))}else s.push(v)}),_("div",{class:"q-breadcrumbs"},[_("div",{class:a.value},s)])}}}),se=Se({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const n=k(()=>parseInt(e.lines,10)),a=k(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(n.value===1?" ellipsis":"")),i=k(()=>e.lines!==void 0&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null);return()=>_("div",{style:i.value,class:a.value},Ee(t.default))}}),ae=Se({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const n=k(()=>`q-item__section column q-item__section--${e.avatar===!0||e.side===!0||e.thumbnail===!0?"side":"main"}`+(e.top===!0?" q-item__section--top justify-start":" justify-center")+(e.avatar===!0?" q-item__section--avatar":"")+(e.thumbnail===!0?" q-item__section--thumbnail":"")+(e.noWrap===!0?" q-item__section--nowrap":""));return()=>_("div",{class:n.value},Ee(t.default))}}),nt=Se({name:"QItem",props:{...Vt,...Ra,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:n}){const{proxy:{$q:a}}=Fe(),i=Ft(e,a),{hasLink:l,linkAttrs:o,linkClass:r,linkTag:s,navigateOnClick:u}=so(),d=Q(null),v=Q(null),y=k(()=>e.clickable===!0||l.value===!0||e.tag==="label"),g=k(()=>e.disable!==!0&&y.value===!0),C=k(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(i.value===!0?" q-item--dark":"")+(l.value===!0&&e.active===null?r.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(g.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),w=k(()=>{if(e.insetLevel===void 0)return null;const p=a.lang.rtl===!0?"Right":"Left";return{["padding"+p]:16+e.insetLevel*56+"px"}});function T(p){g.value===!0&&(v.value!==null&&(p.qKeyEvent!==!0&&document.activeElement===d.value?v.value.focus():document.activeElement===v.value&&d.value.focus()),u(p))}function q(p){if(g.value===!0&&ta(p,13)===!0){We(p),p.qKeyEvent=!0;const b=new MouseEvent("click",p);b.qKeyEvent=!0,d.value.dispatchEvent(b)}n("keyup",p)}function P(){const p=co(t.default,[]);return g.value===!0&&p.unshift(_("div",{class:"q-focus-helper",tabindex:-1,ref:v})),p}return()=>{const p={ref:d,class:C.value,style:w.value,role:"listitem",onClick:T,onKeyup:q};return g.value===!0?(p.tabindex=e.tabindex||"0",Object.assign(p,o.value)):y.value===!0&&(p["aria-disabled"]="true"),_(s.value,p,P())}}}),su=Se({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:n}}=Fe(),a=ba(fs,Et);if(a===Et)return console.error("QPage needs to be a deep child of QLayout"),Et;if(ba(hs,Et)===Et)return console.error("QPage needs to be child of QPageContainer"),Et;const l=k(()=>{const r=(a.header.space===!0?a.header.size:0)+(a.footer.space===!0?a.footer.size:0);if(typeof e.styleFn=="function"){const s=a.isContainer.value===!0?a.containerHeight.value:n.screen.height;return e.styleFn(r,s)}return{minHeight:a.isContainer.value===!0?a.containerHeight.value-r+"px":n.screen.height===0?r!==0?`calc(100vh - ${r}px)`:"100vh":n.screen.height-r+"px"}}),o=k(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>_("main",{class:o.value,style:l.value},Ee(t.default))}});const uu=_("div",{class:"q-space"});var cu=Se({name:"QSpace",setup(){return()=>uu}});function Fl(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var Mi=fo({name:"close-popup",beforeMount(e,{value:t}){const n={depth:Fl(t),handler(a){n.depth!==0&&setTimeout(()=>{const i=ms(e);i!==void 0&&gs(i,a,n.depth)})},handlerKey(a){ta(a,13)===!0&&n.handler(a)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=Fl(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});function du(){return ba(vs)}var fu=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},$o={},rt={};let Qi;const hu=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];rt.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};rt.getSymbolTotalCodewords=function(t){return hu[t]};rt.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};rt.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Qi=t};rt.isKanjiModeEnabled=function(){return typeof Qi!="undefined"};rt.toSJIS=function(t){return Qi(t)};var Ba={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(a){return a&&typeof a.bit!="undefined"&&a.bit>=0&&a.bit<4},e.from=function(a,i){if(e.isValid(a))return a;try{return t(a)}catch{return i}}})(Ba);function xo(){this.buffer=[],this.length=0}xo.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var mu=xo;function ia(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}ia.prototype.set=function(e,t,n,a){const i=e*this.size+t;this.data[i]=n,a&&(this.reservedBit[i]=!0)};ia.prototype.get=function(e,t){return this.data[e*this.size+t]};ia.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};ia.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var gu=ia,Io={};(function(e){const t=rt.getSymbolSize;e.getRowColCoords=function(a){if(a===1)return[];const i=Math.floor(a/7)+2,l=t(a),o=l===145?26:Math.ceil((l-13)/(2*i-2))*2,r=[l-7];for(let s=1;s<i-1;s++)r[s]=r[s-1]-o;return r.push(6),r.reverse()},e.getPositions=function(a){const i=[],l=e.getRowColCoords(a),o=l.length;for(let r=0;r<o;r++)for(let s=0;s<o;s++)r===0&&s===0||r===0&&s===o-1||r===o-1&&s===0||i.push([l[r],l[s]]);return i}})(Io);var Ao={};const vu=rt.getSymbolSize,Yl=7;Ao.getPositions=function(t){const n=vu(t);return[[0,0],[n-Yl,0],[0,n-Yl]]};var Oo={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const l=i.size;let o=0,r=0,s=0,u=null,d=null;for(let v=0;v<l;v++){r=s=0,u=d=null;for(let y=0;y<l;y++){let g=i.get(v,y);g===u?r++:(r>=5&&(o+=t.N1+(r-5)),u=g,r=1),g=i.get(y,v),g===d?s++:(s>=5&&(o+=t.N1+(s-5)),d=g,s=1)}r>=5&&(o+=t.N1+(r-5)),s>=5&&(o+=t.N1+(s-5))}return o},e.getPenaltyN2=function(i){const l=i.size;let o=0;for(let r=0;r<l-1;r++)for(let s=0;s<l-1;s++){const u=i.get(r,s)+i.get(r,s+1)+i.get(r+1,s)+i.get(r+1,s+1);(u===4||u===0)&&o++}return o*t.N2},e.getPenaltyN3=function(i){const l=i.size;let o=0,r=0,s=0;for(let u=0;u<l;u++){r=s=0;for(let d=0;d<l;d++)r=r<<1&2047|i.get(u,d),d>=10&&(r===1488||r===93)&&o++,s=s<<1&2047|i.get(d,u),d>=10&&(s===1488||s===93)&&o++}return o*t.N3},e.getPenaltyN4=function(i){let l=0;const o=i.data.length;for(let s=0;s<o;s++)l+=i.data[s];return Math.abs(Math.ceil(l*100/o/5)-10)*t.N4};function n(a,i,l){switch(a){case e.Patterns.PATTERN000:return(i+l)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return l%3===0;case e.Patterns.PATTERN011:return(i+l)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(l/3))%2===0;case e.Patterns.PATTERN101:return i*l%2+i*l%3===0;case e.Patterns.PATTERN110:return(i*l%2+i*l%3)%2===0;case e.Patterns.PATTERN111:return(i*l%3+(i+l)%2)%2===0;default:throw new Error("bad maskPattern:"+a)}}e.applyMask=function(i,l){const o=l.size;for(let r=0;r<o;r++)for(let s=0;s<o;s++)l.isReserved(s,r)||l.xor(s,r,n(i,s,r))},e.getBestMask=function(i,l){const o=Object.keys(e.Patterns).length;let r=0,s=1/0;for(let u=0;u<o;u++){l(u),e.applyMask(u,i);const d=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(u,i),d<s&&(s=d,r=u)}return r}})(Oo);var Va={};const Kt=Ba,da=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],fa=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Va.getBlocksCount=function(t,n){switch(n){case Kt.L:return da[(t-1)*4+0];case Kt.M:return da[(t-1)*4+1];case Kt.Q:return da[(t-1)*4+2];case Kt.H:return da[(t-1)*4+3];default:return}};Va.getTotalCodewordsCount=function(t,n){switch(n){case Kt.L:return fa[(t-1)*4+0];case Kt.M:return fa[(t-1)*4+1];case Kt.Q:return fa[(t-1)*4+2];case Kt.H:return fa[(t-1)*4+3];default:return}};var Eo={},Fa={};const jn=new Uint8Array(512),qa=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)jn[n]=t,qa[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)jn[n]=jn[n-255]})();Fa.log=function(t){if(t<1)throw new Error("log("+t+")");return qa[t]};Fa.exp=function(t){return jn[t]};Fa.mul=function(t,n){return t===0||n===0?0:jn[qa[t]+qa[n]]};(function(e){const t=Fa;e.mul=function(a,i){const l=new Uint8Array(a.length+i.length-1);for(let o=0;o<a.length;o++)for(let r=0;r<i.length;r++)l[o+r]^=t.mul(a[o],i[r]);return l},e.mod=function(a,i){let l=new Uint8Array(a);for(;l.length-i.length>=0;){const o=l[0];for(let s=0;s<i.length;s++)l[s]^=t.mul(i[s],o);let r=0;for(;r<l.length&&l[r]===0;)r++;l=l.slice(r)}return l},e.generateECPolynomial=function(a){let i=new Uint8Array([1]);for(let l=0;l<a;l++)i=e.mul(i,new Uint8Array([1,t.exp(l)]));return i}})(Eo);const No=Eo;function Ki(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Ki.prototype.initialize=function(t){this.degree=t,this.genPoly=No.generateECPolynomial(this.degree)};Ki.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const a=No.mod(n,this.genPoly),i=this.degree-a.length;if(i>0){const l=new Uint8Array(this.degree);return l.set(a,i),l}return a};var yu=Ki,Lo={},Xt={},Gi={};Gi.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Pt={};const Ro="[0-9]+",pu="[A-Z $%*+\\-./:]+";let Zn="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Zn=Zn.replace(/u/g,"\\u");const bu="(?:(?![A-Z0-9 $%*+\\-./:]|"+Zn+`)(?:.|[\r
]))+`;Pt.KANJI=new RegExp(Zn,"g");Pt.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Pt.BYTE=new RegExp(bu,"g");Pt.NUMERIC=new RegExp(Ro,"g");Pt.ALPHANUMERIC=new RegExp(pu,"g");const _u=new RegExp("^"+Zn+"$"),wu=new RegExp("^"+Ro+"$"),Su=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Pt.testKanji=function(t){return _u.test(t)};Pt.testNumeric=function(t){return wu.test(t)};Pt.testAlphanumeric=function(t){return Su.test(t)};(function(e){const t=Gi,n=Pt;e.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(l,o){if(!l.ccBits)throw new Error("Invalid mode: "+l);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?l.ccBits[0]:o<27?l.ccBits[1]:l.ccBits[2]},e.getBestModeForData=function(l){return n.testNumeric(l)?e.NUMERIC:n.testAlphanumeric(l)?e.ALPHANUMERIC:n.testKanji(l)?e.KANJI:e.BYTE},e.toString=function(l){if(l&&l.id)return l.id;throw new Error("Invalid mode")},e.isValid=function(l){return l&&l.bit&&l.ccBits};function a(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(l,o){if(e.isValid(l))return l;try{return a(l)}catch{return o}}})(Xt);(function(e){const t=rt,n=Va,a=Ba,i=Xt,l=Gi,o=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,r=t.getBCHDigit(o);function s(y,g,C){for(let w=1;w<=40;w++)if(g<=e.getCapacity(w,C,y))return w}function u(y,g){return i.getCharCountIndicator(y,g)+4}function d(y,g){let C=0;return y.forEach(function(w){C+=u(w.mode,g)+w.getBitsLength()}),C}function v(y,g){for(let C=1;C<=40;C++)if(d(y,C)<=e.getCapacity(C,g,i.MIXED))return C}e.from=function(g,C){return l.isValid(g)?parseInt(g,10):C},e.getCapacity=function(g,C,w){if(!l.isValid(g))throw new Error("Invalid QR Code version");typeof w=="undefined"&&(w=i.BYTE);const T=t.getSymbolTotalCodewords(g),q=n.getTotalCodewordsCount(g,C),P=(T-q)*8;if(w===i.MIXED)return P;const p=P-u(w,g);switch(w){case i.NUMERIC:return Math.floor(p/10*3);case i.ALPHANUMERIC:return Math.floor(p/11*2);case i.KANJI:return Math.floor(p/13);case i.BYTE:default:return Math.floor(p/8)}},e.getBestVersionForData=function(g,C){let w;const T=a.from(C,a.M);if(Array.isArray(g)){if(g.length>1)return v(g,T);if(g.length===0)return 1;w=g[0]}else w=g;return s(w.mode,w.getLength(),T)},e.getEncodedBits=function(g){if(!l.isValid(g)||g<7)throw new Error("Invalid QR Code version");let C=g<<12;for(;t.getBCHDigit(C)-r>=0;)C^=o<<t.getBCHDigit(C)-r;return g<<12|C}})(Lo);var Bo={};const qi=rt,Vo=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,ku=1<<14|1<<12|1<<10|1<<4|1<<1,Ul=qi.getBCHDigit(Vo);Bo.getEncodedBits=function(t,n){const a=t.bit<<3|n;let i=a<<10;for(;qi.getBCHDigit(i)-Ul>=0;)i^=Vo<<qi.getBCHDigit(i)-Ul;return(a<<10|i)^ku};var Fo={};const Cu=Xt;function An(e){this.mode=Cu.NUMERIC,this.data=e.toString()}An.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};An.prototype.getLength=function(){return this.data.length};An.prototype.getBitsLength=function(){return An.getBitsLength(this.data.length)};An.prototype.write=function(t){let n,a,i;for(n=0;n+3<=this.data.length;n+=3)a=this.data.substr(n,3),i=parseInt(a,10),t.put(i,10);const l=this.data.length-n;l>0&&(a=this.data.substr(n),i=parseInt(a,10),t.put(i,l*3+1))};var Tu=An;const Mu=Xt,ci=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function On(e){this.mode=Mu.ALPHANUMERIC,this.data=e}On.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};On.prototype.getLength=function(){return this.data.length};On.prototype.getBitsLength=function(){return On.getBitsLength(this.data.length)};On.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let a=ci.indexOf(this.data[n])*45;a+=ci.indexOf(this.data[n+1]),t.put(a,11)}this.data.length%2&&t.put(ci.indexOf(this.data[n]),6)};var qu=On,Pu=function(t){for(var n=[],a=t.length,i=0;i<a;i++){var l=t.charCodeAt(i);if(l>=55296&&l<=56319&&a>i+1){var o=t.charCodeAt(i+1);o>=56320&&o<=57343&&(l=(l-55296)*1024+o-56320+65536,i+=1)}if(l<128){n.push(l);continue}if(l<2048){n.push(l>>6|192),n.push(l&63|128);continue}if(l<55296||l>=57344&&l<65536){n.push(l>>12|224),n.push(l>>6&63|128),n.push(l&63|128);continue}if(l>=65536&&l<=1114111){n.push(l>>18|240),n.push(l>>12&63|128),n.push(l>>6&63|128),n.push(l&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer};const Du=Pu,$u=Xt;function En(e){this.mode=$u.BYTE,typeof e=="string"&&(e=Du(e)),this.data=new Uint8Array(e)}En.getBitsLength=function(t){return t*8};En.prototype.getLength=function(){return this.data.length};En.prototype.getBitsLength=function(){return En.getBitsLength(this.data.length)};En.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var xu=En;const Iu=Xt,Au=rt;function Nn(e){this.mode=Iu.KANJI,this.data=e}Nn.getBitsLength=function(t){return t*13};Nn.prototype.getLength=function(){return this.data.length};Nn.prototype.getBitsLength=function(){return Nn.getBitsLength(this.data.length)};Nn.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=Au.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var Ou=Nn,Yo={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,a,i){var l={},o={};o[a]=0;var r=t.PriorityQueue.make();r.push(a,0);for(var s,u,d,v,y,g,C,w,T;!r.empty();){s=r.pop(),u=s.value,v=s.cost,y=n[u]||{};for(d in y)y.hasOwnProperty(d)&&(g=y[d],C=v+g,w=o[d],T=typeof o[d]=="undefined",(T||w>C)&&(o[d]=C,r.push(d,C),l[d]=u))}if(typeof i!="undefined"&&typeof o[i]=="undefined"){var q=["Could not find a path from ",a," to ",i,"."].join("");throw new Error(q)}return l},extract_shortest_path_from_predecessor_list:function(n,a){for(var i=[],l=a;l;)i.push(l),n[l],l=n[l];return i.reverse(),i},find_path:function(n,a,i){var l=t.single_source_shortest_paths(n,a,i);return t.extract_shortest_path_from_predecessor_list(l,i)},PriorityQueue:{make:function(n){var a=t.PriorityQueue,i={},l;n=n||{};for(l in a)a.hasOwnProperty(l)&&(i[l]=a[l]);return i.queue=[],i.sorter=n.sorter||a.default_sorter,i},default_sorter:function(n,a){return n.cost-a.cost},push:function(n,a){var i={value:n,cost:a};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(Yo);(function(e){const t=Xt,n=Tu,a=qu,i=xu,l=Ou,o=Pt,r=rt,s=Yo.exports;function u(q){return unescape(encodeURIComponent(q)).length}function d(q,P,p){const b=[];let M;for(;(M=q.exec(p))!==null;)b.push({data:M[0],index:M.index,mode:P,length:M[0].length});return b}function v(q){const P=d(o.NUMERIC,t.NUMERIC,q),p=d(o.ALPHANUMERIC,t.ALPHANUMERIC,q);let b,M;return r.isKanjiModeEnabled()?(b=d(o.BYTE,t.BYTE,q),M=d(o.KANJI,t.KANJI,q)):(b=d(o.BYTE_KANJI,t.BYTE,q),M=[]),P.concat(p,b,M).sort(function(x,$){return x.index-$.index}).map(function(x){return{data:x.data,mode:x.mode,length:x.length}})}function y(q,P){switch(P){case t.NUMERIC:return n.getBitsLength(q);case t.ALPHANUMERIC:return a.getBitsLength(q);case t.KANJI:return l.getBitsLength(q);case t.BYTE:return i.getBitsLength(q)}}function g(q){return q.reduce(function(P,p){const b=P.length-1>=0?P[P.length-1]:null;return b&&b.mode===p.mode?(P[P.length-1].data+=p.data,P):(P.push(p),P)},[])}function C(q){const P=[];for(let p=0;p<q.length;p++){const b=q[p];switch(b.mode){case t.NUMERIC:P.push([b,{data:b.data,mode:t.ALPHANUMERIC,length:b.length},{data:b.data,mode:t.BYTE,length:b.length}]);break;case t.ALPHANUMERIC:P.push([b,{data:b.data,mode:t.BYTE,length:b.length}]);break;case t.KANJI:P.push([b,{data:b.data,mode:t.BYTE,length:u(b.data)}]);break;case t.BYTE:P.push([{data:b.data,mode:t.BYTE,length:u(b.data)}])}}return P}function w(q,P){const p={},b={start:{}};let M=["start"];for(let B=0;B<q.length;B++){const x=q[B],$=[];for(let G=0;G<x.length;G++){const Z=x[G],ce=""+B+G;$.push(ce),p[ce]={node:Z,lastCount:0},b[ce]={};for(let $e=0;$e<M.length;$e++){const E=M[$e];p[E]&&p[E].node.mode===Z.mode?(b[E][ce]=y(p[E].lastCount+Z.length,Z.mode)-y(p[E].lastCount,Z.mode),p[E].lastCount+=Z.length):(p[E]&&(p[E].lastCount=Z.length),b[E][ce]=y(Z.length,Z.mode)+4+t.getCharCountIndicator(Z.mode,P))}}M=$}for(let B=0;B<M.length;B++)b[M[B]].end=0;return{map:b,table:p}}function T(q,P){let p;const b=t.getBestModeForData(q);if(p=t.from(P,b),p!==t.BYTE&&p.bit<b.bit)throw new Error('"'+q+'" cannot be encoded with mode '+t.toString(p)+`.
 Suggested mode is: `+t.toString(b));switch(p===t.KANJI&&!r.isKanjiModeEnabled()&&(p=t.BYTE),p){case t.NUMERIC:return new n(q);case t.ALPHANUMERIC:return new a(q);case t.KANJI:return new l(q);case t.BYTE:return new i(q)}}e.fromArray=function(P){return P.reduce(function(p,b){return typeof b=="string"?p.push(T(b,null)):b.data&&p.push(T(b.data,b.mode)),p},[])},e.fromString=function(P,p){const b=v(P,r.isKanjiModeEnabled()),M=C(b),B=w(M,p),x=s.find_path(B.map,"start","end"),$=[];for(let G=1;G<x.length-1;G++)$.push(B.table[x[G]].node);return e.fromArray(g($))},e.rawSplit=function(P){return e.fromArray(v(P,r.isKanjiModeEnabled()))}})(Fo);const Ya=rt,di=Ba,Eu=mu,Nu=gu,Lu=Io,Ru=Ao,Pi=Oo,Di=Va,Bu=yu,Pa=Lo,Vu=Bo,Fu=Xt,fi=Fo;function Yu(e,t){const n=e.size,a=Ru.getPositions(t);for(let i=0;i<a.length;i++){const l=a[i][0],o=a[i][1];for(let r=-1;r<=7;r++)if(!(l+r<=-1||n<=l+r))for(let s=-1;s<=7;s++)o+s<=-1||n<=o+s||(r>=0&&r<=6&&(s===0||s===6)||s>=0&&s<=6&&(r===0||r===6)||r>=2&&r<=4&&s>=2&&s<=4?e.set(l+r,o+s,!0,!0):e.set(l+r,o+s,!1,!0))}}function Uu(e){const t=e.size;for(let n=8;n<t-8;n++){const a=n%2===0;e.set(n,6,a,!0),e.set(6,n,a,!0)}}function Hu(e,t){const n=Lu.getPositions(t);for(let a=0;a<n.length;a++){const i=n[a][0],l=n[a][1];for(let o=-2;o<=2;o++)for(let r=-2;r<=2;r++)o===-2||o===2||r===-2||r===2||o===0&&r===0?e.set(i+o,l+r,!0,!0):e.set(i+o,l+r,!1,!0)}}function zu(e,t){const n=e.size,a=Pa.getEncodedBits(t);let i,l,o;for(let r=0;r<18;r++)i=Math.floor(r/3),l=r%3+n-8-3,o=(a>>r&1)===1,e.set(i,l,o,!0),e.set(l,i,o,!0)}function hi(e,t,n){const a=e.size,i=Vu.getEncodedBits(t,n);let l,o;for(l=0;l<15;l++)o=(i>>l&1)===1,l<6?e.set(l,8,o,!0):l<8?e.set(l+1,8,o,!0):e.set(a-15+l,8,o,!0),l<8?e.set(8,a-l-1,o,!0):l<9?e.set(8,15-l-1+1,o,!0):e.set(8,15-l-1,o,!0);e.set(a-8,8,1,!0)}function Wu(e,t){const n=e.size;let a=-1,i=n-1,l=7,o=0;for(let r=n-1;r>0;r-=2)for(r===6&&r--;;){for(let s=0;s<2;s++)if(!e.isReserved(i,r-s)){let u=!1;o<t.length&&(u=(t[o]>>>l&1)===1),e.set(i,r-s,u),l--,l===-1&&(o++,l=7)}if(i+=a,i<0||n<=i){i-=a,a=-a;break}}}function ju(e,t,n){const a=new Eu;n.forEach(function(s){a.put(s.mode.bit,4),a.put(s.getLength(),Fu.getCharCountIndicator(s.mode,e)),s.write(a)});const i=Ya.getSymbolTotalCodewords(e),l=Di.getTotalCodewordsCount(e,t),o=(i-l)*8;for(a.getLengthInBits()+4<=o&&a.put(0,4);a.getLengthInBits()%8!==0;)a.putBit(0);const r=(o-a.getLengthInBits())/8;for(let s=0;s<r;s++)a.put(s%2?17:236,8);return Qu(a,e,t)}function Qu(e,t,n){const a=Ya.getSymbolTotalCodewords(t),i=Di.getTotalCodewordsCount(t,n),l=a-i,o=Di.getBlocksCount(t,n),r=a%o,s=o-r,u=Math.floor(a/o),d=Math.floor(l/o),v=d+1,y=u-d,g=new Bu(y);let C=0;const w=new Array(o),T=new Array(o);let q=0;const P=new Uint8Array(e.buffer);for(let x=0;x<o;x++){const $=x<s?d:v;w[x]=P.slice(C,C+$),T[x]=g.encode(w[x]),C+=$,q=Math.max(q,$)}const p=new Uint8Array(a);let b=0,M,B;for(M=0;M<q;M++)for(B=0;B<o;B++)M<w[B].length&&(p[b++]=w[B][M]);for(M=0;M<y;M++)for(B=0;B<o;B++)p[b++]=T[B][M];return p}function Ku(e,t,n,a){let i;if(Array.isArray(e))i=fi.fromArray(e);else if(typeof e=="string"){let u=t;if(!u){const d=fi.rawSplit(e);u=Pa.getBestVersionForData(d,n)}i=fi.fromString(e,u||40)}else throw new Error("Invalid data");const l=Pa.getBestVersionForData(i,n);if(!l)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=l;else if(t<l)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+l+`.
`);const o=ju(t,n,i),r=Ya.getSymbolSize(t),s=new Nu(r);return Yu(s,t),Uu(s),Hu(s,t),hi(s,n,0),t>=7&&zu(s,t),Wu(s,o),isNaN(a)&&(a=Pi.getBestMask(s,hi.bind(null,s,n))),Pi.applyMask(a,s),hi(s,n,a),{modules:s,version:t,errorCorrectionLevel:n,maskPattern:a,segments:i}}$o.create=function(t,n){if(typeof t=="undefined"||t==="")throw new Error("No input text");let a=di.M,i,l;return typeof n!="undefined"&&(a=di.from(n.errorCorrectionLevel,di.M),i=Pa.from(n.version),l=Pi.from(n.maskPattern),n.toSJISFunc&&Ya.setToSJISFunction(n.toSJISFunc)),Ku(t,i,a,l)};var Uo={},Zi={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let a=n.slice().replace("#","").split("");if(a.length<3||a.length===5||a.length>8)throw new Error("Invalid hex color: "+n);(a.length===3||a.length===4)&&(a=Array.prototype.concat.apply([],a.map(function(l){return[l,l]}))),a.length===6&&a.push("F","F");const i=parseInt(a.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+a.slice(0,6).join("")}}e.getOptions=function(a){a||(a={}),a.color||(a.color={});const i=typeof a.margin=="undefined"||a.margin===null||a.margin<0?4:a.margin,l=a.width&&a.width>=21?a.width:void 0,o=a.scale||4;return{width:l,scale:l?4:o,margin:i,color:{dark:t(a.color.dark||"#000000ff"),light:t(a.color.light||"#ffffffff")},type:a.type,rendererOpts:a.rendererOpts||{}}},e.getScale=function(a,i){return i.width&&i.width>=a+i.margin*2?i.width/(a+i.margin*2):i.scale},e.getImageWidth=function(a,i){const l=e.getScale(a,i);return Math.floor((a+i.margin*2)*l)},e.qrToImageData=function(a,i,l){const o=i.modules.size,r=i.modules.data,s=e.getScale(o,l),u=Math.floor((o+l.margin*2)*s),d=l.margin*s,v=[l.color.light,l.color.dark];for(let y=0;y<u;y++)for(let g=0;g<u;g++){let C=(y*u+g)*4,w=l.color.light;if(y>=d&&g>=d&&y<u-d&&g<u-d){const T=Math.floor((y-d)/s),q=Math.floor((g-d)/s);w=v[r[T*o+q]?1:0]}a[C++]=w.r,a[C++]=w.g,a[C++]=w.b,a[C]=w.a}}})(Zi);(function(e){const t=Zi;function n(i,l,o){i.clearRect(0,0,l.width,l.height),l.style||(l.style={}),l.height=o,l.width=o,l.style.height=o+"px",l.style.width=o+"px"}function a(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(l,o,r){let s=r,u=o;typeof s=="undefined"&&(!o||!o.getContext)&&(s=o,o=void 0),o||(u=a()),s=t.getOptions(s);const d=t.getImageWidth(l.modules.size,s),v=u.getContext("2d"),y=v.createImageData(d,d);return t.qrToImageData(y.data,l,s),n(v,u,d),v.putImageData(y,0,0),u},e.renderToDataURL=function(l,o,r){let s=r;typeof s=="undefined"&&(!o||!o.getContext)&&(s=o,o=void 0),s||(s={});const u=e.render(l,o,s),d=s.type||"image/png",v=s.rendererOpts||{};return u.toDataURL(d,v.quality)}})(Uo);var Ho={};const Gu=Zi;function Hl(e,t){const n=e.a/255,a=t+'="'+e.hex+'"';return n<1?a+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':a}function mi(e,t,n){let a=e+t;return typeof n!="undefined"&&(a+=" "+n),a}function Zu(e,t,n){let a="",i=0,l=!1,o=0;for(let r=0;r<e.length;r++){const s=Math.floor(r%t),u=Math.floor(r/t);!s&&!l&&(l=!0),e[r]?(o++,r>0&&s>0&&e[r-1]||(a+=l?mi("M",s+n,.5+u+n):mi("m",i,0),i=0,l=!1),s+1<t&&e[r+1]||(a+=mi("h",o),o=0)):i++}return a}Ho.render=function(t,n,a){const i=Gu.getOptions(n),l=t.modules.size,o=t.modules.data,r=l+i.margin*2,s=i.color.light.a?"<path "+Hl(i.color.light,"fill")+' d="M0 0h'+r+"v"+r+'H0z"/>':"",u="<path "+Hl(i.color.dark,"stroke")+' d="'+Zu(o,l,i.margin)+'"/>',d='viewBox="0 0 '+r+" "+r+'"',v=i.width?'width="'+i.width+'" height="'+i.width+'" ':"",y='<svg xmlns="http://www.w3.org/2000/svg" '+v+d+' shape-rendering="crispEdges">'+s+u+`</svg>
`;return typeof a=="function"&&a(null,y),y};const Ju=fu,$i=$o,zo=Uo,Xu=Ho;function Ji(e,t,n,a,i){const l=[].slice.call(arguments,1),o=l.length,r=typeof l[o-1]=="function";if(!r&&!Ju())throw new Error("Callback required as last argument");if(r){if(o<2)throw new Error("Too few arguments provided");o===2?(i=n,n=t,t=a=void 0):o===3&&(t.getContext&&typeof i=="undefined"?(i=a,a=void 0):(i=a,a=n,n=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=t,t=a=void 0):o===2&&!t.getContext&&(a=n,n=t,t=void 0),new Promise(function(s,u){try{const d=$i.create(n,a);s(e(d,t,a))}catch(d){u(d)}})}try{const s=$i.create(n,a);i(null,e(s,t,a))}catch(s){i(s)}}$i.create;var ec=Ji.bind(null,zo.render),tc=Ji.bind(null,zo.renderToDataURL),nc=Ji.bind(null,function(e,t,n){return Xu.render(e,n)});/*! vue-qrcode v2.0.0 | (c) 2018-present Chen Fengyuan | MIT */const zl="ready";var ac=ot({name:"VueQrcode",props:{value:{type:String,default:void 0},options:{type:Object,default:void 0},tag:{type:String,default:"canvas"}},emits:[zl],watch:{$props:{deep:!0,immediate:!0,handler(){this.$el&&this.generate()}}},mounted(){this.generate()},methods:{generate(){const e=this.options||{},t=String(this.value),n=()=>{this.$emit(zl,this.$el)};switch(this.tag){case"canvas":ec(this.$el,t,e,a=>{if(a)throw a;n()});break;case"img":tc(t,e,(a,i)=>{if(a)throw a;this.$el.src=i,this.$el.onload=n});break;case"svg":nc(t,e,(a,i)=>{if(a)throw a;const l=document.createElement("div");l.innerHTML=i;const o=l.querySelector("svg");if(o){const{attributes:r,childNodes:s}=o;Object.keys(r).forEach(u=>{const d=r[Number(u)];this.$el.setAttribute(d.name,d.value)}),Object.keys(s).forEach(u=>{const d=s[Number(u)];this.$el.appendChild(d.cloneNode(!0))}),n()}});break}}},render(){return _(this.tag,this.$slots.default)}});let ic=0;const lc=["click","keydown"],oc={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${ic++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function rc(e,t,n,a){const i=ba(ho,Et);if(i===Et)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Et;const{proxy:l}=Fe(),o=Q(null),r=Q(null),s=Q(null),u=k(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),d=k(()=>i.currentModel.value===e.name),v=k(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(d.value===!0?" q-tab--active"+(i.tabProps.value.activeClass?" "+i.tabProps.value.activeClass:"")+(i.tabProps.value.activeColor?` text-${i.tabProps.value.activeColor}`:"")+(i.tabProps.value.activeBgColor?` bg-${i.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&i.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||i.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(a!==void 0?a.linkClass.value:"")),y=k(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(i.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),g=k(()=>e.disable===!0||i.hasFocus.value===!0||d.value===!1&&i.hasActiveTab.value===!0?-1:e.tabindex||0);function C(p,b){if(b!==!0&&o.value!==null&&o.value.focus(),e.disable===!0){a!==void 0&&a.hasRouterLink.value===!0&&We(p);return}if(a===void 0){i.updateModel({name:e.name}),n("click",p);return}if(a.hasRouterLink.value===!0){const M=(B={})=>{let x;const $=B.to===void 0||kn(B.to,e.to)===!0?i.avoidRouteWatcher=_a():null;return a.navigateToRouterLink(p,{...B,returnRouterError:!0}).catch(G=>{x=G}).then(G=>{if($===i.avoidRouteWatcher&&(i.avoidRouteWatcher=!1,x===void 0&&(G===void 0||G.message.startsWith("Avoided redundant navigation")===!0)&&i.updateModel({name:e.name})),B.returnRouterError===!0)return x!==void 0?Promise.reject(x):G})};n("click",p,M),p.defaultPrevented!==!0&&M();return}n("click",p)}function w(p){ta(p,[13,32])?C(p,!0):mo(p)!==!0&&p.keyCode>=35&&p.keyCode<=40&&p.altKey!==!0&&p.metaKey!==!0&&i.onKbdNavigate(p.keyCode,l.$el)===!0&&We(p),n("keydown",p)}function T(){const p=i.tabProps.value.narrowIndicator,b=[],M=_("div",{ref:s,class:["q-tab__indicator",i.tabProps.value.indicatorClass]});e.icon!==void 0&&b.push(_(je,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&b.push(_("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&b.push(e.alertIcon!==void 0?_(je,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):_("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),p===!0&&b.push(M);const B=[_("div",{class:"q-focus-helper",tabindex:-1,ref:o}),_("div",{class:y.value},Ln(t.default,b))];return p===!1&&B.push(M),B}const q={name:k(()=>e.name),rootRef:r,tabIndicatorRef:s,routeData:a};Ke(()=>{i.unregisterTab(q)}),fn(()=>{i.registerTab(q)});function P(p,b){const M={ref:r,class:v.value,tabindex:g.value,role:"tab","aria-selected":d.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:C,onKeydown:w,...b};return dn(_(p,M,T()),[[io,u.value]])}return{renderTab:P,$tabs:i}}var gi=Se({name:"QTab",props:oc,emits:lc,setup(e,{slots:t,emit:n}){const{renderTab:a}=rc(e,t,n);return()=>a("div")}});function sc(e,t,n){const a=n===!0?["left","right"]:["top","bottom"];return`absolute-${t===!0?a[0]:a[1]}${e?` text-${e}`:""}`}const uc=["left","center","right","justify"];var cc=Se({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>uc.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:t,emit:n}){const{proxy:a}=Fe(),{$q:i}=a,{registerTick:l}=Wn(),{registerTick:o}=Wn(),{registerTick:r}=Wn(),{registerTimeout:s,removeTimeout:u}=pa(),{registerTimeout:d,removeTimeout:v}=pa(),y=Q(null),g=Q(null),C=Q(e.modelValue),w=Q(!1),T=Q(!0),q=Q(!1),P=Q(!1),p=[],b=Q(0),M=Q(!1);let B=null,x=null,$;const G=k(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:sc(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),Z=k(()=>{const I=b.value,z=C.value;for(let ie=0;ie<I;ie++)if(p[ie].name.value===z)return!0;return!1}),ce=k(()=>`q-tabs__content--align-${w.value===!0?"left":P.value===!0?"justify":e.align}`),$e=k(()=>`q-tabs row no-wrap items-center q-tabs--${w.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),E=k(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+ce.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),le=k(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),ve=k(()=>e.vertical!==!0&&i.lang.rtl===!0),ke=k(()=>Gn===!1&&ve.value===!0);de(ve,H),de(()=>e.modelValue,I=>{J({name:I,setCurrent:!0,skipEmit:!0})}),de(()=>e.outsideArrows,qe);function J({name:I,setCurrent:z,skipEmit:ie}){C.value!==I&&(ie!==!0&&e["onUpdate:modelValue"]!==void 0&&n("update:modelValue",I),(z===!0||e["onUpdate:modelValue"]===void 0)&&(N(C.value,I),C.value=I))}function qe(){l(()=>{Be({width:y.value.offsetWidth,height:y.value.offsetHeight})})}function Be(I){if(le.value===void 0||g.value===null)return;const z=I[le.value.container],ie=Math.min(g.value[le.value.scroll],Array.prototype.reduce.call(g.value.children,(xe,_e)=>xe+(_e[le.value.content]||0),0)),Oe=z>0&&ie>z;w.value=Oe,Oe===!0&&o(H),P.value=z<parseInt(e.breakpoint,10)}function N(I,z){const ie=I!=null&&I!==""?p.find(xe=>xe.name.value===I):null,Oe=z!=null&&z!==""?p.find(xe=>xe.name.value===z):null;if(ie&&Oe){const xe=ie.tabIndicatorRef.value,_e=Oe.tabIndicatorRef.value;B!==null&&(clearTimeout(B),B=null),xe.style.transition="none",xe.style.transform="none",_e.style.transition="none",_e.style.transform="none";const ge=xe.getBoundingClientRect(),Ue=_e.getBoundingClientRect();_e.style.transform=e.vertical===!0?`translate3d(0,${ge.top-Ue.top}px,0) scale3d(1,${Ue.height?ge.height/Ue.height:1},1)`:`translate3d(${ge.left-Ue.left}px,0,0) scale3d(${Ue.width?ge.width/Ue.width:1},1,1)`,r(()=>{B=setTimeout(()=>{B=null,_e.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",_e.style.transform="none"},70)})}Oe&&w.value===!0&&A(Oe.rootRef.value)}function A(I){const{left:z,width:ie,top:Oe,height:xe}=g.value.getBoundingClientRect(),_e=I.getBoundingClientRect();let ge=e.vertical===!0?_e.top-Oe:_e.left-z;if(ge<0){g.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(ge),H();return}ge+=e.vertical===!0?_e.height-xe:_e.width-ie,ge>0&&(g.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(ge),H())}function H(){const I=g.value;if(I===null)return;const z=I.getBoundingClientRect(),ie=e.vertical===!0?I.scrollTop:Math.abs(I.scrollLeft);ve.value===!0?(T.value=Math.ceil(ie+z.width)<I.scrollWidth-1,q.value=ie>0):(T.value=ie>0,q.value=e.vertical===!0?Math.ceil(ie+z.height)<I.scrollHeight:Math.ceil(ie+z.width)<I.scrollWidth)}function U(I){x!==null&&clearInterval(x),x=setInterval(()=>{O(I)===!0&&X()},5)}function me(){U(ke.value===!0?Number.MAX_SAFE_INTEGER:0)}function be(){U(ke.value===!0?0:Number.MAX_SAFE_INTEGER)}function X(){x!==null&&(clearInterval(x),x=null)}function te(I,z){const ie=Array.prototype.filter.call(g.value.children,Ue=>Ue===z||Ue.matches&&Ue.matches(".q-tab.q-focusable")===!0),Oe=ie.length;if(Oe===0)return;if(I===36)return A(ie[0]),ie[0].focus(),!0;if(I===35)return A(ie[Oe-1]),ie[Oe-1].focus(),!0;const xe=I===(e.vertical===!0?38:37),_e=I===(e.vertical===!0?40:39),ge=xe===!0?-1:_e===!0?1:void 0;if(ge!==void 0){const Ue=ve.value===!0?-1:1,ze=ie.indexOf(z)+ge*Ue;return ze>=0&&ze<Oe&&(A(ie[ze]),ie[ze].focus({preventScroll:!0})),!0}}const Ve=k(()=>ke.value===!0?{get:I=>Math.abs(I.scrollLeft),set:(I,z)=>{I.scrollLeft=-z}}:e.vertical===!0?{get:I=>I.scrollTop,set:(I,z)=>{I.scrollTop=z}}:{get:I=>I.scrollLeft,set:(I,z)=>{I.scrollLeft=z}});function O(I){const z=g.value,{get:ie,set:Oe}=Ve.value;let xe=!1,_e=ie(z);const ge=I<_e?-1:1;return _e+=ge*5,_e<0?(xe=!0,_e=0):(ge===-1&&_e<=I||ge===1&&_e>=I)&&(xe=!0,_e=I),Oe(z,_e),H(),xe}function Ne(I,z){for(const ie in I)if(I[ie]!==z[ie])return!1;return!0}function St(){let I=null,z={matchedLen:0,queryDiff:9999,hrefLen:0};const ie=p.filter(ge=>ge.routeData!==void 0&&ge.routeData.hasRouterLink.value===!0),{hash:Oe,query:xe}=a.$route,_e=Object.keys(xe).length;for(const ge of ie){const Ue=ge.routeData.exact.value===!0;if(ge.routeData[Ue===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:ze,query:Ct,matched:vn,href:ti}=ge.routeData.resolvedLink.value,en=Object.keys(Ct).length;if(Ue===!0){if(ze!==Oe||en!==_e||Ne(xe,Ct)===!1)continue;I=ge.name.value;break}if(ze!==""&&ze!==Oe||en!==0&&Ne(Ct,xe)===!1)continue;const ct={matchedLen:vn.length,queryDiff:_e-en,hrefLen:ti.length-ze.length};if(ct.matchedLen>z.matchedLen){I=ge.name.value,z=ct;continue}else if(ct.matchedLen!==z.matchedLen)continue;if(ct.queryDiff<z.queryDiff)I=ge.name.value,z=ct;else if(ct.queryDiff!==z.queryDiff)continue;ct.hrefLen>z.hrefLen&&(I=ge.name.value,z=ct)}I===null&&p.some(ge=>ge.routeData===void 0&&ge.name.value===C.value)===!0||J({name:I,setCurrent:!0})}function xt(I){if(u(),M.value!==!0&&y.value!==null&&I.target&&typeof I.target.closest=="function"){const z=I.target.closest(".q-tab");z&&y.value.contains(z)===!0&&(M.value=!0,w.value===!0&&A(z))}}function ut(){s(()=>{M.value=!1},30)}function It(){zt.avoidRouteWatcher===!1?d(St):v()}function kt(){if($===void 0){const I=de(()=>a.$route.fullPath,It);$=()=>{I(),$=void 0}}}function Ht(I){p.push(I),b.value++,qe(),I.routeData===void 0||a.$route===void 0?d(()=>{if(w.value===!0){const z=C.value,ie=z!=null&&z!==""?p.find(Oe=>Oe.name.value===z):null;ie&&A(ie.rootRef.value)}}):(kt(),I.routeData.hasRouterLink.value===!0&&It())}function mn(I){p.splice(p.indexOf(I),1),b.value--,qe(),$!==void 0&&I.routeData!==void 0&&(p.every(z=>z.routeData===void 0)===!0&&$(),It())}const zt={currentModel:C,tabProps:G,hasFocus:M,hasActiveTab:Z,registerTab:Ht,unregisterTab:mn,verifyRouteModel:It,updateModel:J,onKbdNavigate:te,avoidRouteWatcher:!1};ys(ho,zt);function gn(){B!==null&&clearTimeout(B),X(),$!==void 0&&$()}let He;return Ke(gn),Na(()=>{He=$!==void 0,gn()}),La(()=>{He===!0&&kt(),qe()}),()=>_("div",{ref:y,class:$e.value,role:"tablist",onFocusin:xt,onFocusout:ut},[_(Fs,{onResize:Be}),_("div",{ref:g,class:E.value,onScroll:H},Ee(t.default)),_(je,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(T.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||i.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:me,onTouchstartPassive:me,onMouseupPassive:X,onMouseleavePassive:X,onTouchendPassive:X}),_(je,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(q.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||i.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:be,onTouchstartPassive:be,onMouseupPassive:X,onMouseleavePassive:X,onTouchendPassive:X})])}});const Xi={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},dc=Object.keys(Xi);Xi.all=!0;function Wl(e){const t={};for(const n of dc)e[n]===!0&&(t[n]=!0);return Object.keys(t).length===0?Xi:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}const fc=["INPUT","TEXTAREA"];function jl(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&fc.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}function hc(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((n,a)=>{const i=parseFloat(n);i&&(t[a]=i)}),t}var mc=fo({name:"touch-swipe",beforeMount(e,{value:t,arg:n,modifiers:a}){if(a.mouse!==!0&&Sn.has.touch!==!0)return;const i=a.mouseCapture===!0?"Capture":"",l={handler:t,sensitivity:hc(n),direction:Wl(a),noop:lo,mouseStart(o){jl(o,l)&&ps(o)&&(jt(l,"temp",[[document,"mousemove","move",`notPassive${i}`],[document,"mouseup","end","notPassiveCapture"]]),l.start(o,!0))},touchStart(o){if(jl(o,l)){const r=o.target;jt(l,"temp",[[r,"touchmove","move","notPassiveCapture"],[r,"touchcancel","end","notPassiveCapture"],[r,"touchend","end","notPassiveCapture"]]),l.start(o)}},start(o,r){Sn.is.firefox===!0&&ii(e,!0);const s=wi(o);l.event={x:s.left,y:s.top,time:Date.now(),mouse:r===!0,dir:!1}},move(o){if(l.event===void 0)return;if(l.event.dir!==!1){We(o);return}const r=Date.now()-l.event.time;if(r===0)return;const s=wi(o),u=s.left-l.event.x,d=Math.abs(u),v=s.top-l.event.y,y=Math.abs(v);if(l.event.mouse!==!0){if(d<l.sensitivity[1]&&y<l.sensitivity[1]){l.end(o);return}}else if(window.getSelection().toString()!==""){l.end(o);return}else if(d<l.sensitivity[2]&&y<l.sensitivity[2])return;const g=d/r,C=y/r;l.direction.vertical===!0&&d<y&&d<100&&C>l.sensitivity[0]&&(l.event.dir=v<0?"up":"down"),l.direction.horizontal===!0&&d>y&&y<100&&g>l.sensitivity[0]&&(l.event.dir=u<0?"left":"right"),l.direction.up===!0&&d<y&&v<0&&d<100&&C>l.sensitivity[0]&&(l.event.dir="up"),l.direction.down===!0&&d<y&&v>0&&d<100&&C>l.sensitivity[0]&&(l.event.dir="down"),l.direction.left===!0&&d>y&&u<0&&y<100&&g>l.sensitivity[0]&&(l.event.dir="left"),l.direction.right===!0&&d>y&&u>0&&y<100&&g>l.sensitivity[0]&&(l.event.dir="right"),l.event.dir!==!1?(We(o),l.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),wa(),l.styleCleanup=w=>{l.styleCleanup=void 0,document.body.classList.remove("non-selectable");const T=()=>{document.body.classList.remove("no-pointer-events--children")};w===!0?setTimeout(T,50):T()}),l.handler({evt:o,touch:l.event.mouse!==!0,mouse:l.event.mouse,direction:l.event.dir,duration:r,distance:{x:d,y}})):l.end(o)},end(o){l.event!==void 0&&(Mn(l,"temp"),Sn.is.firefox===!0&&ii(e,!1),l.styleCleanup!==void 0&&l.styleCleanup(!0),o!==void 0&&l.event.dir!==!1&&We(o),l.event=void 0)}};if(e.__qtouchswipe=l,a.mouse===!0){const o=a.mouseCapture===!0||a.mousecapture===!0?"Capture":"";jt(l,"main",[[e,"mousedown","mouseStart",`passive${o}`]])}Sn.has.touch===!0&&jt(l,"main",[[e,"touchstart","touchStart",`passive${a.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchswipe;n!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&n.end(),n.handler=t.value),n.direction=Wl(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(Mn(t,"main"),Mn(t,"temp"),Sn.is.firefox===!0&&ii(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchswipe)}});function gc(){const e=new Map;return{getCache:function(t,n){return e[t]===void 0?e[t]=n:e[t]},getCacheWithFn:function(t,n){return e[t]===void 0?e[t]=n():e[t]}}}const Wo={name:{required:!0},disable:Boolean},Ql={setup(e,{slots:t}){return()=>_("div",{class:"q-panel scroll",role:"tabpanel"},Ee(t.default))}},jo={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},Qo=["update:modelValue","beforeTransition","transition"];function Ko(){const{props:e,emit:t,proxy:n}=Fe(),{getCacheWithFn:a}=gc();let i,l;const o=Q(null),r=Q(null);function s(E){const le=e.vertical===!0?"up":"left";x((n.$q.lang.rtl===!0?-1:1)*(E.direction===le?1:-1))}const u=k(()=>[[mc,s,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),d=k(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),v=k(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),y=k(()=>`--q-transition-duration: ${e.transitionDuration}ms`),g=k(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),C=k(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),w=k(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);de(()=>e.modelValue,(E,le)=>{const ve=p(E)===!0?b(E):-1;l!==!0&&B(ve===-1?0:ve<b(le)?-1:1),o.value!==ve&&(o.value=ve,t("beforeTransition",E,le),dt(()=>{t("transition",E,le)}))});function T(){x(1)}function q(){x(-1)}function P(E){t("update:modelValue",E)}function p(E){return E!=null&&E!==""}function b(E){return i.findIndex(le=>le.props.name===E&&le.props.disable!==""&&le.props.disable!==!0)}function M(){return i.filter(E=>E.props.disable!==""&&E.props.disable!==!0)}function B(E){const le=E!==0&&e.animated===!0&&o.value!==-1?"q-transition--"+(E===-1?d.value:v.value):null;r.value!==le&&(r.value=le)}function x(E,le=o.value){let ve=le+E;for(;ve>-1&&ve<i.length;){const ke=i[ve];if(ke!==void 0&&ke.props.disable!==""&&ke.props.disable!==!0){B(E),l=!0,t("update:modelValue",ke.props.name),setTimeout(()=>{l=!1});return}ve+=E}e.infinite===!0&&i.length!==0&&le!==-1&&le!==i.length&&x(E,E===-1?i.length:-1)}function $(){const E=b(e.modelValue);return o.value!==E&&(o.value=E),!0}function G(){const E=p(e.modelValue)===!0&&$()&&i[o.value];return e.keepAlive===!0?[_(bs,C.value,[_(w.value===!0?a(g.value,()=>({...Ql,name:g.value})):Ql,{key:g.value,style:y.value},()=>E)])]:[_("div",{class:"q-panel scroll",style:y.value,key:g.value,role:"tabpanel"},[E])]}function Z(){if(i.length!==0)return e.animated===!0?[_(na,{name:r.value},G)]:G()}function ce(E){return i=uo(Ee(E.default,[])).filter(le=>le.props!==null&&le.props.slot===void 0&&p(le.props.name)===!0),i.length}function $e(){return i}return Object.assign(n,{next:T,previous:q,goTo:P}),{panelIndex:o,panelDirectives:u,updatePanelsList:ce,updatePanelIndex:$,getPanelContent:Z,getEnabledPanels:M,getPanels:$e,isValidPanelName:p,keepAliveProps:C,needsUniqueKeepAliveWrapper:w,goToPanelByOffset:x,goToPanel:P,nextPanel:T,previousPanel:q}}var vi=Se({name:"QTabPanel",props:Wo,setup(e,{slots:t}){return()=>_("div",{class:"q-tab-panel",role:"tabpanel"},Ee(t.default))}}),vc=Se({name:"QField",inheritAttrs:!1,props:Hi,emits:go,setup(){return vo(yo())}}),Go=Se({name:"QMenu",inheritAttrs:!1,props:{...wo,...Ri,...Vt,...Bi,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:Ta},self:{type:String,validator:Ta},offset:{type:Array,validator:To},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...Vi,"click","escapeKey"],setup(e,{slots:t,emit:n,attrs:a}){let i=null,l,o,r;const s=Fe(),{proxy:u}=s,{$q:d}=u,v=Q(null),y=Q(!1),g=k(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),C=Ft(e,d),{registerTick:w,removeTick:T}=Wn(),{registerTimeout:q}=pa(),{transitionProps:P,transitionStyle:p}=no(e),{localScrollTarget:b,changeScrollEvent:M,unconfigureScrollTarget:B}=ko(e,U),{anchorEl:x,canShow:$}=So({showing:y}),{hide:G}=Fi({showing:y,canShow:$,handleShow:N,handleHide:A,hideOnRouteChange:g,processOnMount:!0}),{showPortal:Z,hidePortal:ce,renderPortal:$e}=ao(s,v,Ve,"menu"),E={anchorEl:x,innerRef:v,onClickOutside(O){if(e.persistent!==!0&&y.value===!0)return G(O),(O.type==="touchstart"||O.target.classList.contains("q-dialog__backdrop"))&&We(O),!0}},le=k(()=>Ma(e.anchor||(e.cover===!0?"center middle":"bottom start"),d.lang.rtl)),ve=k(()=>e.cover===!0?le.value:Ma(e.self||"top start",d.lang.rtl)),ke=k(()=>(e.square===!0?" q-menu--square":"")+(C.value===!0?" q-menu--dark q-dark":"")),J=k(()=>e.autoClose===!0?{onClick:me}:{}),qe=k(()=>y.value===!0&&e.persistent!==!0);de(qe,O=>{O===!0?(ks(X),Co(E)):(Al(X),Ca(E))});function Be(){Cs(()=>{let O=v.value;O&&O.contains(document.activeElement)!==!0&&(O=O.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||O.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||O.querySelector("[autofocus], [data-autofocus]")||O,O.focus({preventScroll:!0}))})}function N(O){if(i=e.noRefocus===!1?document.activeElement:null,_s(be),Z(),U(),l=void 0,O!==void 0&&(e.touchPosition||e.contextMenu)){const Ne=wi(O);if(Ne.left!==void 0){const{top:St,left:xt}=x.value.getBoundingClientRect();l={left:Ne.left-xt,top:Ne.top-St}}}o===void 0&&(o=de(()=>d.screen.width+"|"+d.screen.height+"|"+e.self+"|"+e.anchor+"|"+d.lang.rtl,te)),e.noFocus!==!0&&document.activeElement.blur(),w(()=>{te(),e.noFocus!==!0&&Be()}),q(()=>{d.platform.is.ios===!0&&(r=e.autoClose,v.value.click()),te(),Z(!0),n("show",O)},e.transitionDuration)}function A(O){T(),ce(),H(!0),i!==null&&(O===void 0||O.qClickOutside!==!0)&&(((O&&O.type.indexOf("key")===0?i.closest('[tabindex]:not([tabindex^="-"])'):void 0)||i).focus(),i=null),q(()=>{ce(!0),n("hide",O)},e.transitionDuration)}function H(O){l=void 0,o!==void 0&&(o(),o=void 0),(O===!0||y.value===!0)&&(ws(be),B(),Ca(E),Al(X)),O!==!0&&(i=null)}function U(){(x.value!==null||e.scrollTarget!==void 0)&&(b.value=Ea(x.value,e.scrollTarget),M(b.value,te))}function me(O){r!==!0?(Ss(u,O),n("click",O)):r=!1}function be(O){qe.value===!0&&e.noFocus!==!0&&Ts(v.value,O.target)!==!0&&Be()}function X(O){n("escapeKey"),G(O)}function te(){zi({targetEl:v.value,offset:e.offset,anchorEl:x.value,anchorOrigin:le.value,selfOrigin:ve.value,absoluteOffset:l,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function Ve(){return _(na,P.value,()=>y.value===!0?_("div",{role:"menu",...a,ref:v,tabindex:-1,class:["q-menu q-position-engine scroll"+ke.value,a.class],style:[a.style,p.value],...J.value},Ee(t.default)):null)}return Ke(H),Object.assign(u,{focus:Be,updatePosition:te}),$e}});function Kl(e,t,n){if(n<=t)return t;const a=n-t+1;let i=t+(e-t)%a;return i<t&&(i=a+i),i===0?0:i}const Gl=e=>["add","add-unique","toggle"].includes(e),yc=".*+?^${}()|[]\\",pc=Object.keys(Hi);var bc=Se({name:"QSelect",inheritAttrs:!1,props:{...qo,...Ms,...Hi,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:Gl},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...go,"add","remove","inputValue","newValue","keyup","keypress","keydown","filterAbort"],setup(e,{slots:t,emit:n}){const{proxy:a}=Fe(),{$q:i}=a,l=Q(!1),o=Q(!1),r=Q(-1),s=Q(""),u=Q(!1),d=Q(!1);let v=null,y,g,C,w=null,T,q,P,p;const b=Q(null),M=Q(null),B=Q(null),x=Q(null),$=Q(null),G=qs(e),Z=$s(ql),ce=k(()=>Array.isArray(e.options)?e.options.length:0),$e=k(()=>e.virtualScrollItemSize===void 0?e.optionsDense===!0?24:48:e.virtualScrollItemSize),{virtualScrollSliceRange:E,virtualScrollSliceSizeComputed:le,localResetVirtualScroll:ve,padVirtualScroll:ke,onVirtualScrollEvt:J,scrollTo:qe,setVirtualScrollSize:Be}=Po({virtualScrollLength:ce,getVirtualScrollTarget:Hr,getVirtualScrollEl:Tl,virtualScrollItemSizeComputed:$e}),N=yo(),A=k(()=>{const h=e.mapOptions===!0&&e.multiple!==!0,F=e.modelValue!==void 0&&(e.modelValue!==null||h===!0)?e.multiple===!0&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue]:[];if(e.mapOptions===!0&&Array.isArray(e.options)===!0){const L=e.mapOptions===!0&&y!==void 0?y:[],ne=F.map(Me=>ti(Me,L));return e.modelValue===null&&h===!0?ne.filter(Me=>Me!==null):ne}return F}),H=k(()=>{const h={};return pc.forEach(F=>{const L=e[F];L!==void 0&&(h[F]=L)}),h}),U=k(()=>e.optionsDark===null?N.isDark.value:e.optionsDark),me=k(()=>Ol(A.value)),be=k(()=>{let h="q-field__input q-placeholder col";return e.hideSelected===!0||A.value.length===0?[h,e.inputClass]:(h+=" q-field__input--padding",e.inputClass===void 0?h:[h,e.inputClass])}),X=k(()=>(e.virtualScrollHorizontal===!0?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:"")),te=k(()=>ce.value===0),Ve=k(()=>A.value.map(h=>I.value(h)).join(", ")),O=k(()=>e.displayValue!==void 0?e.displayValue:Ve.value),Ne=k(()=>e.optionsHtml===!0?()=>!0:h=>h!=null&&h.html===!0),St=k(()=>e.displayValueHtml===!0||e.displayValue===void 0&&(e.optionsHtml===!0||A.value.some(Ne.value))),xt=k(()=>N.focused.value===!0?e.tabindex:-1),ut=k(()=>{const h={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-readonly":e.readonly===!0?"true":"false","aria-autocomplete":e.useInput===!0?"list":"none","aria-expanded":l.value===!0?"true":"false","aria-controls":`${N.targetUid.value}_lb`};return r.value>=0&&(h["aria-activedescendant"]=`${N.targetUid.value}_${r.value}`),h}),It=k(()=>({id:`${N.targetUid.value}_lb`,role:"listbox","aria-multiselectable":e.multiple===!0?"true":"false"})),kt=k(()=>A.value.map((h,F)=>({index:F,opt:h,html:Ne.value(h),selected:!0,removeAtIndex:ge,toggleOption:ze,tabindex:xt.value}))),Ht=k(()=>{if(ce.value===0)return[];const{from:h,to:F}=E.value;return e.options.slice(h,F).map((L,ne)=>{const Me=z.value(L)===!0,Ce=h+ne,Le={clickable:!0,active:!1,activeClass:gn.value,manualFocus:!0,focused:!1,disable:Me,tabindex:-1,dense:e.optionsDense,dark:U.value,role:"option",id:`${N.targetUid.value}_${Ce}`,onClick:()=>{ze(L)}};return Me!==!0&&(ct(L)===!0&&(Le.active=!0),r.value===Ce&&(Le.focused=!0),Le["aria-selected"]=Le.active===!0?"true":"false",i.platform.is.desktop===!0&&(Le.onMousemove=()=>{l.value===!0&&Ct(Ce)})),{index:Ce,opt:L,html:Ne.value(L),label:I.value(L),selected:Le.active,focused:Le.focused,toggleOption:ze,setOptionIndex:Ct,itemProps:Le}})}),mn=k(()=>e.dropdownIcon!==void 0?e.dropdownIcon:i.iconSet.arrow.dropdown),zt=k(()=>e.optionsCover===!1&&e.outlined!==!0&&e.standout!==!0&&e.borderless!==!0&&e.rounded!==!0),gn=k(()=>e.optionsSelectedClass!==void 0?e.optionsSelectedClass:e.color!==void 0?`text-${e.color}`:""),He=k(()=>en(e.optionValue,"value")),I=k(()=>en(e.optionLabel,"label")),z=k(()=>en(e.optionDisable,"disable")),ie=k(()=>A.value.map(h=>He.value(h))),Oe=k(()=>{const h={onInput:ql,onChange:Z,onKeydown:Cl,onKeyup:Sl,onKeypress:kl,onFocus:_l,onClick(F){g===!0&&on(F)}};return h.onCompositionstart=h.onCompositionupdate=h.onCompositionend=Z,h});de(A,h=>{y=h,e.useInput===!0&&e.fillInput===!0&&e.multiple!==!0&&N.innerLoading.value!==!0&&(o.value!==!0&&l.value!==!0||me.value!==!0)&&(C!==!0&&_n(),(o.value===!0||l.value===!0)&&yn(""))},{immediate:!0}),de(()=>e.fillInput,_n),de(l,ni),de(ce,ns);function xe(h){return e.emitValue===!0?He.value(h):h}function _e(h){if(h>-1&&h<A.value.length)if(e.multiple===!0){const F=e.modelValue.slice();n("remove",{index:h,value:F.splice(h,1)[0]}),n("update:modelValue",F)}else n("update:modelValue",null)}function ge(h){_e(h),N.focus()}function Ue(h,F){const L=xe(h);if(e.multiple!==!0){e.fillInput===!0&&Vn(I.value(h),!0,!0),n("update:modelValue",L);return}if(A.value.length===0){n("add",{index:0,value:L}),n("update:modelValue",e.multiple===!0?[L]:L);return}if(F===!0&&ct(h)===!0||e.maxValues!==void 0&&e.modelValue.length>=e.maxValues)return;const ne=e.modelValue.slice();n("add",{index:ne.length,value:L}),ne.push(L),n("update:modelValue",ne)}function ze(h,F){if(N.editable.value!==!0||h===void 0||z.value(h)===!0)return;const L=He.value(h);if(e.multiple!==!0){F!==!0&&(Vn(e.fillInput===!0?I.value(h):"",!0,!0),tn()),M.value!==null&&M.value.focus(),(A.value.length===0||kn(He.value(A.value[0]),L)!==!0)&&n("update:modelValue",e.emitValue===!0?L:h);return}if((g!==!0||u.value===!0)&&N.focus(),_l(),A.value.length===0){const Ce=e.emitValue===!0?L:h;n("add",{index:0,value:Ce}),n("update:modelValue",e.multiple===!0?[Ce]:Ce);return}const ne=e.modelValue.slice(),Me=ie.value.findIndex(Ce=>kn(Ce,L));if(Me>-1)n("remove",{index:Me,value:ne.splice(Me,1)[0]});else{if(e.maxValues!==void 0&&ne.length>=e.maxValues)return;const Ce=e.emitValue===!0?L:h;n("add",{index:ne.length,value:Ce}),ne.push(Ce)}n("update:modelValue",ne)}function Ct(h){if(i.platform.is.desktop!==!0)return;const F=h>-1&&h<ce.value?h:-1;r.value!==F&&(r.value=F)}function vn(h=1,F){if(l.value===!0){let L=r.value;do L=Kl(L+h,-1,ce.value-1);while(L!==-1&&L!==r.value&&z.value(e.options[L])===!0);r.value!==L&&(Ct(L),qe(L),F!==!0&&e.useInput===!0&&e.fillInput===!0&&ua(L>=0?I.value(e.options[L]):T))}}function ti(h,F){const L=ne=>kn(He.value(ne),h);return e.options.find(L)||F.find(L)||h}function en(h,F){const L=h!==void 0?h:F;return typeof L=="function"?L:ne=>ne!==null&&typeof ne=="object"&&L in ne?ne[L]:ne}function ct(h){const F=He.value(h);return ie.value.find(L=>kn(L,F))!==void 0}function _l(h){e.useInput===!0&&M.value!==null&&(h===void 0||M.value===h.target&&h.target.value===Ve.value)&&M.value.select()}function wl(h){ta(h,27)===!0&&l.value===!0&&(on(h),tn(),_n()),n("keyup",h)}function Sl(h){const{value:F}=h.target;if(h.keyCode!==void 0){wl(h);return}if(h.target.value="",v!==null&&(clearTimeout(v),v=null),_n(),typeof F=="string"&&F.length!==0){const L=F.toLocaleLowerCase(),ne=Ce=>{const Le=e.options.find(Je=>Ce.value(Je).toLocaleLowerCase()===L);return Le===void 0?!1:(A.value.indexOf(Le)===-1?ze(Le):tn(),!0)},Me=Ce=>{ne(He)!==!0&&(ne(I)===!0||Ce===!0||yn(F,!0,()=>Me(!0)))};Me()}else N.clearValue(h)}function kl(h){n("keypress",h)}function Cl(h){if(n("keydown",h),mo(h)===!0)return;const F=s.value.length!==0&&(e.newValueMode!==void 0||e.onNewValue!==void 0),L=h.shiftKey!==!0&&e.multiple!==!0&&(r.value>-1||F===!0);if(h.keyCode===27){zn(h);return}if(h.keyCode===9&&L===!1){pn();return}if(h.target===void 0||h.target.id!==N.targetUid.value||N.editable.value!==!0)return;if(h.keyCode===40&&N.innerLoading.value!==!0&&l.value===!1){We(h),bn();return}if(h.keyCode===8&&e.hideSelected!==!0&&s.value.length===0){e.multiple===!0&&Array.isArray(e.modelValue)===!0?_e(e.modelValue.length-1):e.multiple!==!0&&e.modelValue!==null&&n("update:modelValue",null);return}(h.keyCode===35||h.keyCode===36)&&(typeof s.value!="string"||s.value.length===0)&&(We(h),r.value=-1,vn(h.keyCode===36?1:-1,e.multiple)),(h.keyCode===33||h.keyCode===34)&&le.value!==void 0&&(We(h),r.value=Math.max(-1,Math.min(ce.value,r.value+(h.keyCode===33?-1:1)*le.value.view)),vn(h.keyCode===33?1:-1,e.multiple)),(h.keyCode===38||h.keyCode===40)&&(We(h),vn(h.keyCode===38?-1:1,e.multiple));const ne=ce.value;if((P===void 0||p<Date.now())&&(P=""),ne>0&&e.useInput!==!0&&h.key!==void 0&&h.key.length===1&&h.altKey===!1&&h.ctrlKey===!1&&h.metaKey===!1&&(h.keyCode!==32||P.length!==0)){l.value!==!0&&bn(h);const Me=h.key.toLocaleLowerCase(),Ce=P.length===1&&P[0]===Me;p=Date.now()+1500,Ce===!1&&(We(h),P+=Me);const Le=new RegExp("^"+P.split("").map(ai=>yc.indexOf(ai)>-1?"\\"+ai:ai).join(".*"),"i");let Je=r.value;if(Ce===!0||Je<0||Le.test(I.value(e.options[Je]))!==!0)do Je=Kl(Je+1,-1,ne-1);while(Je!==r.value&&(z.value(e.options[Je])===!0||Le.test(I.value(e.options[Je]))!==!0));r.value!==Je&&dt(()=>{Ct(Je),qe(Je),Je>=0&&e.useInput===!0&&e.fillInput===!0&&ua(I.value(e.options[Je]))});return}if(!(h.keyCode!==13&&(h.keyCode!==32||e.useInput===!0||P!=="")&&(h.keyCode!==9||L===!1))){if(h.keyCode!==9&&We(h),r.value>-1&&r.value<ne){ze(e.options[r.value]);return}if(F===!0){const Me=(Ce,Le)=>{if(Le){if(Gl(Le)!==!0)return}else Le=e.newValueMode;if(Ce==null)return;Vn("",e.multiple!==!0,!0),(Le==="toggle"?ze:Ue)(Ce,Le==="add-unique"),e.multiple!==!0&&(M.value!==null&&M.value.focus(),tn())};if(e.onNewValue!==void 0?n("newValue",s.value,Me):Me(s.value),e.multiple!==!0)return}l.value===!0?pn():N.innerLoading.value!==!0&&bn()}}function Tl(){return g===!0?$.value:B.value!==null&&B.value.contentEl!==null?B.value.contentEl:void 0}function Hr(){return Tl()}function zr(){return e.hideSelected===!0?[]:t["selected-item"]!==void 0?kt.value.map(h=>t["selected-item"](h)).slice():t.selected!==void 0?[].concat(t.selected()):e.useChips===!0?kt.value.map((h,F)=>_(aa,{key:"option-"+F,removable:N.editable.value===!0&&z.value(h.opt)!==!0,dense:!0,textColor:e.color,tabindex:xt.value,onRemove(){h.removeAtIndex(F)}},()=>_("span",{class:"ellipsis",[h.html===!0?"innerHTML":"textContent"]:I.value(h.opt)}))):[_("span",{[St.value===!0?"innerHTML":"textContent"]:O.value})]}function Ml(){if(te.value===!0)return t["no-option"]!==void 0?t["no-option"]({inputValue:s.value}):void 0;const h=t.option!==void 0?t.option:L=>_(nt,{key:L.index,...L.itemProps},()=>_(ae,()=>_(se,()=>_("span",{[L.html===!0?"innerHTML":"textContent"]:L.label}))));let F=ke("div",Ht.value.map(h));return t["before-options"]!==void 0&&(F=t["before-options"]().concat(F)),Ln(t["after-options"],F)}function Wr(h,F){const L=F===!0?{...ut.value,...N.splitAttrs.attributes.value}:void 0,ne={ref:F===!0?M:void 0,key:"i_t",class:be.value,style:e.inputStyle,value:s.value!==void 0?s.value:"",type:"search",...L,id:F===!0?N.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":h===!0||e.autofocus===!0||void 0,disabled:e.disable===!0,readonly:e.readonly===!0,...Oe.value};return h!==!0&&g===!0&&(Array.isArray(ne.class)===!0?ne.class=[...ne.class,"no-pointer-events"]:ne.class+=" no-pointer-events"),_("input",ne)}function ql(h){v!==null&&(clearTimeout(v),v=null),!(h&&h.target&&h.target.qComposing===!0)&&(ua(h.target.value||""),C=!0,T=s.value,N.focused.value!==!0&&(g!==!0||u.value===!0)&&N.focus(),e.onFilter!==void 0&&(v=setTimeout(()=>{v=null,yn(s.value)},e.inputDebounce)))}function ua(h){s.value!==h&&(s.value=h,n("inputValue",h))}function Vn(h,F,L){C=L!==!0,e.useInput===!0&&(ua(h),(F===!0||L!==!0)&&(T=h),F!==!0&&yn(h))}function yn(h,F,L){if(e.onFilter===void 0||F!==!0&&N.focused.value!==!0)return;N.innerLoading.value===!0?n("filterAbort"):(N.innerLoading.value=!0,d.value=!0),h!==""&&e.multiple!==!0&&A.value.length!==0&&C!==!0&&h===I.value(A.value[0])&&(h="");const ne=setTimeout(()=>{l.value===!0&&(l.value=!1)},10);w!==null&&clearTimeout(w),w=ne,n("filter",h,(Me,Ce)=>{(F===!0||N.focused.value===!0)&&w===ne&&(clearTimeout(w),typeof Me=="function"&&Me(),d.value=!1,dt(()=>{N.innerLoading.value=!1,N.editable.value===!0&&(F===!0?l.value===!0&&tn():l.value===!0?ni(!0):l.value=!0),typeof Ce=="function"&&dt(()=>{Ce(a)}),typeof L=="function"&&dt(()=>{L(a)})}))},()=>{N.focused.value===!0&&w===ne&&(clearTimeout(w),N.innerLoading.value=!1,d.value=!1),l.value===!0&&(l.value=!1)})}function jr(){return _(Go,{ref:B,class:X.value,style:e.popupContentStyle,modelValue:l.value,fit:e.menuShrink!==!0,cover:e.optionsCover===!0&&te.value!==!0&&e.useInput!==!0,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:U.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:zt.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...It.value,onScrollPassive:J,onBeforeShow:Dl,onBeforeHide:Qr,onShow:Kr},Ml)}function Qr(h){$l(h),pn()}function Kr(){Be()}function Gr(h){on(h),M.value!==null&&M.value.focus(),u.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function Zr(h){on(h),dt(()=>{u.value=!1})}function Jr(){const h=[_(vc,{class:`col-auto ${N.fieldClass.value}`,...H.value,for:N.targetUid.value,dark:U.value,square:!0,loading:d.value,itemAligned:!1,filled:!0,stackLabel:s.value.length!==0,...N.splitAttrs.listeners.value,onFocus:Gr,onBlur:Zr},{...t,rawControl:()=>N.getControl(!0),before:void 0,after:void 0})];return l.value===!0&&h.push(_("div",{ref:$,class:X.value+" scroll",style:e.popupContentStyle,...It.value,onClick:zn,onScrollPassive:J},Ml())),_(Si,{ref:x,modelValue:o.value,position:e.useInput===!0?"top":void 0,transitionShow:q,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:Dl,onBeforeHide:Xr,onHide:es,onShow:ts},()=>_("div",{class:"q-select__dialog"+(U.value===!0?" q-select__dialog--dark q-dark":"")+(u.value===!0?" q-select__dialog--focused":"")},h))}function Xr(h){$l(h),x.value!==null&&x.value.__updateRefocusTarget(N.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),N.focused.value=!1}function es(h){tn(),N.focused.value===!1&&n("blur",h),_n()}function ts(){const h=document.activeElement;(h===null||h.id!==N.targetUid.value)&&M.value!==null&&M.value!==h&&M.value.focus(),Be()}function pn(){o.value!==!0&&(r.value=-1,l.value===!0&&(l.value=!1),N.focused.value===!1&&(w!==null&&(clearTimeout(w),w=null),N.innerLoading.value===!0&&(n("filterAbort"),N.innerLoading.value=!1,d.value=!1)))}function bn(h){N.editable.value===!0&&(g===!0?(N.onControlFocusin(h),o.value=!0,dt(()=>{N.focus()})):N.focus(),e.onFilter!==void 0?yn(s.value):(te.value!==!0||t["no-option"]!==void 0)&&(l.value=!0))}function tn(){o.value=!1,pn()}function _n(){e.useInput===!0&&Vn(e.multiple!==!0&&e.fillInput===!0&&A.value.length!==0&&I.value(A.value[0])||"",!0,!0)}function ni(h){let F=-1;if(h===!0){if(A.value.length!==0){const L=He.value(A.value[0]);F=e.options.findIndex(ne=>kn(He.value(ne),L))}ve(F)}Ct(F)}function ns(h,F){l.value===!0&&N.innerLoading.value===!1&&(ve(-1,!0),dt(()=>{l.value===!0&&N.innerLoading.value===!1&&(h>F?ve():ni(!0))}))}function Pl(){o.value===!1&&B.value!==null&&B.value.updatePosition()}function Dl(h){h!==void 0&&on(h),n("popupShow",h),N.hasPopupOpen=!0,N.onControlFocusin(h)}function $l(h){h!==void 0&&on(h),n("popupHide",h),N.hasPopupOpen=!1,N.onControlFocusout(h)}function xl(){g=i.platform.is.mobile!==!0&&e.behavior!=="dialog"?!1:e.behavior!=="menu"&&(e.useInput===!0?t["no-option"]!==void 0||e.onFilter!==void 0||te.value===!1:!0),q=i.platform.is.ios===!0&&g===!0&&e.useInput===!0?"fade":e.transitionShow}return Ps(xl),Ds(Pl),xl(),Ke(()=>{v!==null&&clearTimeout(v)}),Object.assign(a,{showPopup:bn,hidePopup:tn,removeAtIndex:_e,add:Ue,toggleOption:ze,getOptionIndex:()=>r.value,setOptionIndex:Ct,moveOptionSelection:vn,filter:yn,updateMenuPosition:Pl,updateInputValue:Vn,isOptionSelected:ct,getEmittingOptionValue:xe,isOptionDisabled:(...h)=>z.value.apply(null,h)===!0,getOptionValue:(...h)=>He.value.apply(null,h),getOptionLabel:(...h)=>I.value.apply(null,h)}),Object.assign(N,{innerValue:A,fieldClass:k(()=>`q-select q-field--auto-height q-select--with${e.useInput!==!0?"out":""}-input q-select--with${e.useChips!==!0?"out":""}-chips q-select--${e.multiple===!0?"multiple":"single"}`),inputRef:b,targetRef:M,hasValue:me,showPopup:bn,floatingLabel:k(()=>e.hideSelected!==!0&&me.value===!0||typeof s.value=="number"||s.value.length!==0||Ol(e.displayValue)),getControlChild:()=>{if(N.editable.value!==!1&&(o.value===!0||te.value!==!0||t["no-option"]!==void 0))return g===!0?Jr():jr();N.hasPopupOpen===!0&&(N.hasPopupOpen=!1)},controlEvents:{onFocusin(h){N.onControlFocusin(h)},onFocusout(h){N.onControlFocusout(h,()=>{_n(),pn()})},onClick(h){if(zn(h),g!==!0&&l.value===!0){pn(),M.value!==null&&M.value.focus();return}bn(h)}},getControl:h=>{const F=zr(),L=h===!0||o.value!==!0||g!==!0;if(e.useInput===!0)F.push(Wr(h,L));else if(N.editable.value===!0){const Me=L===!0?ut.value:void 0;F.push(_("input",{ref:L===!0?M:void 0,key:"d_t",class:"q-select__focus-target",id:L===!0?N.targetUid.value:void 0,value:O.value,readonly:!0,"data-autofocus":h===!0||e.autofocus===!0||void 0,...Me,onKeydown:Cl,onKeyup:wl,onKeypress:kl})),L===!0&&typeof e.autocomplete=="string"&&e.autocomplete.length!==0&&F.push(_("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,tabindex:-1,onKeyup:Sl}))}if(G.value!==void 0&&e.disable!==!0&&ie.value.length!==0){const Me=ie.value.map(Ce=>_("option",{value:Ce,selected:!0}));F.push(_("select",{class:"hidden",name:G.value,multiple:e.multiple},Me))}const ne=e.useInput===!0||L!==!0?void 0:N.splitAttrs.attributes.value;return _("div",{class:"q-field__native row items-center",...ne,...N.splitAttrs.listeners.value},F)},getInnerAppend:()=>e.loading!==!0&&d.value!==!0&&e.hideDropdownIcon!==!0?[_(je,{class:"q-select__dropdown-icon"+(l.value===!0?" rotate-180":""),name:mn.value})]:null}),vo(N)}}),_c=Se({name:"QTabPanels",props:{...jo,...Vt},emits:Qo,setup(e,{slots:t}){const n=Fe(),a=Ft(e,n.proxy.$q),{updatePanelsList:i,getPanelContent:l,panelDirectives:o}=Ko(),r=k(()=>"q-tab-panels q-panel-parent"+(a.value===!0?" q-tab-panels--dark q-dark":""));return()=>(i(t),Yi("div",{class:r.value},l(),"pan",e.swipeable,()=>o.value))}});const wc=ot({name:"EssentialLink",props:["merchants","relays","config-ui","read-notes"],data:function(){return{tab:"merchants",merchantPubkey:null,relayUrl:null,configData:{identifier:null,name:null,about:null,ui:{picture:null,banner:null,theme:null,darkMode:!1}},themeOptions:["classic","bitcoin","flamingo","cyber","freedom","mint","autumn","monochrome","salvador"]}},methods:{addMerchant:async function(){if(!isValidKey(this.merchantPubkey,"npub")){$q.notify({message:"Invalid Public Key!",type:"warning"});return}const e=isValidKeyHex(this.merchantPubkey)?this.merchantPubkey:NostrTools.nip19.decode(this.merchantPubkey).data;this.$emit("add-merchant",e),this.merchantPubkey=null},removeMerchant:async function(e){this.$emit("remove-merchant",e)},addRelay:async function(){const e=(this.relayUrl||"").trim();if(!e.startsWith("wss://")&&!e.startsWith("ws://")){this.relayUrl=null,$q.notify({timeout:5e3,type:"warning",message:"Invalid relay URL.",caption:"Should start with 'wss://'' or 'ws://'"});return}try{new URL(e),this.$emit("add-relay",e)}catch(t){$q.notify({timeout:5e3,type:"warning",message:"Invalid relay URL.",caption:`Error: ${t}`})}this.relayUrl=null},removeRelay:async function(e){this.$emit("remove-relay",e)},updateUiConfig:function(){setTimeout(()=>{const{name:e,about:t,ui:n}=this.configData;this.$emit("ui-config-update",{name:e,about:t,ui:n})},100)},publishNaddr(){this.$emit("publish-naddr")},clearAllData(){this.$emit("clear-all-data")},markNoteAsRead(e){this.$emit("note-read",e)}},created:async function(){this.configUi&&(this.configData={...this.configData,...this.configUi,ui:{...this.configData.ui,...this.configUi.ui||{}}})}}),Sc={class:"q-pt-md"},kc={class:"q-gutter-y-md"},Cc={class:"q-pa-md"},Tc={class:"q-gutter-y-md"},Mc=m("strong",null,"Note",-1),qc=m("div",{class:"text-caption"},[m("ul",null,[m("li",null,[m("span",{class:"text-subtitle1"}," Here all the mercants of the marketplace are listed. ")]),m("li",null,[m("span",{class:"text-subtitle1"}," You can easily add a new merchant by entering its public key in the input below. ")]),m("li",null,[m("span",{class:"text-subtitle1"}," When a merchant is added all its products and stalls will be available in the Market page. ")])])],-1),Pc=["src"],Dc=["src"],$c={class:"text-caption text-grey ellipsis-2-lines"},xc=m("strong",null,"Note",-1),Ic=m("div",{class:"text-caption"},[m("ul",null,[m("li",null,[m("span",{class:"text-subtitle1"}," Here one can customize the look and feel of the Market. ")]),m("li",null,[m("span",{class:"text-subtitle1"},[oe(" When the Market Profile is shared (via "),m("code",null,"naddr"),oe(" ) these customisations will be available to the customers. ")])])])],-1),Ac=m("div",{class:"q-mb-md"},[m("strong",null,"Information")],-1),Oc=m("div",{class:"q-mb-md q-mt-lg"},[m("strong",null,"UI Configurations")],-1),Ec=m("div",{class:"lt-md q-mt-lg"},null,-1),Nc={class:"float-right"};function Lc(e,t,n,a,i,l){return S(),j(lt,null,{default:f(()=>[c(we,null,{default:f(()=>[m("div",Sc,[m("div",kc,[c(cc,{modelValue:e.tab,"onUpdate:modelValue":t[3]||(t[3]=o=>e.tab=o),"active-color":"primary",align:"justify"},{default:f(()=>[c(gi,{name:"merchants",label:"Merchants",onUpdate:t[0]||(t[0]=o=>e.tab=o.name)}),c(gi,{name:"relays",label:"Relays",onUpdate:t[1]||(t[1]=o=>e.tab=o.name)}),c(gi,{name:"marketplace",label:"Look And Feel",onUpdate:t[2]||(t[2]=o=>e.tab=o.name)})]),_:1},8,["modelValue"])])])]),_:1}),c(Ae),c(we,null,{default:f(()=>[m("div",Cc,[m("div",Tc,[c(_c,{modelValue:e.tab,"onUpdate:modelValue":t[14]||(t[14]=o=>e.tab=o)},{default:f(()=>[c(vi,{name:"merchants"},{default:f(()=>{var o;return[(o=e.readNotes)!=null&&o.merchants?fe("",!0):(S(),j(Qt,{key:0,class:"q-mb-lg",bordered:""},{default:f(()=>[c(nt,null,{default:f(()=>[c(ae,{avatar:""},{default:f(()=>[c(vt,null,{default:f(()=>[c(je,{color:"primary",name:"info",size:"xl"})]),_:1})]),_:1}),c(ae,{class:"q-mt-sm q-ml-lg"},{default:f(()=>[c(se,null,{default:f(()=>[Mc]),_:1}),c(se,null,{default:f(()=>[qc]),_:1})]),_:1}),c(ae,{side:""},{default:f(()=>[c(ee,{onClick:t[4]||(t[4]=r=>e.markNoteAsRead("merchants")),size:"lg",outline:"",color:"primary",label:"Got it!",icon:"check_small"})]),_:1})]),_:1})]),_:1})),m("div",null,[c(Xe,{outlined:"",modelValue:e.merchantPubkey,"onUpdate:modelValue":t[5]||(t[5]=r=>e.merchantPubkey=r),onKeydown:ki(e.addMerchant,["enter"]),type:"text",label:"Pubkey/Npub",hint:"Add merchants"},{default:f(()=>[c(ee,{onClick:e.addMerchant,dense:"",flat:"",icon:"add"},null,8,["onClick"])]),_:1},8,["modelValue","onKeydown"]),c(Qt,{class:"q-mt-md"},{default:f(()=>[(S(!0),V(et,null,at(e.merchants,({publicKey:r,profile:s})=>(S(),j(nt,{key:r},{default:f(()=>[c(ae,{avatar:""},{default:f(()=>[c(vt,null,{default:f(()=>[s!=null&&s.picture?(S(),V("img",{key:0,src:s.picture},null,8,Pc)):(S(),V("img",{key:1,src:e.$q.config.staticPath+"/images/blank-avatar.webp"},null,8,Dc))]),_:2},1024)]),_:2},1024),c(ae,{class:"q-mt-sm"},{default:f(()=>[c(se,null,{default:f(()=>[m("strong",null,W(s==null?void 0:s.name),1)]),_:2},1024),c(se,null,{default:f(()=>[m("div",$c,[m("p",null,W(r),1)])]),_:2},1024),c(Tt,null,{default:f(()=>[oe(W(r),1)]),_:2},1024)]),_:2},1024),c(ae,{side:""},{default:f(()=>[c(ee,{size:"12px",flat:"",dense:"",round:"",icon:"delete",onClick:u=>e.removeMerchant(r)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]}),_:1}),c(vi,{name:"relays"},{default:f(()=>[m("div",null,[m("div",null,[c(Xe,{outlined:"",modelValue:e.relayUrl,"onUpdate:modelValue":t[6]||(t[6]=o=>e.relayUrl=o),onKeydown:ki(e.addRelay,["enter"]),type:"text",label:"wss://",hint:"Add realays"},{default:f(()=>[c(ee,{onClick:e.addRelay,dense:"",flat:"",icon:"add"},null,8,["onClick"])]),_:1},8,["modelValue","onKeydown"]),c(Qt,{class:"q-mt-md"},{default:f(()=>[(S(!0),V(et,null,at(e.relays,o=>(S(),j(nt,{key:o},{default:f(()=>[c(ae,{avatar:""},{default:f(()=>[c(vt,null,{default:f(()=>[c(je,{name:"router"})]),_:1})]),_:1}),c(ae,{class:"q-mt-sm"},{default:f(()=>[c(se,null,{default:f(()=>[m("strong",null,W(o),1)]),_:2},1024)]),_:2},1024),c(ae,{side:""},{default:f(()=>[c(ee,{size:"12px",flat:"",dense:"",round:"",icon:"delete",onClick:r=>e.removeRelay(o)},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))]),_:1})])])]),_:1}),c(vi,{name:"marketplace"},{default:f(()=>{var o;return[(o=e.readNotes)!=null&&o.marketUi?fe("",!0):(S(),j(Qt,{key:0,class:"q-mb-lg gt-sm",bordered:""},{default:f(()=>[c(nt,null,{default:f(()=>[c(ae,{avatar:""},{default:f(()=>[c(vt,null,{default:f(()=>[c(je,{color:"primary",name:"info",size:"xl"})]),_:1})]),_:1}),c(ae,{class:"q-mt-sm q-ml-lg"},{default:f(()=>[c(se,null,{default:f(()=>[xc]),_:1}),c(se,null,{default:f(()=>[Ic]),_:1})]),_:1}),c(ae,{side:""},{default:f(()=>[c(ee,{onClick:t[7]||(t[7]=r=>e.markNoteAsRead("marketUi")),size:"lg",outline:"",color:"primary",label:"Got it!",icon:"check_small"})]),_:1})]),_:1})]),_:1})),Ac,c(Xe,{onChange:e.updateUiConfig,outlined:"",modelValue:e.configData.name,"onUpdate:modelValue":t[8]||(t[8]=r=>e.configData.name=r),type:"text",label:"Market Name",hint:"Short name for the market",class:"q-mb-md"},null,8,["onChange","modelValue"]),c(Xe,{onChange:e.updateUiConfig,outlined:"",modelValue:e.configData.about,"onUpdate:modelValue":t[9]||(t[9]=r=>e.configData.about=r),type:"textarea",rows:"3",label:"Marketplace Description",hint:"It will be displayed on top of the banner image. Can be a longer text.",class:"q-mb-lg"},null,8,["onChange","modelValue"]),Oc,c(Xe,{onChange:e.updateUiConfig,outlined:"",modelValue:e.configData.ui.picture,"onUpdate:modelValue":t[10]||(t[10]=r=>e.configData.ui.picture=r),type:"text",label:"Logo",hint:"It will be displayed next to the search input. Can be png, jpg, ico, gif, svg.",class:"q-mb-md"},null,8,["onChange","modelValue"]),c(Xe,{onChange:e.updateUiConfig,outlined:"",modelValue:e.configData.ui.banner,"onUpdate:modelValue":t[11]||(t[11]=r=>e.configData.ui.banner=r),type:"text",label:"Banner",hint:"It represents the visual identity of the market. Can be png, jpg, ico, gif, svg.",class:"q-mb-md"},null,8,["onChange","modelValue"]),c(bc,{onInput:e.updateUiConfig,"onUpdate:modelValue":[e.updateUiConfig,t[12]||(t[12]=r=>e.configData.ui.theme=r)],filled:"",modelValue:e.configData.ui.theme,hint:"The colors of the market will vary based on the theme. It applies to all components (buttons, labels, inputs, etc)",options:e.themeOptions,label:"Marketplace Theme"},null,8,["onInput","onUpdate:modelValue","modelValue","options"]),Ec,c(po,{onInput:e.updateUiConfig,onClick:e.updateUiConfig,modelValue:e.configData.ui.darkMode,"onUpdate:modelValue":t[13]||(t[13]=r=>e.configData.ui.darkMode=r),label:"Dark Mode",size:"sm",class:"q-mt-sm"},null,8,["onInput","onClick","modelValue"])]}),_:1})]),_:1},8,["modelValue"])])])]),_:1}),c(Ae),c(we,null,{default:f(()=>[m("div",Nc,[c(ee,{onClick:e.clearAllData,flat:"",label:"Clear All Data",icon:"delete",class:"q-ml-lg",color:"negative"},null,8,["onClick"]),c(ee,{onClick:e.publishNaddr,flat:"",label:"Share Market Profile",icon:"share",class:"q-ml-lg",color:"primary"},null,8,["onClick"])])]),_:1}),c(we,{class:"lt-md"}),c(we)]),_:1})}var Zo=_t(wc,[["render",Lc]]);const Rc=ot({name:"UserConfig",props:["account"],data:function(){return{}},methods:{logout:async function(){this.$q.dialog(confirm("Please make sure you save your private key! You will not be able to recover it later!")).onOk(async()=>{this.$emit("logout")})},copyText(e){this.$emit("copy-text",e)}},created:async function(){}}),Bc={class:"row"},Vc={class:"col-10"},Fc={class:"col-2 auto-width"},Yc={class:"row"},Uc={class:"col-10"},Hc={class:"col-2 auto-width"},zc={key:0,class:"float-right"},Wc={key:1},jc=m("strong",null,"No Account",-1),Qc=[jc];function Kc(e,t,n,a,i,l){const o=xs("value");return S(),j(lt,null,{default:f(()=>[e.account?(S(),j(we,{key:0},{default:f(()=>[m("div",Bc,[m("div",Vc,[dn((S(),j(Xe,{readonly:"",disbled:"",outlined:"",hint:e.account.pubkey,type:"text",label:"Public Key",class:"q-mb-md"},{append:f(()=>[c(ee,{onClick:t[0]||(t[0]=r=>e.copyText(e.account.npub)),icon:"content_copy",label:"Npub",flat:"",color:"gray float-right q-mt-sm"})]),_:1},8,["hint"])),[[o,e.account.npub]])]),m("div",Fc,[c(ee,{onClick:t[1]||(t[1]=r=>e.copyText(e.account.pubkey)),icon:"content_copy",label:"Hex",flat:"",color:"gray float-right q-mt-sm"})])]),m("div",Yc,[m("div",Uc,[dn((S(),j(Xe,{readonly:"",disbled:"",outlined:"",type:"password",label:"Private Key",class:"q-mb-md"},{append:f(()=>[c(ee,{onClick:t[2]||(t[2]=r=>e.copyText(e.account.nsec)),icon:"content_copy",label:"Nsec",flat:"",color:"gray float-right q-mt-sm"})]),_:1})),[[o,e.account.nsec]])]),m("div",Hc,[c(ee,{onClick:t[3]||(t[3]=r=>e.copyText(e.account.privkey)),icon:"content_copy",label:"Hex",flat:"",color:"gray float-right q-mt-sm"})])])]),_:1})):fe("",!0),c(Ae),c(we,null,{default:f(()=>[e.account?(S(),V("div",zc,[c(ee,{onClick:e.logout,flat:"",label:"Logout",icon:"logout",class:"q-ml-lg",color:"primary"},null,8,["onClick"])])):(S(),V("div",Wc,Qc))]),_:1}),c(we)]),_:1})}var Gc=_t(Rc,[["render",Kc]]);const Zc=ot({name:"UserChat",props:["user"],data:function(){return{}},methods:{},created:async function(){}}),Jc=m("div",{class:"q-pa-md"},[m("div",{class:"q-gutter-y-md"}," User Chat ")],-1);function Xc(e,t,n,a,i,l){return S(),j(lt,null,{default:f(()=>[Jc]),_:1})}var ed=_t(Zc,[["render",Xc]]);const td=ot({name:"ShoppingCartList",props:["carts"],data:function(){return{}},computed:{},methods:{formatCurrency:function(e,t){return formatCurrency(e,t)},cartTotalFormatted(e){var n;if(!((n=e.products)!=null&&n.length))return"";const t=e.products.reduce((a,i)=>i.price+a,0);return formatCurrency(t,e.products[0].currency)},removeProduct:function(e,t){this.$emit("remove-from-cart",{stallId:e,productId:t})},removeCart:function(e){this.$emit("remove-cart",e)},quantityChanged:function(e){this.$emit("add-to-cart",e)},proceedToCheckout:function(e){this.$emit("checkout-cart",e)}},created(){}}),nd=m("strong",null,"No products in cart!",-1),ad=["src"],id=["src"],ld=["textContent"],od=["textContent"],rd=["src"],sd=["src"],ud={class:"text-caption text-grey ellipsis-2-lines"},cd={class:"q-ma-md"};function dd(e,t,n,a,i,l){var o;return S(),V("div",null,[(o=e.carts)!=null&&o.length?fe("",!0):(S(),j(lt,{key:0,bordered:"",class:"q-mb-md"},{default:f(()=>[c(we,null,{default:f(()=>[nd]),_:1})]),_:1})),(S(!0),V(et,null,at(e.carts,r=>(S(),V("div",{key:r.id},[c(lt,{bordered:"",class:"q-mb-md"},{default:f(()=>[c(nt,null,{default:f(()=>[c(ae,{avatar:""},{default:f(()=>[c(vt,null,{default:f(()=>{var s,u,d,v;return[(u=(s=r.merchant)==null?void 0:s.profile)!=null&&u.picture?(S(),V("img",{key:0,src:(v=(d=r.merchant)==null?void 0:d.profile)==null?void 0:v.picture},null,8,ad)):(S(),V("img",{key:1,src:e.$q.config.staticPath+"/images/blank-avatar.webp"},null,8,id))]}),_:2},1024)]),_:2},1024),c(ae,null,{default:f(()=>[c(se,null,{default:f(()=>{var s;return[m("strong",null,[m("span",{textContent:W((s=r.products[0])==null?void 0:s.stallName)},null,8,ld)])]}),_:2},1024),c(se,{caption:""},{default:f(()=>{var s,u,d;return[oe(" By "),m("span",{class:"ellipsis-2-lines text-wrap",textContent:W(((u=(s=r.merchant)==null?void 0:s.profile)==null?void 0:u.name)||((d=r.merchant)==null?void 0:d.publicKey))},null,8,od)]}),_:2},1024)]),_:2},1024),c(ae,{side:""},{default:f(()=>[m("div",null,[c(ee,{onClick:s=>e.removeCart(r.id),flat:"",color:"pink"},{default:f(()=>[oe(" Clear Cart ")]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024),c(Ae),c(we,{horizontal:""},{default:f(()=>[c(we,{class:"col-12"},{default:f(()=>[c(Qt,{class:"q-mt-md"},{default:f(()=>[(S(!0),V(et,null,at(r.products,s=>(S(),j(nt,{key:s.id},{default:f(()=>[c(ae,{avatar:""},{default:f(()=>[c(vt,null,{default:f(()=>[s.images[0]||s.image?(S(),V("img",{key:0,src:s.images[0]||s.image},null,8,rd)):(S(),V("img",{key:1,src:e.$q.config.staticPath+"/images/placeholder.png"},null,8,sd))]),_:2},1024)]),_:2},1024),c(ae,{class:"q-mt-sm"},{default:f(()=>[c(se,null,{default:f(()=>[oe(W(s.name),1)]),_:2},1024),c(se,{class:"gt-sm"},{default:f(()=>[m("div",ud,[m("p",null,W(s.description),1)])]),_:2},1024)]),_:2},1024),c(ae,{class:"q-mt-sm gt-sm"},{default:f(()=>[c(se,null,{default:f(()=>[m("strong",null,W(e.formatCurrency(s.price,s.currency)),1)]),_:2},1024),c(se)]),_:2},1024),c(ae,{class:"q-ma-sm"},{default:f(()=>[c(Xe,{modelValue:s.orderedQuantity,"onUpdate:modelValue":u=>s.orderedQuantity=u,modelModifiers:{number:!0},onChange:u=>e.quantityChanged(s),type:"number",rounded:"",outlined:"",min:"1",max:s.quantity},null,8,["modelValue","onUpdate:modelValue","onChange","max"])]),_:2},1024),c(ae,null,{default:f(()=>[c(se,null,{default:f(()=>[m("strong",null,W(e.formatCurrency(s.price*s.orderedQuantity,s.currency)),1)]),_:2},1024)]),_:2},1024),c(ae,{side:""},{default:f(()=>[m("div",null,[c(ee,{flat:"",dense:"",round:"",icon:"delete",onClick:u=>e.removeProduct(s.stall_id,s.id)},null,8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024),c(Ae),c(In,{align:"right"},{default:f(()=>[oe(" Total: "),m("strong",cd,W(e.cartTotalFormatted(r)),1),c(ee,{onClick:s=>e.proceedToCheckout(r),flat:"",color:"primary"},{default:f(()=>[oe(" Proceed to Checkout ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))])}var fd=_t(td,[["render",dd]]),hd=Se({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const n=k(()=>{const a=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(i=>e[i]===!0).map(i=>`q-btn-group--${i}`).join(" ");return`q-btn-group row no-wrap${a.length!==0?" "+a:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>_("div",{class:n.value},Ee(t.default))}});const md=Object.keys(bo),gd=e=>md.reduce((t,n)=>{const a=e[n];return a!==void 0&&(t[n]=a),t},{});var vd=Se({name:"QBtnDropdown",props:{...bo,...Bi,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:n}){const{proxy:a}=Fe(),i=Q(e.modelValue),l=Q(null),o=_a(),r=k(()=>{const b={"aria-expanded":i.value===!0?"true":"false","aria-haspopup":"true","aria-controls":o,"aria-label":e.toggleAriaLabel||a.$q.lang.label[i.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(b["aria-disabled"]="true"),b}),s=k(()=>"q-btn-dropdown__arrow"+(i.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),u=k(()=>Is(e)),d=k(()=>gd(e));de(()=>e.modelValue,b=>{l.value!==null&&l.value[b?"show":"hide"]()}),de(()=>e.split,p);function v(b){i.value=!0,n("beforeShow",b)}function y(b){n("show",b),n("update:modelValue",!0)}function g(b){i.value=!1,n("beforeHide",b)}function C(b){n("hide",b),n("update:modelValue",!1)}function w(b){n("click",b)}function T(b){on(b),p(),n("click",b)}function q(b){l.value!==null&&l.value.toggle(b)}function P(b){l.value!==null&&l.value.show(b)}function p(b){l.value!==null&&l.value.hide(b)}return Object.assign(a,{show:P,hide:p,toggle:q}),fn(()=>{e.modelValue===!0&&P()}),()=>{const b=[_(je,{class:s.value,name:e.dropdownIcon||a.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&b.push(_(Go,{ref:l,id:o,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:v,onShow:y,onBeforeHide:g,onHide:C},t.default)),e.split===!1?_(ee,{class:"q-btn-dropdown q-btn-dropdown--simple",...d.value,...r.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:w},{default:()=>Ee(t.label,[]).concat(b),loading:t.loading}):_(hd,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...u.value,glossy:e.glossy,stretch:e.stretch},()=>[_(ee,{class:"q-btn-dropdown--current",...d.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:T},{default:t.label,loading:t.loading}),_(ee,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...r.value,...u.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>b)])}}});const yd=ot({name:"ShoppingCartCheckout",props:["cart","stall","customer-pubkey"],data:function(){return{orderConfirmed:!1,paymentMethod:"ln",shippingZone:null,contactData:{email:null,npub:null,address:null,message:null},paymentOptions:[{label:"Lightning Network",value:"ln"},{label:"BTC Onchain",value:"btc"},{label:"Cashu",value:"cashu"}]}},computed:{cartTotal(){var e;return(e=this.cart.products)!=null&&e.length?this.cart.products.reduce((t,n)=>n.price+t,0):0},cartTotalWithShipping(){return this.shippingZone?this.cartTotal+this.shippingZone.cost:this.cartTotal},shippingZoneLabel(){var t;if(!this.shippingZone)return"Shipping Zone";const e=this.shippingZone.name.substring(0,10);return((t=this.shippingZone)==null?void 0:t.name.length)<10?e:e+"..."}},methods:{formatCurrency:function(e,t){return formatCurrency(e,t)},selectShippingZone:function(e){this.shippingZone=e},confirmOrder:function(){if(!this.shippingZone){this.$q.notify({timeout:5e3,type:"warning",message:"Please select a shipping zone!"});return}this.orderConfirmed=!0},async placeOrder(){if(!this.shippingZone){this.$q.notify({timeout:5e3,type:"warning",message:"Please select a shipping zone!"});return}if(!this.customerPubkey){this.$emit("login-required");return}const e={address:this.contactData.address,message:this.contactData.message,contact:{nostr:this.contactData.npub,email:this.contactData.email},items:Array.from(this.cart.products,a=>({product_id:a.id,quantity:a.orderedQuantity})),shipping_id:this.shippingZone.id,type:0},t=Math.floor(Date.now()/1e3);e.id=await hash([this.customerPubkey,t,JSON.stringify(e)].join(":"));const n={...await NostrTools.getBlankEvent(),kind:4,created_at:t,tags:[["p",this.stall.pubkey]],pubkey:this.customerPubkey};this.$emit("place-order",{event:n,order:e,cartId:this.cart.id})},goToShoppingCart:function(){this.$emit("change-page","shopping-cart-list")}},created(){var e;((e=this.stall.shipping)==null?void 0:e.length)===1&&(this.shippingZone=this.stall.shipping[0])}}),pd=["src"],bd=["src"],_d=["textContent"],wd=["textContent"],Sd={class:"row q-mt-md q-ml-md q-pr-md"},kd=m("div",{class:"col-xs-12 col-sm-12 col-md-2 q-mt-md"},[m("strong",null,"Message:")],-1),Cd={class:"col-xs-12 col-sm-12 col-md-10"},Td={class:"row q-mt-md q-ml-md q-pr-md"},Md=m("div",{class:"col-xs-12 col-sm-12 col-md-2 q-mt-md"},[m("strong",null,"Address:")],-1),qd={class:"col-xs-12 col-sm-12 col-md-10"},Pd={class:"row q-mt-md q-ml-md q-pr-md"},Dd=m("div",{class:"col-xs-12 col-sm-12 col-md-2 q-mt-md"},[m("strong",null,"Email:")],-1),$d={class:"col-xs-12 col-sm-12 col-md-10"},xd={class:"row q-mt-md q-ml-md q-pr-md"},Id=m("div",{class:"col-xs-12 col-sm-12 col-md-2 q-mt-md"},[m("strong",null,"Npub:")],-1),Ad={class:"col-xs-12 col-sm-12 col-md-10"},Od={class:"row q-mt-md"},Ed=m("div",{class:"col-xs-12 col-sm-12 col-md-4"},[m("strong",null,"Subtotal:")],-1),Nd={class:"col-xs-12 col-sm-12 col-md-4"},Ld=m("div",{class:"col-xs-12 col-sm-12 col-md-4"},null,-1),Rd={class:"row q-mt-md"},Bd=m("div",{class:"col-xs-12 col-sm-12 col-md-4"},[m("strong",null,"Shipping:")],-1),Vd={class:"col-xs-12 col-sm-12 col-md-4"},Fd={key:0},Yd={class:"col-xs-12 col-sm-12 col-md-4"},Ud=["textContent"],Hd=["textContent"],zd={class:"row q-mt-md"},Wd=m("div",{class:"col-xs-12 col-sm-12 col-md-4"},[m("strong",null,"Total:")],-1),jd={class:"col-xs-12 col-sm-12 col-md-4"},Qd=m("div",{class:"col-xs-12 col-sm-12 col-md-4"},null,-1),Kd=m("strong",null,"Payment Method",-1),Gd={key:0},Zd={key:1};function Jd(e,t,n,a,i,l){return S(),V("div",null,[e.cart&&e.stall?(S(),j(lt,{key:0,bordered:"",class:"q-mb-md"},{default:f(()=>[c(nt,null,{default:f(()=>[c(ae,{avatar:""},{default:f(()=>[c(vt,null,{default:f(()=>{var o,r,s,u;return[(r=(o=e.cart.merchant)==null?void 0:o.profile)!=null&&r.picture?(S(),V("img",{key:0,src:(u=(s=e.cart.merchant)==null?void 0:s.profile)==null?void 0:u.picture},null,8,pd)):(S(),V("img",{key:1,src:e.$q.config.staticPath+"/images/blank-avatar.webp"},null,8,bd))]}),_:1})]),_:1}),c(ae,null,{default:f(()=>[c(se,null,{default:f(()=>{var o;return[m("strong",null,[m("span",{textContent:W((o=e.cart.products[0])==null?void 0:o.stallName)},null,8,_d)])]}),_:1}),c(se,{caption:""},{default:f(()=>{var o,r,s;return[oe(" By "),m("span",{class:"ellipsis-2-lines text-wrap",textContent:W(((r=(o=e.cart.merchant)==null?void 0:o.profile)==null?void 0:r.name)||((s=e.cart.merchant)==null?void 0:s.publicKey))},null,8,wd)]}),_:1})]),_:1}),c(ae,{side:""})]),_:1}),c(Ae),e.orderConfirmed?(S(),j(we,{key:0},{default:f(()=>[m("div",Sd,[kd,m("div",Cd,[c(Xe,{modelValue:e.contactData.message,"onUpdate:modelValue":t[0]||(t[0]=o=>e.contactData.message=o),modelModifiers:{trim:!0},outlined:"",type:"textarea",rows:"3",label:"Message (optional)",hint:"Message merchant about additional order needs"},null,8,["modelValue"])])]),m("div",Td,[Md,m("div",qd,[c(Xe,{modelValue:e.contactData.address,"onUpdate:modelValue":t[1]||(t[1]=o=>e.contactData.address=o),modelModifiers:{trim:!0},outlined:"",type:"textarea",rows:"3",label:"Address (optional)",hint:"Must provide for physical shipping"},null,8,["modelValue"])])]),m("div",Pd,[Dd,m("div",$d,[c(Xe,{modelValue:e.contactData.email,"onUpdate:modelValue":t[2]||(t[2]=o=>e.contactData.email=o),modelModifiers:{trim:!0},type:"email",outlined:"",label:"Email (optional)",hint:"Merchant may not use email"},null,8,["modelValue"])])]),m("div",xd,[Id,m("div",Ad,[c(Xe,{modelValue:e.contactData.npub,"onUpdate:modelValue":t[3]||(t[3]=o=>e.contactData.npub=o),modelModifiers:{trim:!0},outlined:"",label:"Alternative Npub (optional)",hint:"Use a different Npub to communicate with the merchant"},null,8,["modelValue"])])])]),_:1})):(S(),j(we,{key:1,horizontal:""},{default:f(()=>[c(we,{class:"col-7"},{default:f(()=>[m("div",Od,[Ed,m("div",Nd,[m("strong",null,W(e.formatCurrency(e.cartTotal,e.stall.currency)),1)]),Ld]),m("div",Rd,[Bd,m("div",Vd,[e.shippingZone?(S(),V("strong",Fd,W(e.formatCurrency(e.shippingZone.cost,e.stall.currency)),1)):fe("",!0)]),m("div",Yd,[c(vd,{unelevated:"",color:"secondary",rounded:"",label:e.shippingZoneLabel},{default:f(()=>[(S(!0),V(et,null,at(e.stall.shipping,o=>dn((S(),j(nt,{onClick:r=>e.selectShippingZone(o),key:o.id,clickable:""},{default:f(()=>[c(ae,null,{default:f(()=>[c(se,null,{default:f(()=>[m("span",{textContent:W(o.name)},null,8,Ud)]),_:2},1024),c(se,{caption:""},{default:f(()=>{var r;return[m("span",{textContent:W((r=o.countries)==null?void 0:r.join(", "))},null,8,Hd)]}),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[Mi]])),128))]),_:1},8,["label"])])]),c(Ae,{class:"q-mt-sm"}),m("div",zd,[Wd,m("div",jd,[m("strong",null,W(e.formatCurrency(e.cartTotalWithShipping,e.stall.currency)),1)]),Qd])]),_:1}),c(Ae,{vertical:""}),c(we,null,{default:f(()=>[Kd,c(As,{modelValue:e.paymentMethod,"onUpdate:modelValue":t[4]||(t[4]=o=>e.paymentMethod=o),options:e.paymentOptions,color:"green",disable:""},null,8,["modelValue","options"])]),_:1})]),_:1})),c(Ae),c(In,{align:"right"},{default:f(()=>[e.orderConfirmed?(S(),V("div",Gd,[c(ee,{onClick:t[5]||(t[5]=o=>e.orderConfirmed=!1),flat:"",color:"grey"},{default:f(()=>[oe(" Back ")]),_:1}),c(ee,{onClick:t[6]||(t[6]=o=>e.placeOrder()),flat:"",color:"primary"},{default:f(()=>[oe(" Place Order ")]),_:1})])):(S(),V("div",Zd,[c(ee,{onClick:e.goToShoppingCart,flat:"",color:"grey"},{default:f(()=>[oe(" Back ")]),_:1},8,["onClick"]),c(ee,{onClick:e.confirmOrder,flat:"",color:"primary"},{default:f(()=>[oe(" Confirm ")]),_:1},8,["onClick"])]))]),_:1})]),_:1})):fe("",!0)])}var Xd=_t(yd,[["render",Jd]]);const{passive:nn}=xn;var ef=Se({name:"QInfiniteScroll",props:{offset:{type:Number,default:500},debounce:{type:[String,Number],default:100},scrollTarget:{default:void 0},initialIndex:Number,disable:Boolean,reverse:Boolean},emits:["load"],setup(e,{slots:t,emit:n}){const a=Q(!1),i=Q(!0),l=Q(null),o=Q(null);let r=e.initialIndex||0,s,u;const d=k(()=>"q-infinite-scroll__loading"+(a.value===!0?"":" invisible"));function v(){if(e.disable===!0||a.value===!0||i.value===!1)return;const x=ca(s),$=li(s),G=El(s);e.reverse===!1?Math.round($+G+e.offset)>=Math.round(x)&&y():Math.round($)<=e.offset&&y()}function y(){if(e.disable===!0||a.value===!0||i.value===!1)return;r++,a.value=!0;const x=ca(s);n("load",r,$=>{i.value===!0&&(a.value=!1,dt(()=>{if(e.reverse===!0){const G=ca(s),Z=li(s),ce=G-x;oi(s,Z+ce)}$===!0?w():l.value&&l.value.closest("body")&&u()}))})}function g(){r=0}function C(){i.value===!1&&(i.value=!0,s.addEventListener("scroll",u,nn)),v()}function w(){i.value===!0&&(i.value=!1,a.value=!1,s.removeEventListener("scroll",u,nn),u!==void 0&&u.cancel!==void 0&&u.cancel())}function T(){if(s&&i.value===!0&&s.removeEventListener("scroll",u,nn),s=Ea(l.value,e.scrollTarget),i.value===!0){if(s.addEventListener("scroll",u,nn),e.reverse===!0){const x=ca(s),$=El(s);oi(s,x-$)}v()}}function q(x){r=x}function P(x){x=parseInt(x,10);const $=u;u=x<=0?v:oo(v,isNaN(x)===!0?100:x),s&&i.value===!0&&($!==void 0&&s.removeEventListener("scroll",$,nn),s.addEventListener("scroll",u,nn))}function p(x){if(b.value===!0){if(o.value===null){x!==!0&&dt(()=>{p(!0)});return}const $=`${a.value===!0?"un":""}pauseAnimations`;Array.from(o.value.getElementsByTagName("svg")).forEach(G=>{G[$]()})}}const b=k(()=>e.disable!==!0&&i.value===!0);de([a,b],()=>{p()}),de(()=>e.disable,x=>{x===!0?w():C()}),de(()=>e.reverse,()=>{a.value===!1&&i.value===!0&&v()}),de(()=>e.scrollTarget,T),de(()=>e.debounce,P);let M=!1;La(()=>{M!==!1&&s&&oi(s,M)}),Na(()=>{M=s?li(s):!1}),Ke(()=>{i.value===!0&&s.removeEventListener("scroll",u,nn)}),fn(()=>{P(e.debounce),T(),a.value===!1&&p()});const B=Fe();return Object.assign(B.proxy,{poll:()=>{u!==void 0&&u()},trigger:y,stop:w,reset:g,resume:C,setIndex:q}),()=>{const x=co(t.default,[]);return b.value===!0&&x[e.reverse===!1?"push":"unshift"](_("div",{ref:o,class:d.value},Ee(t.loading))),_("div",{class:"q-infinite-scroll",ref:l},x)}}});const tf=ot({name:"ProductCard",props:["product","is-stall"],data:function(){return{}},methods:{},created(){}}),nf={class:"row no-wrap items-center"},af={class:"col text-subtitle2 ellipsis-2-lines"},lf={key:0},of={class:"text-h6"},rf={key:1},sf={class:"text-h6"},uf={class:"q-ml-md text-caption text-green-8 text-weight-bolder q-mt-md"},cf={key:0,class:"text-subtitle1"},df=["textContent"],ff={key:1,class:"text-subtitle1"},hf={class:"text-caption text-grey ellipsis-2-lines",style:{"min-height":"40px"}},mf={key:0},gf={class:"text-caption text-weight-bolder"},vf={class:"q-ml-auto"};function yf(e,t,n,a,i,l){return S(),j(lt,{class:"card--product"},{default:f(()=>[c(ji,{src:e.product.images&&e.product.images.length>0&&e.product.images[0]?e.product.images[0]:e.$q.config.staticPath+"/images/placeholder.png",alt:"Product Image",loading:"lazy","spinner-color":"white",fit:"contain",height:"300px"},null,8,["src"]),c(we,{class:"q-pb-xs q-pt-md"},{default:f(()=>[c(ee,{round:"",disabled:e.product.quantity<1,color:"primary",rounded:"",icon:"shopping_cart",size:"lg",style:{position:"absolute",top:"0",right:"0",transform:"translate(-50%, -50%)"},onClick:t[0]||(t[0]=o=>e.$emit("add-to-cart",e.product))},{default:f(()=>[c(Tt,null,{default:f(()=>[oe(" Add to cart ")]),_:1})]),_:1},8,["disabled"]),m("div",nf,[m("div",af,W(e.product.name),1)])]),_:1}),c(we,{class:"q-py-sm"},{default:f(()=>[m("div",null,[e.product.currency=="sat"?(S(),V("span",lf,[m("span",of,W(e.product.price)+" sats",1),c(Tt,null,{default:f(()=>[oe(" BTC "+W((e.product.price/1e8).toFixed(8)),1)]),_:1})])):(S(),V("span",rf,[m("span",sf,W(e.product.formatedPrice),1)])),m("span",uf,W(e.product.quantity)+" left",1)]),e.product.categories?(S(),V("div",cf,[c(Wi,{items:e.product.categories||[],"virtual-scroll-horizontal":""},{default:f(({item:o,index:r})=>[(S(),j(aa,{key:r,dense:""},{default:f(()=>[m("span",{textContent:W(o)},null,8,df)]),_:2},1024))]),_:1},8,["items"])])):(S(),V("div",ff," \xA0 ")),m("div",hf,[e.product.description?(S(),V("p",mf,W(e.product.description),1)):fe("",!0)])]),_:1}),c(Ae),c(In,null,{default:f(()=>[m("div",gf,W(e.product.stallName),1)]),_:1}),c(Ae),c(In,null,{default:f(()=>[m("div",vf,[e.isStall?fe("",!0):(S(),j(ee,{key:0,flat:"",class:"text-weight-bold text-capitalize q-ml-auto float-left",dense:"",color:"primary",onClick:t[1]||(t[1]=o=>e.$emit("change-page","stall",{stall:e.product.stall_id}))},{default:f(()=>[oe(" Visit Stall ")]),_:1})),c(ee,{flat:"",class:"text-weight-bold text-capitalize q-ml-auto",dense:"",color:"primary",onClick:t[2]||(t[2]=o=>e.$emit("change-page","stall",{stall:e.product.stall_id,product:e.product.id}))},{default:f(()=>[oe(" View details ")]),_:1})])]),_:1})]),_:1})}var Jo=_t(tf,[["render",yf]]);const pf=ot({name:"CustomerMarket",components:{ProductCard:Jo},props:["filtered-products","search-text","filter-categories"],data:function(){return{search:null,partialProducts:[],productsPerPage:12,startIndex:0,lastProductIndex:0,showProducts:!0}},watch:{searchText:function(){this.refreshProducts()},filteredProducts:function(){this.refreshProducts()},filterCategories:function(){this.refreshProducts()}},methods:{refreshProducts:function(){this.showProducts=!1,this.partialProducts=[],this.startIndex=0,this.lastProductIndex=Math.min(this.filteredProducts.length,this.productsPerPage),this.partialProducts.push(...this.filteredProducts.slice(0,this.lastProductIndex)),setTimeout(()=>{this.showProducts=!0},0)},addToCart(e){this.$emit("add-to-cart",e)},changePageM(e,t){this.$emit("change-page",e,t)},onLoad(e,t){setTimeout(()=>{if(this.startIndex>=this.filteredProducts.length){t();return}this.startIndex=this.lastProductIndex,this.lastProductIndex=Math.min(this.filteredProducts.length,this.lastProductIndex+this.productsPerPage),this.partialProducts.push(...this.filteredProducts.slice(this.startIndex,this.lastProductIndex)),t()},100)}},created(){this.lastProductIndex=Math.min(this.filteredProducts.length,24),this.partialProducts.push(...this.filteredProducts.slice(0,this.lastProductIndex))}}),bf={class:"row q-col-gutter-md"},_f={class:"row justify-center q-my-md"};function wf(e,t,n,a,i,l){const o=Ci("product-card");return S(),V("div",null,[e.showProducts?(S(),j(ef,{key:0,onLoad:e.onLoad,offset:250},_o({default:f(()=>[m("div",bf,[(S(!0),V(et,null,at(e.partialProducts,(r,s)=>(S(),V("div",{class:"col-xs-12 col-sm-6 col-md-4 col-lg-3",key:s},[c(o,{product:r,onChangePage:e.changePageM,onAddToCart:e.addToCart},null,8,["product","onChangePage","onAddToCart"])]))),128))])]),_:2},[e.lastProductIndex<e.filteredProducts.length?{name:"loading",fn:f(()=>[m("div",_f,[c(Do,{color:"primary",size:"40px"})])]),key:"0"}:void 0]),1032,["onLoad"])):fe("",!0)])}var Sf=_t(pf,[["render",wf]]),kf=Se({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:t,emit:n}){let a=!1,i,l,o=null,r=null,s,u;function d(){i&&i(),i=null,a=!1,o!==null&&(clearTimeout(o),o=null),r!==null&&(clearTimeout(r),r=null),l!==void 0&&l.removeEventListener("transitionend",s),s=null}function v(w,T,q){T!==void 0&&(w.style.height=`${T}px`),w.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,a=!0,i=q}function y(w,T){w.style.overflowY=null,w.style.height=null,w.style.transition=null,d(),T!==u&&n(T)}function g(w,T){let q=0;l=w,a===!0?(d(),q=w.offsetHeight===w.scrollHeight?0:void 0):(u="hide",w.style.overflowY="hidden"),v(w,q,T),o=setTimeout(()=>{o=null,w.style.height=`${w.scrollHeight}px`,s=P=>{r=null,(Object(P)!==P||P.target===w)&&y(w,"show")},w.addEventListener("transitionend",s),r=setTimeout(s,e.duration*1.1)},100)}function C(w,T){let q;l=w,a===!0?d():(u="show",w.style.overflowY="hidden",q=w.scrollHeight),v(w,q,T),o=setTimeout(()=>{o=null,w.style.height=0,s=P=>{r=null,(Object(P)!==P||P.target===w)&&y(w,"hide")},w.addEventListener("transitionend",s),r=setTimeout(s,e.duration*1.1)},100)}return Ke(()=>{a===!0&&d()}),()=>_(na,{css:!1,appear:e.appear,onEnter:g,onLeave:C},t.default)}});const an=Os({}),Cf=Object.keys(Ra);var Tf=Se({name:"QExpansionItem",props:{...Ra,...Ri,...Vt,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:Number,headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Vi,"click","afterShow","afterHide"],setup(e,{slots:t,emit:n}){const{proxy:{$q:a}}=Fe(),i=Ft(e,a),l=Q(e.modelValue!==null?e.modelValue:e.defaultOpened),o=Q(null),r=_a(),{show:s,hide:u,toggle:d}=Fi({showing:l});let v,y;const g=k(()=>`q-expansion-item q-item-type q-expansion-item--${l.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),C=k(()=>{if(e.contentInsetLevel===void 0)return null;const J=a.lang.rtl===!0?"Right":"Left";return{["padding"+J]:e.contentInsetLevel*56+"px"}}),w=k(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),T=k(()=>{const J={};return Cf.forEach(qe=>{J[qe]=e[qe]}),J}),q=k(()=>w.value===!0||e.expandIconToggle!==!0),P=k(()=>e.expandedIcon!==void 0&&l.value===!0?e.expandedIcon:e.expandIcon||a.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),p=k(()=>e.disable!==!0&&(w.value===!0||e.expandIconToggle===!0)),b=k(()=>({expanded:l.value===!0,detailsId:e.targetUid,toggle:d,show:s,hide:u})),M=k(()=>{const J=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:a.lang.label[l.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":l.value===!0?"true":"false","aria-controls":r,"aria-label":J}});de(()=>e.group,J=>{y!==void 0&&y(),J!==void 0&&ce()});function B(J){w.value!==!0&&d(J),n("click",J)}function x(J){J.keyCode===13&&$(J,!0)}function $(J,qe){qe!==!0&&o.value!==null&&o.value.focus(),d(J),We(J)}function G(){n("afterShow")}function Z(){n("afterHide")}function ce(){v===void 0&&(v=_a()),l.value===!0&&(an[e.group]=v);const J=de(l,Be=>{Be===!0?an[e.group]=v:an[e.group]===v&&delete an[e.group]}),qe=de(()=>an[e.group],(Be,N)=>{N===v&&Be!==void 0&&Be!==v&&u()});y=()=>{J(),qe(),an[e.group]===v&&delete an[e.group],y=void 0}}function $e(){const J={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},qe=[_(je,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&l.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:P.value})];return p.value===!0&&(Object.assign(J,{tabindex:0,...M.value,onClick:$,onKeyup:x}),qe.unshift(_("div",{ref:o,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),_(ae,J,()=>qe)}function E(){let J;return t.header!==void 0?J=[].concat(t.header(b.value)):(J=[_(ae,()=>[_(se,{lines:e.labelLines},()=>e.label||""),e.caption?_(se,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&J[e.switchToggleSide===!0?"push":"unshift"](_(ae,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>_(je,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&J[e.switchToggleSide===!0?"unshift":"push"]($e()),J}function le(){const J={ref:"item",style:e.headerStyle,class:e.headerClass,dark:i.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return q.value===!0&&(J.clickable=!0,J.onClick=B,Object.assign(J,w.value===!0?T.value:M.value)),_(nt,J,E)}function ve(){return dn(_("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:C.value,id:r},Ee(t.default)),[[Es,l.value]])}function ke(){const J=[le(),_(kf,{duration:e.duration,onShow:G,onHide:Z},ve)];return e.expandSeparator===!0&&J.push(_(Ae,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:i.value}),_(Ae,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:i.value})),J}return e.group!==void 0&&ce(),Ke(()=>{y!==void 0&&y()}),()=>_("div",{class:g.value},[_("div",{class:"q-expansion-item__container relative-position"},ke())])}});//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Xo;function R(){return Xo.apply(null,arguments)}function Mf(e){Xo=e}function pt(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function cn(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function ye(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function el(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(ye(e,t))return!1;return!0}function tt(e){return e===void 0}function Bt(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function la(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function er(e,t){var n=[],a,i=e.length;for(a=0;a<i;++a)n.push(t(e[a],a));return n}function Gt(e,t){for(var n in t)ye(t,n)&&(e[n]=t[n]);return ye(t,"toString")&&(e.toString=t.toString),ye(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Dt(e,t,n,a){return Cr(e,t,n,a,!0).utc()}function qf(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function re(e){return e._pf==null&&(e._pf=qf()),e._pf}var xi;Array.prototype.some?xi=Array.prototype.some:xi=function(e){var t=Object(this),n=t.length>>>0,a;for(a=0;a<n;a++)if(a in t&&e.call(this,t[a],a,t))return!0;return!1};function tl(e){if(e._isValid==null){var t=re(e),n=xi.call(t.parsedDateParts,function(i){return i!=null}),a=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(a=a&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=a;else return a}return e._isValid}function Ua(e){var t=Dt(NaN);return e!=null?Gt(re(t),e):re(t).userInvalidated=!0,t}var Zl=R.momentProperties=[],yi=!1;function nl(e,t){var n,a,i,l=Zl.length;if(tt(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),tt(t._i)||(e._i=t._i),tt(t._f)||(e._f=t._f),tt(t._l)||(e._l=t._l),tt(t._strict)||(e._strict=t._strict),tt(t._tzm)||(e._tzm=t._tzm),tt(t._isUTC)||(e._isUTC=t._isUTC),tt(t._offset)||(e._offset=t._offset),tt(t._pf)||(e._pf=re(t)),tt(t._locale)||(e._locale=t._locale),l>0)for(n=0;n<l;n++)a=Zl[n],i=t[a],tt(i)||(e[a]=i);return e}function oa(e){nl(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),yi===!1&&(yi=!0,R.updateOffset(this),yi=!1)}function bt(e){return e instanceof oa||e!=null&&e._isAMomentObject!=null}function tr(e){R.suppressDeprecationWarnings===!1&&typeof console!="undefined"&&console.warn&&console.warn("Deprecation warning: "+e)}function ht(e,t){var n=!0;return Gt(function(){if(R.deprecationHandler!=null&&R.deprecationHandler(null,e),n){var a=[],i,l,o,r=arguments.length;for(l=0;l<r;l++){if(i="",typeof arguments[l]=="object"){i+=`
[`+l+"] ";for(o in arguments[0])ye(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[l];a.push(i)}tr(e+`
Arguments: `+Array.prototype.slice.call(a).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var Jl={};function nr(e,t){R.deprecationHandler!=null&&R.deprecationHandler(e,t),Jl[e]||(tr(t),Jl[e]=!0)}R.suppressDeprecationWarnings=!1;R.deprecationHandler=null;function $t(e){return typeof Function!="undefined"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function Pf(e){var t,n;for(n in e)ye(e,n)&&(t=e[n],$t(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Ii(e,t){var n=Gt({},e),a;for(a in t)ye(t,a)&&(cn(e[a])&&cn(t[a])?(n[a]={},Gt(n[a],e[a]),Gt(n[a],t[a])):t[a]!=null?n[a]=t[a]:delete n[a]);for(a in e)ye(e,a)&&!ye(t,a)&&cn(e[a])&&(n[a]=Gt({},n[a]));return n}function al(e){e!=null&&this.set(e)}var Ai;Object.keys?Ai=Object.keys:Ai=function(e){var t,n=[];for(t in e)ye(e,t)&&n.push(t);return n};var Df={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function $f(e,t,n){var a=this._calendar[e]||this._calendar.sameElse;return $t(a)?a.call(t,n):a}function qt(e,t,n){var a=""+Math.abs(e),i=t-a.length,l=e>=0;return(l?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+a}var il=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ha=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,pi={},Pn={};function K(e,t,n,a){var i=a;typeof a=="string"&&(i=function(){return this[a]()}),e&&(Pn[e]=i),t&&(Pn[t[0]]=function(){return qt(i.apply(this,arguments),t[1],t[2])}),n&&(Pn[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function xf(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function If(e){var t=e.match(il),n,a;for(n=0,a=t.length;n<a;n++)Pn[t[n]]?t[n]=Pn[t[n]]:t[n]=xf(t[n]);return function(i){var l="",o;for(o=0;o<a;o++)l+=$t(t[o])?t[o].call(i,e):t[o];return l}}function ga(e,t){return e.isValid()?(t=ar(t,e.localeData()),pi[t]=pi[t]||If(t),pi[t](e)):e.localeData().invalidDate()}function ar(e,t){var n=5;function a(i){return t.longDateFormat(i)||i}for(ha.lastIndex=0;n>=0&&ha.test(e);)e=e.replace(ha,a),ha.lastIndex=0,n-=1;return e}var Af={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Of(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(il).map(function(a){return a==="MMMM"||a==="MM"||a==="DD"||a==="dddd"?a.slice(1):a}).join(""),this._longDateFormat[e])}var Ef="Invalid date";function Nf(){return this._invalidDate}var Lf="%d",Rf=/\d{1,2}/;function Bf(e){return this._ordinal.replace("%d",e)}var Vf={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Ff(e,t,n,a){var i=this._relativeTime[n];return $t(i)?i(e,t,n,a):i.replace(/%d/i,e)}function Yf(e,t){var n=this._relativeTime[e>0?"future":"past"];return $t(n)?n(t):n.replace(/%s/i,t)}var Qn={};function Ge(e,t){var n=e.toLowerCase();Qn[n]=Qn[n+"s"]=Qn[t]=e}function mt(e){return typeof e=="string"?Qn[e]||Qn[e.toLowerCase()]:void 0}function ll(e){var t={},n,a;for(a in e)ye(e,a)&&(n=mt(a),n&&(t[n]=e[a]));return t}var ir={};function Ze(e,t){ir[e]=t}function Uf(e){var t=[],n;for(n in e)ye(e,n)&&t.push({unit:n,priority:ir[n]});return t.sort(function(a,i){return a.priority-i.priority}),t}function Ha(e){return e%4===0&&e%100!==0||e%400===0}function ft(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ue(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=ft(t)),n}function Rn(e,t){return function(n){return n!=null?(lr(this,e,n),R.updateOffset(this,t),this):Da(this,e)}}function Da(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function lr(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&Ha(e.year())&&e.month()===1&&e.date()===29?(n=ue(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ga(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Hf(e){return e=mt(e),$t(this[e])?this[e]():this}function zf(e,t){if(typeof e=="object"){e=ll(e);var n=Uf(e),a,i=n.length;for(a=0;a<i;a++)this[n[a].unit](e[n[a].unit])}else if(e=mt(e),$t(this[e]))return this[e](t);return this}var or=/\d/,st=/\d\d/,rr=/\d{3}/,ol=/\d{4}/,za=/[+-]?\d{6}/,De=/\d\d?/,sr=/\d\d\d\d?/,ur=/\d\d\d\d\d\d?/,Wa=/\d{1,3}/,rl=/\d{1,4}/,ja=/[+-]?\d{1,6}/,Bn=/\d+/,Qa=/[+-]?\d+/,Wf=/Z|[+-]\d\d:?\d\d/gi,Ka=/Z|[+-]\d\d(?::?\d\d)?/gi,jf=/[+-]?\d+(\.\d{1,3})?/,ra=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,$a;$a={};function Y(e,t,n){$a[e]=$t(t)?t:function(a,i){return a&&n?n:t}}function Qf(e,t){return ye($a,e)?$a[e](t._strict,t._locale):new RegExp(Kf(e))}function Kf(e){return it(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,a,i,l){return n||a||i||l}))}function it(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Oi={};function Te(e,t){var n,a=t,i;for(typeof e=="string"&&(e=[e]),Bt(t)&&(a=function(l,o){o[t]=ue(l)}),i=e.length,n=0;n<i;n++)Oi[e[n]]=a}function sa(e,t){Te(e,function(n,a,i,l){i._w=i._w||{},t(n,i._w,i,l)})}function Gf(e,t,n){t!=null&&ye(Oi,e)&&Oi[e](t,n._a,n,e)}var Qe=0,Nt=1,Mt=2,Ye=3,yt=4,Lt=5,sn=6,Zf=7,Jf=8;function Xf(e,t){return(e%t+t)%t}var Re;Array.prototype.indexOf?Re=Array.prototype.indexOf:Re=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Ga(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Xf(t,12);return e+=(t-n)/12,n===1?Ha(e)?29:28:31-n%7%2}K("M",["MM",2],"Mo",function(){return this.month()+1});K("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});K("MMMM",0,0,function(e){return this.localeData().months(this,e)});Ge("month","M");Ze("month",8);Y("M",De);Y("MM",De,st);Y("MMM",function(e,t){return t.monthsShortRegex(e)});Y("MMMM",function(e,t){return t.monthsRegex(e)});Te(["M","MM"],function(e,t){t[Nt]=ue(e)-1});Te(["MMM","MMMM"],function(e,t,n,a){var i=n._locale.monthsParse(e,a,n._strict);i!=null?t[Nt]=i:re(n).invalidMonth=e});var eh="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),cr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),dr=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,th=ra,nh=ra;function ah(e,t){return e?pt(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||dr).test(t)?"format":"standalone"][e.month()]:pt(this._months)?this._months:this._months.standalone}function ih(e,t){return e?pt(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[dr.test(t)?"format":"standalone"][e.month()]:pt(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function lh(e,t,n){var a,i,l,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],a=0;a<12;++a)l=Dt([2e3,a]),this._shortMonthsParse[a]=this.monthsShort(l,"").toLocaleLowerCase(),this._longMonthsParse[a]=this.months(l,"").toLocaleLowerCase();return n?t==="MMM"?(i=Re.call(this._shortMonthsParse,o),i!==-1?i:null):(i=Re.call(this._longMonthsParse,o),i!==-1?i:null):t==="MMM"?(i=Re.call(this._shortMonthsParse,o),i!==-1?i:(i=Re.call(this._longMonthsParse,o),i!==-1?i:null)):(i=Re.call(this._longMonthsParse,o),i!==-1?i:(i=Re.call(this._shortMonthsParse,o),i!==-1?i:null))}function oh(e,t,n){var a,i,l;if(this._monthsParseExact)return lh.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),a=0;a<12;a++){if(i=Dt([2e3,a]),n&&!this._longMonthsParse[a]&&(this._longMonthsParse[a]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[a]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[a]&&(l="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[a]=new RegExp(l.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[a].test(e))return a;if(n&&t==="MMM"&&this._shortMonthsParse[a].test(e))return a;if(!n&&this._monthsParse[a].test(e))return a}}function fr(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=ue(t);else if(t=e.localeData().monthsParse(t),!Bt(t))return e}return n=Math.min(e.date(),Ga(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function hr(e){return e!=null?(fr(this,e),R.updateOffset(this,!0),this):Da(this,"Month")}function rh(){return Ga(this.year(),this.month())}function sh(e){return this._monthsParseExact?(ye(this,"_monthsRegex")||mr.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(ye(this,"_monthsShortRegex")||(this._monthsShortRegex=th),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function uh(e){return this._monthsParseExact?(ye(this,"_monthsRegex")||mr.call(this),e?this._monthsStrictRegex:this._monthsRegex):(ye(this,"_monthsRegex")||(this._monthsRegex=nh),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function mr(){function e(o,r){return r.length-o.length}var t=[],n=[],a=[],i,l;for(i=0;i<12;i++)l=Dt([2e3,i]),t.push(this.monthsShort(l,"")),n.push(this.months(l,"")),a.push(this.months(l,"")),a.push(this.monthsShort(l,""));for(t.sort(e),n.sort(e),a.sort(e),i=0;i<12;i++)t[i]=it(t[i]),n[i]=it(n[i]);for(i=0;i<24;i++)a[i]=it(a[i]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}K("Y",0,0,function(){var e=this.year();return e<=9999?qt(e,4):"+"+e});K(0,["YY",2],0,function(){return this.year()%100});K(0,["YYYY",4],0,"year");K(0,["YYYYY",5],0,"year");K(0,["YYYYYY",6,!0],0,"year");Ge("year","y");Ze("year",1);Y("Y",Qa);Y("YY",De,st);Y("YYYY",rl,ol);Y("YYYYY",ja,za);Y("YYYYYY",ja,za);Te(["YYYYY","YYYYYY"],Qe);Te("YYYY",function(e,t){t[Qe]=e.length===2?R.parseTwoDigitYear(e):ue(e)});Te("YY",function(e,t){t[Qe]=R.parseTwoDigitYear(e)});Te("Y",function(e,t){t[Qe]=parseInt(e,10)});function Kn(e){return Ha(e)?366:365}R.parseTwoDigitYear=function(e){return ue(e)+(ue(e)>68?1900:2e3)};var gr=Rn("FullYear",!0);function ch(){return Ha(this.year())}function dh(e,t,n,a,i,l,o){var r;return e<100&&e>=0?(r=new Date(e+400,t,n,a,i,l,o),isFinite(r.getFullYear())&&r.setFullYear(e)):r=new Date(e,t,n,a,i,l,o),r}function Jn(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function xa(e,t,n){var a=7+t-n,i=(7+Jn(e,0,a).getUTCDay()-t)%7;return-i+a-1}function vr(e,t,n,a,i){var l=(7+n-a)%7,o=xa(e,a,i),r=1+7*(t-1)+l+o,s,u;return r<=0?(s=e-1,u=Kn(s)+r):r>Kn(e)?(s=e+1,u=r-Kn(e)):(s=e,u=r),{year:s,dayOfYear:u}}function Xn(e,t,n){var a=xa(e.year(),t,n),i=Math.floor((e.dayOfYear()-a-1)/7)+1,l,o;return i<1?(o=e.year()-1,l=i+Rt(o,t,n)):i>Rt(e.year(),t,n)?(l=i-Rt(e.year(),t,n),o=e.year()+1):(o=e.year(),l=i),{week:l,year:o}}function Rt(e,t,n){var a=xa(e,t,n),i=xa(e+1,t,n);return(Kn(e)-a+i)/7}K("w",["ww",2],"wo","week");K("W",["WW",2],"Wo","isoWeek");Ge("week","w");Ge("isoWeek","W");Ze("week",5);Ze("isoWeek",5);Y("w",De);Y("ww",De,st);Y("W",De);Y("WW",De,st);sa(["w","ww","W","WW"],function(e,t,n,a){t[a.substr(0,1)]=ue(e)});function fh(e){return Xn(e,this._week.dow,this._week.doy).week}var hh={dow:0,doy:6};function mh(){return this._week.dow}function gh(){return this._week.doy}function vh(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function yh(e){var t=Xn(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}K("d",0,"do","day");K("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});K("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});K("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});K("e",0,0,"weekday");K("E",0,0,"isoWeekday");Ge("day","d");Ge("weekday","e");Ge("isoWeekday","E");Ze("day",11);Ze("weekday",11);Ze("isoWeekday",11);Y("d",De);Y("e",De);Y("E",De);Y("dd",function(e,t){return t.weekdaysMinRegex(e)});Y("ddd",function(e,t){return t.weekdaysShortRegex(e)});Y("dddd",function(e,t){return t.weekdaysRegex(e)});sa(["dd","ddd","dddd"],function(e,t,n,a){var i=n._locale.weekdaysParse(e,a,n._strict);i!=null?t.d=i:re(n).invalidWeekday=e});sa(["d","e","E"],function(e,t,n,a){t[a]=ue(e)});function ph(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function bh(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function sl(e,t){return e.slice(t,7).concat(e.slice(0,t))}var _h="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),yr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),wh="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Sh=ra,kh=ra,Ch=ra;function Th(e,t){var n=pt(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?sl(n,this._week.dow):e?n[e.day()]:n}function Mh(e){return e===!0?sl(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function qh(e){return e===!0?sl(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ph(e,t,n){var a,i,l,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],a=0;a<7;++a)l=Dt([2e3,1]).day(a),this._minWeekdaysParse[a]=this.weekdaysMin(l,"").toLocaleLowerCase(),this._shortWeekdaysParse[a]=this.weekdaysShort(l,"").toLocaleLowerCase(),this._weekdaysParse[a]=this.weekdays(l,"").toLocaleLowerCase();return n?t==="dddd"?(i=Re.call(this._weekdaysParse,o),i!==-1?i:null):t==="ddd"?(i=Re.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=Re.call(this._minWeekdaysParse,o),i!==-1?i:null):t==="dddd"?(i=Re.call(this._weekdaysParse,o),i!==-1||(i=Re.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=Re.call(this._minWeekdaysParse,o),i!==-1?i:null)):t==="ddd"?(i=Re.call(this._shortWeekdaysParse,o),i!==-1||(i=Re.call(this._weekdaysParse,o),i!==-1)?i:(i=Re.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=Re.call(this._minWeekdaysParse,o),i!==-1||(i=Re.call(this._weekdaysParse,o),i!==-1)?i:(i=Re.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function Dh(e,t,n){var a,i,l;if(this._weekdaysParseExact)return Ph.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),a=0;a<7;a++){if(i=Dt([2e3,1]).day(a),n&&!this._fullWeekdaysParse[a]&&(this._fullWeekdaysParse[a]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[a]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[a]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[a]||(l="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[a]=new RegExp(l.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[a].test(e))return a;if(n&&t==="ddd"&&this._shortWeekdaysParse[a].test(e))return a;if(n&&t==="dd"&&this._minWeekdaysParse[a].test(e))return a;if(!n&&this._weekdaysParse[a].test(e))return a}}function $h(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=ph(e,this.localeData()),this.add(e-t,"d")):t}function xh(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Ih(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=bh(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function Ah(e){return this._weekdaysParseExact?(ye(this,"_weekdaysRegex")||ul.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(ye(this,"_weekdaysRegex")||(this._weekdaysRegex=Sh),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Oh(e){return this._weekdaysParseExact?(ye(this,"_weekdaysRegex")||ul.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(ye(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=kh),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Eh(e){return this._weekdaysParseExact?(ye(this,"_weekdaysRegex")||ul.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(ye(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ch),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function ul(){function e(d,v){return v.length-d.length}var t=[],n=[],a=[],i=[],l,o,r,s,u;for(l=0;l<7;l++)o=Dt([2e3,1]).day(l),r=it(this.weekdaysMin(o,"")),s=it(this.weekdaysShort(o,"")),u=it(this.weekdays(o,"")),t.push(r),n.push(s),a.push(u),i.push(r),i.push(s),i.push(u);t.sort(e),n.sort(e),a.sort(e),i.sort(e),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function cl(){return this.hours()%12||12}function Nh(){return this.hours()||24}K("H",["HH",2],0,"hour");K("h",["hh",2],0,cl);K("k",["kk",2],0,Nh);K("hmm",0,0,function(){return""+cl.apply(this)+qt(this.minutes(),2)});K("hmmss",0,0,function(){return""+cl.apply(this)+qt(this.minutes(),2)+qt(this.seconds(),2)});K("Hmm",0,0,function(){return""+this.hours()+qt(this.minutes(),2)});K("Hmmss",0,0,function(){return""+this.hours()+qt(this.minutes(),2)+qt(this.seconds(),2)});function pr(e,t){K(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}pr("a",!0);pr("A",!1);Ge("hour","h");Ze("hour",13);function br(e,t){return t._meridiemParse}Y("a",br);Y("A",br);Y("H",De);Y("h",De);Y("k",De);Y("HH",De,st);Y("hh",De,st);Y("kk",De,st);Y("hmm",sr);Y("hmmss",ur);Y("Hmm",sr);Y("Hmmss",ur);Te(["H","HH"],Ye);Te(["k","kk"],function(e,t,n){var a=ue(e);t[Ye]=a===24?0:a});Te(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Te(["h","hh"],function(e,t,n){t[Ye]=ue(e),re(n).bigHour=!0});Te("hmm",function(e,t,n){var a=e.length-2;t[Ye]=ue(e.substr(0,a)),t[yt]=ue(e.substr(a)),re(n).bigHour=!0});Te("hmmss",function(e,t,n){var a=e.length-4,i=e.length-2;t[Ye]=ue(e.substr(0,a)),t[yt]=ue(e.substr(a,2)),t[Lt]=ue(e.substr(i)),re(n).bigHour=!0});Te("Hmm",function(e,t,n){var a=e.length-2;t[Ye]=ue(e.substr(0,a)),t[yt]=ue(e.substr(a))});Te("Hmmss",function(e,t,n){var a=e.length-4,i=e.length-2;t[Ye]=ue(e.substr(0,a)),t[yt]=ue(e.substr(a,2)),t[Lt]=ue(e.substr(i))});function Lh(e){return(e+"").toLowerCase().charAt(0)==="p"}var Rh=/[ap]\.?m?\.?/i,Bh=Rn("Hours",!0);function Vh(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var _r={calendar:Df,longDateFormat:Af,invalidDate:Ef,ordinal:Lf,dayOfMonthOrdinalParse:Rf,relativeTime:Vf,months:eh,monthsShort:cr,week:hh,weekdays:_h,weekdaysMin:wh,weekdaysShort:yr,meridiemParse:Rh},Ie={},Yn={},ea;function Fh(e,t){var n,a=Math.min(e.length,t.length);for(n=0;n<a;n+=1)if(e[n]!==t[n])return n;return a}function Xl(e){return e&&e.toLowerCase().replace("_","-")}function Yh(e){for(var t=0,n,a,i,l;t<e.length;){for(l=Xl(e[t]).split("-"),n=l.length,a=Xl(e[t+1]),a=a?a.split("-"):null;n>0;){if(i=Za(l.slice(0,n).join("-")),i)return i;if(a&&a.length>=n&&Fh(l,a)>=n-1)break;n--}t++}return ea}function Uh(e){return e.match("^[^/\\\\]*$")!=null}function Za(e){var t=null,n;if(Ie[e]===void 0&&typeof module!="undefined"&&module&&module.exports&&Uh(e))try{t=ea._abbr,n=require,n("./locale/"+e),Jt(t)}catch{Ie[e]=null}return Ie[e]}function Jt(e,t){var n;return e&&(tt(t)?n=Yt(e):n=dl(e,t),n?ea=n:typeof console!="undefined"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ea._abbr}function dl(e,t){if(t!==null){var n,a=_r;if(t.abbr=e,Ie[e]!=null)nr("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),a=Ie[e]._config;else if(t.parentLocale!=null)if(Ie[t.parentLocale]!=null)a=Ie[t.parentLocale]._config;else if(n=Za(t.parentLocale),n!=null)a=n._config;else return Yn[t.parentLocale]||(Yn[t.parentLocale]=[]),Yn[t.parentLocale].push({name:e,config:t}),null;return Ie[e]=new al(Ii(a,t)),Yn[e]&&Yn[e].forEach(function(i){dl(i.name,i.config)}),Jt(e),Ie[e]}else return delete Ie[e],null}function Hh(e,t){if(t!=null){var n,a,i=_r;Ie[e]!=null&&Ie[e].parentLocale!=null?Ie[e].set(Ii(Ie[e]._config,t)):(a=Za(e),a!=null&&(i=a._config),t=Ii(i,t),a==null&&(t.abbr=e),n=new al(t),n.parentLocale=Ie[e],Ie[e]=n),Jt(e)}else Ie[e]!=null&&(Ie[e].parentLocale!=null?(Ie[e]=Ie[e].parentLocale,e===Jt()&&Jt(e)):Ie[e]!=null&&delete Ie[e]);return Ie[e]}function Yt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ea;if(!pt(e)){if(t=Za(e),t)return t;e=[e]}return Yh(e)}function zh(){return Ai(Ie)}function fl(e){var t,n=e._a;return n&&re(e).overflow===-2&&(t=n[Nt]<0||n[Nt]>11?Nt:n[Mt]<1||n[Mt]>Ga(n[Qe],n[Nt])?Mt:n[Ye]<0||n[Ye]>24||n[Ye]===24&&(n[yt]!==0||n[Lt]!==0||n[sn]!==0)?Ye:n[yt]<0||n[yt]>59?yt:n[Lt]<0||n[Lt]>59?Lt:n[sn]<0||n[sn]>999?sn:-1,re(e)._overflowDayOfYear&&(t<Qe||t>Mt)&&(t=Mt),re(e)._overflowWeeks&&t===-1&&(t=Zf),re(e)._overflowWeekday&&t===-1&&(t=Jf),re(e).overflow=t),e}var Wh=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,jh=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Qh=/Z|[+-]\d\d(?::?\d\d)?/,ma=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],bi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Kh=/^\/?Date\((-?\d+)/i,Gh=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Zh={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function wr(e){var t,n,a=e._i,i=Wh.exec(a)||jh.exec(a),l,o,r,s,u=ma.length,d=bi.length;if(i){for(re(e).iso=!0,t=0,n=u;t<n;t++)if(ma[t][1].exec(i[1])){o=ma[t][0],l=ma[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(i[3]){for(t=0,n=d;t<n;t++)if(bi[t][1].exec(i[3])){r=(i[2]||" ")+bi[t][0];break}if(r==null){e._isValid=!1;return}}if(!l&&r!=null){e._isValid=!1;return}if(i[4])if(Qh.exec(i[4]))s="Z";else{e._isValid=!1;return}e._f=o+(r||"")+(s||""),ml(e)}else e._isValid=!1}function Jh(e,t,n,a,i,l){var o=[Xh(e),cr.indexOf(t),parseInt(n,10),parseInt(a,10),parseInt(i,10)];return l&&o.push(parseInt(l,10)),o}function Xh(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function em(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function tm(e,t,n){if(e){var a=yr.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(a!==i)return re(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function nm(e,t,n){if(e)return Zh[e];if(t)return 0;var a=parseInt(n,10),i=a%100,l=(a-i)/100;return l*60+i}function Sr(e){var t=Gh.exec(em(e._i)),n;if(t){if(n=Jh(t[4],t[3],t[2],t[5],t[6],t[7]),!tm(t[1],n,e))return;e._a=n,e._tzm=nm(t[8],t[9],t[10]),e._d=Jn.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),re(e).rfc2822=!0}else e._isValid=!1}function am(e){var t=Kh.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(wr(e),e._isValid===!1)delete e._isValid;else return;if(Sr(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:R.createFromInputFallback(e)}R.createFromInputFallback=ht("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Cn(e,t,n){return e!=null?e:t!=null?t:n}function im(e){var t=new Date(R.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function hl(e){var t,n,a=[],i,l,o;if(!e._d){for(i=im(e),e._w&&e._a[Mt]==null&&e._a[Nt]==null&&lm(e),e._dayOfYear!=null&&(o=Cn(e._a[Qe],i[Qe]),(e._dayOfYear>Kn(o)||e._dayOfYear===0)&&(re(e)._overflowDayOfYear=!0),n=Jn(o,0,e._dayOfYear),e._a[Nt]=n.getUTCMonth(),e._a[Mt]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=a[t]=i[t];for(;t<7;t++)e._a[t]=a[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Ye]===24&&e._a[yt]===0&&e._a[Lt]===0&&e._a[sn]===0&&(e._nextDay=!0,e._a[Ye]=0),e._d=(e._useUTC?Jn:dh).apply(null,a),l=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ye]=24),e._w&&typeof e._w.d!="undefined"&&e._w.d!==l&&(re(e).weekdayMismatch=!0)}}function lm(e){var t,n,a,i,l,o,r,s,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(l=1,o=4,n=Cn(t.GG,e._a[Qe],Xn(Pe(),1,4).year),a=Cn(t.W,1),i=Cn(t.E,1),(i<1||i>7)&&(s=!0)):(l=e._locale._week.dow,o=e._locale._week.doy,u=Xn(Pe(),l,o),n=Cn(t.gg,e._a[Qe],u.year),a=Cn(t.w,u.week),t.d!=null?(i=t.d,(i<0||i>6)&&(s=!0)):t.e!=null?(i=t.e+l,(t.e<0||t.e>6)&&(s=!0)):i=l),a<1||a>Rt(n,l,o)?re(e)._overflowWeeks=!0:s!=null?re(e)._overflowWeekday=!0:(r=vr(n,a,i,l,o),e._a[Qe]=r.year,e._dayOfYear=r.dayOfYear)}R.ISO_8601=function(){};R.RFC_2822=function(){};function ml(e){if(e._f===R.ISO_8601){wr(e);return}if(e._f===R.RFC_2822){Sr(e);return}e._a=[],re(e).empty=!0;var t=""+e._i,n,a,i,l,o,r=t.length,s=0,u,d;for(i=ar(e._f,e._locale).match(il)||[],d=i.length,n=0;n<d;n++)l=i[n],a=(t.match(Qf(l,e))||[])[0],a&&(o=t.substr(0,t.indexOf(a)),o.length>0&&re(e).unusedInput.push(o),t=t.slice(t.indexOf(a)+a.length),s+=a.length),Pn[l]?(a?re(e).empty=!1:re(e).unusedTokens.push(l),Gf(l,a,e)):e._strict&&!a&&re(e).unusedTokens.push(l);re(e).charsLeftOver=r-s,t.length>0&&re(e).unusedInput.push(t),e._a[Ye]<=12&&re(e).bigHour===!0&&e._a[Ye]>0&&(re(e).bigHour=void 0),re(e).parsedDateParts=e._a.slice(0),re(e).meridiem=e._meridiem,e._a[Ye]=om(e._locale,e._a[Ye],e._meridiem),u=re(e).era,u!==null&&(e._a[Qe]=e._locale.erasConvertYear(u,e._a[Qe])),hl(e),fl(e)}function om(e,t,n){var a;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(a=e.isPM(n),a&&t<12&&(t+=12),!a&&t===12&&(t=0)),t)}function rm(e){var t,n,a,i,l,o,r=!1,s=e._f.length;if(s===0){re(e).invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<s;i++)l=0,o=!1,t=nl({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[i],ml(t),tl(t)&&(o=!0),l+=re(t).charsLeftOver,l+=re(t).unusedTokens.length*10,re(t).score=l,r?l<a&&(a=l,n=t):(a==null||l<a||o)&&(a=l,n=t,o&&(r=!0));Gt(e,n||t)}function sm(e){if(!e._d){var t=ll(e._i),n=t.day===void 0?t.date:t.day;e._a=er([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(a){return a&&parseInt(a,10)}),hl(e)}}function um(e){var t=new oa(fl(kr(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function kr(e){var t=e._i,n=e._f;return e._locale=e._locale||Yt(e._l),t===null||n===void 0&&t===""?Ua({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),bt(t)?new oa(fl(t)):(la(t)?e._d=t:pt(n)?rm(e):n?ml(e):cm(e),tl(e)||(e._d=null),e))}function cm(e){var t=e._i;tt(t)?e._d=new Date(R.now()):la(t)?e._d=new Date(t.valueOf()):typeof t=="string"?am(e):pt(t)?(e._a=er(t.slice(0),function(n){return parseInt(n,10)}),hl(e)):cn(t)?sm(e):Bt(t)?e._d=new Date(t):R.createFromInputFallback(e)}function Cr(e,t,n,a,i){var l={};return(t===!0||t===!1)&&(a=t,t=void 0),(n===!0||n===!1)&&(a=n,n=void 0),(cn(e)&&el(e)||pt(e)&&e.length===0)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=i,l._l=n,l._i=e,l._f=t,l._strict=a,um(l)}function Pe(e,t,n,a){return Cr(e,t,n,a,!1)}var dm=ht("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Pe.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Ua()}),fm=ht("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Pe.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Ua()});function Tr(e,t){var n,a;if(t.length===1&&pt(t[0])&&(t=t[0]),!t.length)return Pe();for(n=t[0],a=1;a<t.length;++a)(!t[a].isValid()||t[a][e](n))&&(n=t[a]);return n}function hm(){var e=[].slice.call(arguments,0);return Tr("isBefore",e)}function mm(){var e=[].slice.call(arguments,0);return Tr("isAfter",e)}var gm=function(){return Date.now?Date.now():+new Date},Un=["year","quarter","month","week","day","hour","minute","second","millisecond"];function vm(e){var t,n=!1,a,i=Un.length;for(t in e)if(ye(e,t)&&!(Re.call(Un,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(a=0;a<i;++a)if(e[Un[a]]){if(n)return!1;parseFloat(e[Un[a]])!==ue(e[Un[a]])&&(n=!0)}return!0}function ym(){return this._isValid}function pm(){return wt(NaN)}function Ja(e){var t=ll(e),n=t.year||0,a=t.quarter||0,i=t.month||0,l=t.week||t.isoWeek||0,o=t.day||0,r=t.hour||0,s=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=vm(t),this._milliseconds=+d+u*1e3+s*6e4+r*1e3*60*60,this._days=+o+l*7,this._months=+i+a*3+n*12,this._data={},this._locale=Yt(),this._bubble()}function va(e){return e instanceof Ja}function Ei(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function bm(e,t,n){var a=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),l=0,o;for(o=0;o<a;o++)(n&&e[o]!==t[o]||!n&&ue(e[o])!==ue(t[o]))&&l++;return l+i}function Mr(e,t){K(e,0,0,function(){var n=this.utcOffset(),a="+";return n<0&&(n=-n,a="-"),a+qt(~~(n/60),2)+t+qt(~~n%60,2)})}Mr("Z",":");Mr("ZZ","");Y("Z",Ka);Y("ZZ",Ka);Te(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=gl(Ka,e)});var _m=/([\+\-]|\d\d)/gi;function gl(e,t){var n=(t||"").match(e),a,i,l;return n===null?null:(a=n[n.length-1]||[],i=(a+"").match(_m)||["-",0,0],l=+(i[1]*60)+ue(i[2]),l===0?0:i[0]==="+"?l:-l)}function vl(e,t){var n,a;return t._isUTC?(n=t.clone(),a=(bt(e)||la(e)?e.valueOf():Pe(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+a),R.updateOffset(n,!1),n):Pe(e).local()}function Ni(e){return-Math.round(e._d.getTimezoneOffset())}R.updateOffset=function(){};function wm(e,t,n){var a=this._offset||0,i;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=gl(Ka,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(i=Ni(this)),this._offset=e,this._isUTC=!0,i!=null&&this.add(i,"m"),a!==e&&(!t||this._changeInProgress?Dr(this,wt(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,R.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?a:Ni(this)}function Sm(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function km(e){return this.utcOffset(0,e)}function Cm(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ni(this),"m")),this}function Tm(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=gl(Wf,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Mm(e){return this.isValid()?(e=e?Pe(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function qm(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Pm(){if(!tt(this._isDSTShifted))return this._isDSTShifted;var e={},t;return nl(e,this),e=kr(e),e._a?(t=e._isUTC?Dt(e._a):Pe(e._a),this._isDSTShifted=this.isValid()&&bm(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Dm(){return this.isValid()?!this._isUTC:!1}function $m(){return this.isValid()?this._isUTC:!1}function qr(){return this.isValid()?this._isUTC&&this._offset===0:!1}var xm=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Im=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function wt(e,t){var n=e,a=null,i,l,o;return va(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:Bt(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(a=xm.exec(e))?(i=a[1]==="-"?-1:1,n={y:0,d:ue(a[Mt])*i,h:ue(a[Ye])*i,m:ue(a[yt])*i,s:ue(a[Lt])*i,ms:ue(Ei(a[sn]*1e3))*i}):(a=Im.exec(e))?(i=a[1]==="-"?-1:1,n={y:ln(a[2],i),M:ln(a[3],i),w:ln(a[4],i),d:ln(a[5],i),h:ln(a[6],i),m:ln(a[7],i),s:ln(a[8],i)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=Am(Pe(n.from),Pe(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),l=new Ja(n),va(e)&&ye(e,"_locale")&&(l._locale=e._locale),va(e)&&ye(e,"_isValid")&&(l._isValid=e._isValid),l}wt.fn=Ja.prototype;wt.invalid=pm;function ln(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function eo(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Am(e,t){var n;return e.isValid()&&t.isValid()?(t=vl(t,e),e.isBefore(t)?n=eo(e,t):(n=eo(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Pr(e,t){return function(n,a){var i,l;return a!==null&&!isNaN(+a)&&(nr(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),l=n,n=a,a=l),i=wt(n,a),Dr(this,i,e),this}}function Dr(e,t,n,a){var i=t._milliseconds,l=Ei(t._days),o=Ei(t._months);!e.isValid()||(a=a==null?!0:a,o&&fr(e,Da(e,"Month")+o*n),l&&lr(e,"Date",Da(e,"Date")+l*n),i&&e._d.setTime(e._d.valueOf()+i*n),a&&R.updateOffset(e,l||o))}var Om=Pr(1,"add"),Em=Pr(-1,"subtract");function $r(e){return typeof e=="string"||e instanceof String}function Nm(e){return bt(e)||la(e)||$r(e)||Bt(e)||Rm(e)||Lm(e)||e===null||e===void 0}function Lm(e){var t=cn(e)&&!el(e),n=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,l,o=a.length;for(i=0;i<o;i+=1)l=a[i],n=n||ye(e,l);return t&&n}function Rm(e){var t=pt(e),n=!1;return t&&(n=e.filter(function(a){return!Bt(a)&&$r(e)}).length===0),t&&n}function Bm(e){var t=cn(e)&&!el(e),n=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,l;for(i=0;i<a.length;i+=1)l=a[i],n=n||ye(e,l);return t&&n}function Vm(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Fm(e,t){arguments.length===1&&(arguments[0]?Nm(arguments[0])?(e=arguments[0],t=void 0):Bm(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Pe(),a=vl(n,this).startOf("day"),i=R.calendarFormat(this,a)||"sameElse",l=t&&($t(t[i])?t[i].call(this,n):t[i]);return this.format(l||this.localeData().calendar(i,this,Pe(n)))}function Ym(){return new oa(this)}function Um(e,t){var n=bt(e)?e:Pe(e);return this.isValid()&&n.isValid()?(t=mt(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function Hm(e,t){var n=bt(e)?e:Pe(e);return this.isValid()&&n.isValid()?(t=mt(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function zm(e,t,n,a){var i=bt(e)?e:Pe(e),l=bt(t)?t:Pe(t);return this.isValid()&&i.isValid()&&l.isValid()?(a=a||"()",(a[0]==="("?this.isAfter(i,n):!this.isBefore(i,n))&&(a[1]===")"?this.isBefore(l,n):!this.isAfter(l,n))):!1}function Wm(e,t){var n=bt(e)?e:Pe(e),a;return this.isValid()&&n.isValid()?(t=mt(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(a=n.valueOf(),this.clone().startOf(t).valueOf()<=a&&a<=this.clone().endOf(t).valueOf())):!1}function jm(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Qm(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Km(e,t,n){var a,i,l;if(!this.isValid())return NaN;if(a=vl(e,this),!a.isValid())return NaN;switch(i=(a.utcOffset()-this.utcOffset())*6e4,t=mt(t),t){case"year":l=ya(this,a)/12;break;case"month":l=ya(this,a);break;case"quarter":l=ya(this,a)/3;break;case"second":l=(this-a)/1e3;break;case"minute":l=(this-a)/6e4;break;case"hour":l=(this-a)/36e5;break;case"day":l=(this-a-i)/864e5;break;case"week":l=(this-a-i)/6048e5;break;default:l=this-a}return n?l:ft(l)}function ya(e,t){if(e.date()<t.date())return-ya(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),a=e.clone().add(n,"months"),i,l;return t-a<0?(i=e.clone().add(n-1,"months"),l=(t-a)/(a-i)):(i=e.clone().add(n+1,"months"),l=(t-a)/(i-a)),-(n+l)||0}R.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";R.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Gm(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Zm(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?ga(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):$t(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ga(n,"Z")):ga(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Jm(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,a,i,l;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',a=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",l=t+'[")]',this.format(n+a+i+l)}function Xm(e){e||(e=this.isUtc()?R.defaultFormatUtc:R.defaultFormat);var t=ga(this,e);return this.localeData().postformat(t)}function eg(e,t){return this.isValid()&&(bt(e)&&e.isValid()||Pe(e).isValid())?wt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function tg(e){return this.from(Pe(),e)}function ng(e,t){return this.isValid()&&(bt(e)&&e.isValid()||Pe(e).isValid())?wt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ag(e){return this.to(Pe(),e)}function xr(e){var t;return e===void 0?this._locale._abbr:(t=Yt(e),t!=null&&(this._locale=t),this)}var Ir=ht("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function Ar(){return this._locale}var Ia=1e3,Dn=60*Ia,Aa=60*Dn,Or=(365*400+97)*24*Aa;function $n(e,t){return(e%t+t)%t}function Er(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-Or:new Date(e,t,n).valueOf()}function Nr(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-Or:Date.UTC(e,t,n)}function ig(e){var t,n;if(e=mt(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Nr:Er,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=$n(t+(this._isUTC?0:this.utcOffset()*Dn),Aa);break;case"minute":t=this._d.valueOf(),t-=$n(t,Dn);break;case"second":t=this._d.valueOf(),t-=$n(t,Ia);break}return this._d.setTime(t),R.updateOffset(this,!0),this}function lg(e){var t,n;if(e=mt(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Nr:Er,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Aa-$n(t+(this._isUTC?0:this.utcOffset()*Dn),Aa)-1;break;case"minute":t=this._d.valueOf(),t+=Dn-$n(t,Dn)-1;break;case"second":t=this._d.valueOf(),t+=Ia-$n(t,Ia)-1;break}return this._d.setTime(t),R.updateOffset(this,!0),this}function og(){return this._d.valueOf()-(this._offset||0)*6e4}function rg(){return Math.floor(this.valueOf()/1e3)}function sg(){return new Date(this.valueOf())}function ug(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function cg(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function dg(){return this.isValid()?this.toISOString():null}function fg(){return tl(this)}function hg(){return Gt({},re(this))}function mg(){return re(this).overflow}function gg(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}K("N",0,0,"eraAbbr");K("NN",0,0,"eraAbbr");K("NNN",0,0,"eraAbbr");K("NNNN",0,0,"eraName");K("NNNNN",0,0,"eraNarrow");K("y",["y",1],"yo","eraYear");K("y",["yy",2],0,"eraYear");K("y",["yyy",3],0,"eraYear");K("y",["yyyy",4],0,"eraYear");Y("N",yl);Y("NN",yl);Y("NNN",yl);Y("NNNN",Mg);Y("NNNNN",qg);Te(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,a){var i=n._locale.erasParse(e,a,n._strict);i?re(n).era=i:re(n).invalidEra=e});Y("y",Bn);Y("yy",Bn);Y("yyy",Bn);Y("yyyy",Bn);Y("yo",Pg);Te(["y","yy","yyy","yyyy"],Qe);Te(["yo"],function(e,t,n,a){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Qe]=n._locale.eraYearOrdinalParse(e,i):t[Qe]=parseInt(e,10)});function vg(e,t){var n,a,i,l=this._eras||Yt("en")._eras;for(n=0,a=l.length;n<a;++n){switch(typeof l[n].since){case"string":i=R(l[n].since).startOf("day"),l[n].since=i.valueOf();break}switch(typeof l[n].until){case"undefined":l[n].until=1/0;break;case"string":i=R(l[n].until).startOf("day").valueOf(),l[n].until=i.valueOf();break}}return l}function yg(e,t,n){var a,i,l=this.eras(),o,r,s;for(e=e.toUpperCase(),a=0,i=l.length;a<i;++a)if(o=l[a].name.toUpperCase(),r=l[a].abbr.toUpperCase(),s=l[a].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(r===e)return l[a];break;case"NNNN":if(o===e)return l[a];break;case"NNNNN":if(s===e)return l[a];break}else if([o,r,s].indexOf(e)>=0)return l[a]}function pg(e,t){var n=e.since<=e.until?1:-1;return t===void 0?R(e.since).year():R(e.since).year()+(t-e.offset)*n}function bg(){var e,t,n,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),a[e].since<=n&&n<=a[e].until||a[e].until<=n&&n<=a[e].since)return a[e].name;return""}function _g(){var e,t,n,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),a[e].since<=n&&n<=a[e].until||a[e].until<=n&&n<=a[e].since)return a[e].narrow;return""}function wg(){var e,t,n,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),a[e].since<=n&&n<=a[e].until||a[e].until<=n&&n<=a[e].since)return a[e].abbr;return""}function Sg(){var e,t,n,a,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=i[e].since<=i[e].until?1:-1,a=this.clone().startOf("day").valueOf(),i[e].since<=a&&a<=i[e].until||i[e].until<=a&&a<=i[e].since)return(this.year()-R(i[e].since).year())*n+i[e].offset;return this.year()}function kg(e){return ye(this,"_erasNameRegex")||pl.call(this),e?this._erasNameRegex:this._erasRegex}function Cg(e){return ye(this,"_erasAbbrRegex")||pl.call(this),e?this._erasAbbrRegex:this._erasRegex}function Tg(e){return ye(this,"_erasNarrowRegex")||pl.call(this),e?this._erasNarrowRegex:this._erasRegex}function yl(e,t){return t.erasAbbrRegex(e)}function Mg(e,t){return t.erasNameRegex(e)}function qg(e,t){return t.erasNarrowRegex(e)}function Pg(e,t){return t._eraYearOrdinalRegex||Bn}function pl(){var e=[],t=[],n=[],a=[],i,l,o=this.eras();for(i=0,l=o.length;i<l;++i)t.push(it(o[i].name)),e.push(it(o[i].abbr)),n.push(it(o[i].narrow)),a.push(it(o[i].name)),a.push(it(o[i].abbr)),a.push(it(o[i].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}K(0,["gg",2],0,function(){return this.weekYear()%100});K(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Xa(e,t){K(0,[e,e.length],0,t)}Xa("gggg","weekYear");Xa("ggggg","weekYear");Xa("GGGG","isoWeekYear");Xa("GGGGG","isoWeekYear");Ge("weekYear","gg");Ge("isoWeekYear","GG");Ze("weekYear",1);Ze("isoWeekYear",1);Y("G",Qa);Y("g",Qa);Y("GG",De,st);Y("gg",De,st);Y("GGGG",rl,ol);Y("gggg",rl,ol);Y("GGGGG",ja,za);Y("ggggg",ja,za);sa(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,a){t[a.substr(0,2)]=ue(e)});sa(["gg","GG"],function(e,t,n,a){t[a]=R.parseTwoDigitYear(e)});function Dg(e){return Lr.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function $g(e){return Lr.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function xg(){return Rt(this.year(),1,4)}function Ig(){return Rt(this.isoWeekYear(),1,4)}function Ag(){var e=this.localeData()._week;return Rt(this.year(),e.dow,e.doy)}function Og(){var e=this.localeData()._week;return Rt(this.weekYear(),e.dow,e.doy)}function Lr(e,t,n,a,i){var l;return e==null?Xn(this,a,i).year:(l=Rt(e,a,i),t>l&&(t=l),Eg.call(this,e,t,n,a,i))}function Eg(e,t,n,a,i){var l=vr(e,t,n,a,i),o=Jn(l.year,0,l.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}K("Q",0,"Qo","quarter");Ge("quarter","Q");Ze("quarter",7);Y("Q",or);Te("Q",function(e,t){t[Nt]=(ue(e)-1)*3});function Ng(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}K("D",["DD",2],"Do","date");Ge("date","D");Ze("date",9);Y("D",De);Y("DD",De,st);Y("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Te(["D","DD"],Mt);Te("Do",function(e,t){t[Mt]=ue(e.match(De)[0])});var Rr=Rn("Date",!0);K("DDD",["DDDD",3],"DDDo","dayOfYear");Ge("dayOfYear","DDD");Ze("dayOfYear",4);Y("DDD",Wa);Y("DDDD",rr);Te(["DDD","DDDD"],function(e,t,n){n._dayOfYear=ue(e)});function Lg(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}K("m",["mm",2],0,"minute");Ge("minute","m");Ze("minute",14);Y("m",De);Y("mm",De,st);Te(["m","mm"],yt);var Rg=Rn("Minutes",!1);K("s",["ss",2],0,"second");Ge("second","s");Ze("second",15);Y("s",De);Y("ss",De,st);Te(["s","ss"],Lt);var Bg=Rn("Seconds",!1);K("S",0,0,function(){return~~(this.millisecond()/100)});K(0,["SS",2],0,function(){return~~(this.millisecond()/10)});K(0,["SSS",3],0,"millisecond");K(0,["SSSS",4],0,function(){return this.millisecond()*10});K(0,["SSSSS",5],0,function(){return this.millisecond()*100});K(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});K(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});K(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});K(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Ge("millisecond","ms");Ze("millisecond",16);Y("S",Wa,or);Y("SS",Wa,st);Y("SSS",Wa,rr);var Zt,Br;for(Zt="SSSS";Zt.length<=9;Zt+="S")Y(Zt,Bn);function Vg(e,t){t[sn]=ue(("0."+e)*1e3)}for(Zt="S";Zt.length<=9;Zt+="S")Te(Zt,Vg);Br=Rn("Milliseconds",!1);K("z",0,0,"zoneAbbr");K("zz",0,0,"zoneName");function Fg(){return this._isUTC?"UTC":""}function Yg(){return this._isUTC?"Coordinated Universal Time":""}var D=oa.prototype;D.add=Om;D.calendar=Fm;D.clone=Ym;D.diff=Km;D.endOf=lg;D.format=Xm;D.from=eg;D.fromNow=tg;D.to=ng;D.toNow=ag;D.get=Hf;D.invalidAt=mg;D.isAfter=Um;D.isBefore=Hm;D.isBetween=zm;D.isSame=Wm;D.isSameOrAfter=jm;D.isSameOrBefore=Qm;D.isValid=fg;D.lang=Ir;D.locale=xr;D.localeData=Ar;D.max=fm;D.min=dm;D.parsingFlags=hg;D.set=zf;D.startOf=ig;D.subtract=Em;D.toArray=ug;D.toObject=cg;D.toDate=sg;D.toISOString=Zm;D.inspect=Jm;typeof Symbol!="undefined"&&Symbol.for!=null&&(D[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});D.toJSON=dg;D.toString=Gm;D.unix=rg;D.valueOf=og;D.creationData=gg;D.eraName=bg;D.eraNarrow=_g;D.eraAbbr=wg;D.eraYear=Sg;D.year=gr;D.isLeapYear=ch;D.weekYear=Dg;D.isoWeekYear=$g;D.quarter=D.quarters=Ng;D.month=hr;D.daysInMonth=rh;D.week=D.weeks=vh;D.isoWeek=D.isoWeeks=yh;D.weeksInYear=Ag;D.weeksInWeekYear=Og;D.isoWeeksInYear=xg;D.isoWeeksInISOWeekYear=Ig;D.date=Rr;D.day=D.days=$h;D.weekday=xh;D.isoWeekday=Ih;D.dayOfYear=Lg;D.hour=D.hours=Bh;D.minute=D.minutes=Rg;D.second=D.seconds=Bg;D.millisecond=D.milliseconds=Br;D.utcOffset=wm;D.utc=km;D.local=Cm;D.parseZone=Tm;D.hasAlignedHourOffset=Mm;D.isDST=qm;D.isLocal=Dm;D.isUtcOffset=$m;D.isUtc=qr;D.isUTC=qr;D.zoneAbbr=Fg;D.zoneName=Yg;D.dates=ht("dates accessor is deprecated. Use date instead.",Rr);D.months=ht("months accessor is deprecated. Use month instead",hr);D.years=ht("years accessor is deprecated. Use year instead",gr);D.zone=ht("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Sm);D.isDSTShifted=ht("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Pm);function Ug(e){return Pe(e*1e3)}function Hg(){return Pe.apply(null,arguments).parseZone()}function Vr(e){return e}var pe=al.prototype;pe.calendar=$f;pe.longDateFormat=Of;pe.invalidDate=Nf;pe.ordinal=Bf;pe.preparse=Vr;pe.postformat=Vr;pe.relativeTime=Ff;pe.pastFuture=Yf;pe.set=Pf;pe.eras=vg;pe.erasParse=yg;pe.erasConvertYear=pg;pe.erasAbbrRegex=Cg;pe.erasNameRegex=kg;pe.erasNarrowRegex=Tg;pe.months=ah;pe.monthsShort=ih;pe.monthsParse=oh;pe.monthsRegex=uh;pe.monthsShortRegex=sh;pe.week=fh;pe.firstDayOfYear=gh;pe.firstDayOfWeek=mh;pe.weekdays=Th;pe.weekdaysMin=qh;pe.weekdaysShort=Mh;pe.weekdaysParse=Dh;pe.weekdaysRegex=Ah;pe.weekdaysShortRegex=Oh;pe.weekdaysMinRegex=Eh;pe.isPM=Lh;pe.meridiem=Vh;function Oa(e,t,n,a){var i=Yt(),l=Dt().set(a,t);return i[n](l,e)}function Fr(e,t,n){if(Bt(e)&&(t=e,e=void 0),e=e||"",t!=null)return Oa(e,t,n,"month");var a,i=[];for(a=0;a<12;a++)i[a]=Oa(e,a,n,"month");return i}function bl(e,t,n,a){typeof e=="boolean"?(Bt(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,Bt(t)&&(n=t,t=void 0),t=t||"");var i=Yt(),l=e?i._week.dow:0,o,r=[];if(n!=null)return Oa(t,(n+l)%7,a,"day");for(o=0;o<7;o++)r[o]=Oa(t,(o+l)%7,a,"day");return r}function zg(e,t){return Fr(e,t,"months")}function Wg(e,t){return Fr(e,t,"monthsShort")}function jg(e,t,n){return bl(e,t,n,"weekdays")}function Qg(e,t,n){return bl(e,t,n,"weekdaysShort")}function Kg(e,t,n){return bl(e,t,n,"weekdaysMin")}Jt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=ue(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});R.lang=ht("moment.lang is deprecated. Use moment.locale instead.",Jt);R.langData=ht("moment.langData is deprecated. Use moment.localeData instead.",Yt);var At=Math.abs;function Gg(){var e=this._data;return this._milliseconds=At(this._milliseconds),this._days=At(this._days),this._months=At(this._months),e.milliseconds=At(e.milliseconds),e.seconds=At(e.seconds),e.minutes=At(e.minutes),e.hours=At(e.hours),e.months=At(e.months),e.years=At(e.years),this}function Yr(e,t,n,a){var i=wt(t,n);return e._milliseconds+=a*i._milliseconds,e._days+=a*i._days,e._months+=a*i._months,e._bubble()}function Zg(e,t){return Yr(this,e,t,1)}function Jg(e,t){return Yr(this,e,t,-1)}function to(e){return e<0?Math.floor(e):Math.ceil(e)}function Xg(){var e=this._milliseconds,t=this._days,n=this._months,a=this._data,i,l,o,r,s;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=to(Li(n)+t)*864e5,t=0,n=0),a.milliseconds=e%1e3,i=ft(e/1e3),a.seconds=i%60,l=ft(i/60),a.minutes=l%60,o=ft(l/60),a.hours=o%24,t+=ft(o/24),s=ft(Ur(t)),n+=s,t-=to(Li(s)),r=ft(n/12),n%=12,a.days=t,a.months=n,a.years=r,this}function Ur(e){return e*4800/146097}function Li(e){return e*146097/4800}function ev(e){if(!this.isValid())return NaN;var t,n,a=this._milliseconds;if(e=mt(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+a/864e5,n=this._months+Ur(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Li(this._months)),e){case"week":return t/7+a/6048e5;case"day":return t+a/864e5;case"hour":return t*24+a/36e5;case"minute":return t*1440+a/6e4;case"second":return t*86400+a/1e3;case"millisecond":return Math.floor(t*864e5)+a;default:throw new Error("Unknown unit "+e)}}function tv(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+ue(this._months/12)*31536e6:NaN}function Ut(e){return function(){return this.as(e)}}var nv=Ut("ms"),av=Ut("s"),iv=Ut("m"),lv=Ut("h"),ov=Ut("d"),rv=Ut("w"),sv=Ut("M"),uv=Ut("Q"),cv=Ut("y");function dv(){return wt(this)}function fv(e){return e=mt(e),this.isValid()?this[e+"s"]():NaN}function hn(e){return function(){return this.isValid()?this._data[e]:NaN}}var hv=hn("milliseconds"),mv=hn("seconds"),gv=hn("minutes"),vv=hn("hours"),yv=hn("days"),pv=hn("months"),bv=hn("years");function _v(){return ft(this.days()/7)}var Ot=Math.round,Tn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function wv(e,t,n,a,i){return i.relativeTime(t||1,!!n,e,a)}function Sv(e,t,n,a){var i=wt(e).abs(),l=Ot(i.as("s")),o=Ot(i.as("m")),r=Ot(i.as("h")),s=Ot(i.as("d")),u=Ot(i.as("M")),d=Ot(i.as("w")),v=Ot(i.as("y")),y=l<=n.ss&&["s",l]||l<n.s&&["ss",l]||o<=1&&["m"]||o<n.m&&["mm",o]||r<=1&&["h"]||r<n.h&&["hh",r]||s<=1&&["d"]||s<n.d&&["dd",s];return n.w!=null&&(y=y||d<=1&&["w"]||d<n.w&&["ww",d]),y=y||u<=1&&["M"]||u<n.M&&["MM",u]||v<=1&&["y"]||["yy",v],y[2]=t,y[3]=+e>0,y[4]=a,wv.apply(null,y)}function kv(e){return e===void 0?Ot:typeof e=="function"?(Ot=e,!0):!1}function Cv(e,t){return Tn[e]===void 0?!1:t===void 0?Tn[e]:(Tn[e]=t,e==="s"&&(Tn.ss=t-1),!0)}function Tv(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,a=Tn,i,l;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(a=Object.assign({},Tn,t),t.s!=null&&t.ss==null&&(a.ss=t.s-1)),i=this.localeData(),l=Sv(this,!n,a,i),n&&(l=i.pastFuture(+this,l)),i.postformat(l)}var _i=Math.abs;function wn(e){return(e>0)-(e<0)||+e}function ei(){if(!this.isValid())return this.localeData().invalidDate();var e=_i(this._milliseconds)/1e3,t=_i(this._days),n=_i(this._months),a,i,l,o,r=this.asSeconds(),s,u,d,v;return r?(a=ft(e/60),i=ft(a/60),e%=60,a%=60,l=ft(n/12),n%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",s=r<0?"-":"",u=wn(this._months)!==wn(r)?"-":"",d=wn(this._days)!==wn(r)?"-":"",v=wn(this._milliseconds)!==wn(r)?"-":"",s+"P"+(l?u+l+"Y":"")+(n?u+n+"M":"")+(t?d+t+"D":"")+(i||a||e?"T":"")+(i?v+i+"H":"")+(a?v+a+"M":"")+(e?v+o+"S":"")):"P0D"}var he=Ja.prototype;he.isValid=ym;he.abs=Gg;he.add=Zg;he.subtract=Jg;he.as=ev;he.asMilliseconds=nv;he.asSeconds=av;he.asMinutes=iv;he.asHours=lv;he.asDays=ov;he.asWeeks=rv;he.asMonths=sv;he.asQuarters=uv;he.asYears=cv;he.valueOf=tv;he._bubble=Xg;he.clone=dv;he.get=fv;he.milliseconds=hv;he.seconds=mv;he.minutes=gv;he.hours=vv;he.days=yv;he.weeks=_v;he.months=pv;he.years=bv;he.humanize=Tv;he.toISOString=ei;he.toString=ei;he.toJSON=ei;he.locale=xr;he.localeData=Ar;he.toIsoString=ht("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ei);he.lang=Ir;K("X",0,0,"unix");K("x",0,0,"valueOf");Y("x",Qa);Y("X",jf);Te("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});Te("x",function(e,t,n){n._d=new Date(ue(e))});//! moment.js
R.version="2.29.4";Mf(Pe);R.fn=D;R.min=hm;R.max=mm;R.now=gm;R.utc=Dt;R.unix=Ug;R.months=zg;R.isDate=la;R.locale=Jt;R.invalid=Ua;R.duration=wt;R.isMoment=bt;R.weekdays=jg;R.parseZone=Hg;R.localeData=Yt;R.isDuration=va;R.monthsShort=Wg;R.weekdaysMin=Kg;R.defineLocale=dl;R.updateLocale=Hh;R.locales=zh;R.weekdaysShort=Qg;R.normalizeUnits=mt;R.relativeTimeRounding=kv;R.relativeTimeThreshold=Cv;R.calendarFormat=Vm;R.prototype=D;R.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Mv=ot({name:"CustomerOrders",props:["orders","products","stalls","merchants"],data:function(){return{}},computed:{merchantOrders:function(){return Object.keys(this.orders).map(e=>({pubkey:e,profile:this.merchantProfile(e),orders:this.orders[e].map(this.enrichOrder)}))}},methods:{enrichOrder:function(e){var n;const t=this.stallForOrder(e);return{...e,stallName:(t==null?void 0:t.name)||"Stall",shippingZone:((n=t==null?void 0:t.shipping)==null?void 0:n.find(a=>a.id===e.shipping_id))||{id:e.shipping_id,name:e.shipping_id},invoice:this.invoiceForOrder(e),products:this.getProductsForOrder(e)}},stallForOrder:function(e){var t;try{const n=e.items&&((t=e.items[0])==null?void 0:t.product_id);if(!n)return;const a=this.products.find(l=>l.id===n);if(!a)return;const i=this.stalls.find(l=>l.id===a.stall_id);return i||void 0}catch(n){console.log(n)}},invoiceForOrder:function(e){var t;try{const n=(t=e==null?void 0:e.payment_options)==null?void 0:t.find(a=>a.type==="ln");return n!=null&&n.link?decode(n.link):void 0}catch(n){console.warn(n)}},merchantProfile:function(e){const t=this.merchants.find(n=>n.publicKey===e);return t==null?void 0:t.profile},getProductsForOrder:function(e){var t;return(t=e==null?void 0:e.items)!=null&&t.length?e.items.map(n=>({...this.products.find(i=>i.id===n.product_id)||{id:n.product_id,name:n.product_id},orderedQuantity:n.quantity})):[]},showInvoice:function(e){var n;if(e.paid)return;const t=(n=e==null?void 0:e.payment_options)==null?void 0:n.find(a=>a.type==="ln").link;!t||this.$emit("show-invoice",t)},formatCurrency:function(e,t){return formatCurrency(e,t)},fromNow:function(e){return e?R(e*1e3).fromNow():""}},created(){}}),qv=m("strong",null,"No orders!",-1),Pv=["src"],Dv=["src"],$v=["textContent"],xv=["textContent"],Iv=["textContent"],Av=["textContent"],Ov={class:"text-caption text-grey ellipsis-2-lines"},Ev={key:0},Nv=["textContent"],Lv=["textContent"],Rv=["textContent"],Bv={class:"text-caption text-grey ellipsis-2-lines"},Vv=["textContent"],Fv=["textContent"],Yv=m("strong",null,"Order ID: ",-1),Uv=["textContent"],Hv=m("strong",null,"Products",-1),zv=["src"],Wv=["src"],jv={class:"text-caption text-grey ellipsis-2-lines"},Qv=m("strong",null,"Shipping Zone: ",-1),Kv=["textContent"],Gv=m("strong",null,"Message: ",-1),Zv=["textContent"],Jv=m("strong",null,"Invoice: ",-1),Xv=["textContent"];function e0(e,t,n,a,i,l){var o;return S(),V("div",null,[(o=e.merchantOrders)!=null&&o.length?fe("",!0):(S(),j(lt,{key:0,bordered:"",class:"q-mb-md"},{default:f(()=>[c(we,null,{default:f(()=>[qv]),_:1})]),_:1})),(S(!0),V(et,null,at(e.merchantOrders,r=>(S(),V("div",{key:r.id},[c(lt,{bordered:"",class:"q-mb-md"},{default:f(()=>[c(nt,null,{default:f(()=>[c(ae,{avatar:""},{default:f(()=>[c(vt,null,{default:f(()=>{var s,u;return[(s=r.profile)!=null&&s.picture?(S(),V("img",{key:0,src:(u=r.profile)==null?void 0:u.picture},null,8,Pv)):(S(),V("img",{key:1,src:e.$q.config.staticPath+"/images/blank-avatar.webp"},null,8,Dv))]}),_:2},1024)]),_:2},1024),c(ae,null,{default:f(()=>[c(se,null,{default:f(()=>{var s;return[m("strong",null,[m("span",{textContent:W((s=r.profile)==null?void 0:s.name)},null,8,$v)])]}),_:2},1024),c(se,{caption:""},{default:f(()=>[m("span",{class:"ellipsis-2-lines text-wrap",textContent:W(r.pubkey)},null,8,xv)]),_:2},1024)]),_:2},1024)]),_:2},1024),c(Ae),c(we,{class:"col-12"},{default:f(()=>[c(Qt,null,{default:f(()=>[(S(!0),V(et,null,at(r.orders,s=>(S(),V("div",{key:s.id,class:"q-mb-md"},[c(Tf,{dense:"","expand-separator":""},{header:f(()=>[c(ae,{class:"q-mt-sm"},{default:f(()=>[c(se,null,{default:f(()=>{var u,d;return[m("strong",null,[m("span",{textContent:W(s.stallName)},null,8,Iv)]),(d=(u=s.invoice)==null?void 0:u.human_readable_part)!=null&&d.amount?(S(),j(rn,{key:0,onClick:v=>e.showInvoice(s),color:"orange",class:"q-ml-lg gt-sm"},{default:f(()=>{var v,y;return[m("span",{textContent:W(e.formatCurrency(((y=(v=s.invoice)==null?void 0:v.human_readable_part)==null?void 0:y.amount)/1e3,"sat"))},null,8,Av)]}),_:2},1032,["onClick"])):fe("",!0)]}),_:2},1024),c(se,null,{default:f(()=>[m("div",Ov,[s.createdAt?(S(),V("p",Ev,[m("span",{textContent:W(e.fromNow(s.createdAt))},null,8,Nv)])):fe("",!0)])]),_:2},1024)]),_:2},1024),c(ae,{side:""},{default:f(()=>[c(se,null,{default:f(()=>[c(rn,{color:s.paid?"green":"grey"},{default:f(()=>[m("span",{textContent:W(s.paid?"Paid":"Not Paid")},null,8,Lv)]),_:2},1032,["color"]),c(rn,{color:s.shipped?"green":"grey",class:"q-ml-md"},{default:f(()=>[m("span",{textContent:W(s.shipped?"Shipped":"Not Shipped")},null,8,Rv)]),_:2},1032,["color"])]),_:2},1024),c(se,null,{default:f(()=>{var u,d;return[m("div",Bv,[m("p",null,[m("span",{textContent:W((u=s.items)==null?void 0:u.length)},null,8,Vv),m("span",{textContent:W(((d=s.items)==null?void 0:d.length)===1?"product":"products")},null,8,Fv)])])]}),_:2},1024)]),_:2},1024)]),default:f(()=>[c(Ae),c(we,{class:"col-12"},{default:f(()=>[c(ae,null,{default:f(()=>[c(se,null,{default:f(()=>[Yv,oe(),m("span",{class:"ellipsis-2-lines text-wrap",textContent:W(s.id)},null,8,Uv)]),_:2},1024)]),_:2},1024)]),_:2},1024),c(Ae),c(we,{horizontal:""},{default:f(()=>[c(we,{class:"col-7"},{default:f(()=>[c(ae,{class:"q-mt-sm"},{default:f(()=>[c(se,null,{default:f(()=>[Hv]),_:1})]),_:1}),(S(!0),V(et,null,at(s.products,u=>(S(),j(nt,{key:u.id},{default:f(()=>[c(ae,{avatar:""},{default:f(()=>[c(vt,null,{default:f(()=>[u.images&&u.images[0]||u.image?(S(),V("img",{key:0,src:u.images[0]||u.image},null,8,zv)):(S(),V("img",{key:1,src:e.$q.config.staticPath+"/images/placeholder.png"},null,8,Wv))]),_:2},1024)]),_:2},1024),c(ae,{class:"q-mt-sm"},{default:f(()=>[c(se),c(se,null,{default:f(()=>[m("strong",null,W(u.orderedQuantity)+" x "+W(u.name),1)]),_:2},1024),c(se,null,{default:f(()=>[m("div",jv,[m("p",null,W(u.description),1)])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024),c(Ae,{vertical:""}),c(we,null,{default:f(()=>[c(ae,{class:"q-mt-md q-ml-sm"},{default:f(()=>[c(se,null,{default:f(()=>{var u;return[Qv,m("span",{textContent:W(((u=s.shippingZone)==null?void 0:u.name)||"")},null,8,Kv)]}),_:2},1024)]),_:2},1024),s.message?(S(),j(ae,{key:0,class:"q-mt-md q-ml-sm"},{default:f(()=>[c(se,null,{default:f(()=>[Gv,m("span",{textContent:W(s.message)},null,8,Zv)]),_:2},1024)]),_:2},1024)):fe("",!0),c(ae,{class:"q-mt-md q-ml-sm"},{default:f(()=>[c(se,null,{default:f(()=>{var u,d;return[Jv,(d=(u=s.invoice)==null?void 0:u.human_readable_part)!=null&&d.amount?(S(),j(rn,{key:0,onClick:v=>e.showInvoice(s),color:"orange",class:"cursor-pointer"},{default:f(()=>{var v,y;return[m("span",{textContent:W(e.formatCurrency(((y=(v=s.invoice)==null?void 0:v.human_readable_part)==null?void 0:y.amount)/1e3,"sat"))},null,8,Xv)]}),_:2},1032,["onClick"])):fe("",!0)]}),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),c(Ae,{class:"q-mb-xl"})]),_:2},1024),c(Ae)]))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]))),128))])}var t0=_t(Mv,[["render",e0]]),n0=Se({name:"QCarouselSlide",props:{...Wo,imgSrc:String},setup(e,{slots:t}){const n=k(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>_("div",{class:"q-carousel__slide",style:n.value},Ee(t.default))}});let Hn=0;const a0={fullscreen:Boolean,noRouteFullscreenExit:Boolean},i0=["update:fullscreen","fullscreen"];function l0(){const e=Fe(),{props:t,emit:n,proxy:a}=e;let i,l,o;const r=Q(!1);Ns(e)===!0&&de(()=>a.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&d()}),de(()=>t.fullscreen,v=>{r.value!==v&&s()}),de(r,v=>{n("update:fullscreen",v),n("fullscreen",v)});function s(){r.value===!0?d():u()}function u(){r.value!==!0&&(r.value=!0,o=a.$el.parentNode,o.replaceChild(l,a.$el),document.body.appendChild(a.$el),Hn++,Hn===1&&document.body.classList.add("q-body--fullscreen-mixin"),i={handler:d},Nl.add(i))}function d(){r.value===!0&&(i!==void 0&&(Nl.remove(i),i=void 0),o.replaceChild(a.$el,l),r.value=!1,Hn=Math.max(0,Hn-1),Hn===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),a.$el.scrollIntoView!==void 0&&setTimeout(()=>{a.$el.scrollIntoView()})))}return Ui(()=>{l=document.createElement("span")}),fn(()=>{t.fullscreen===!0&&u()}),Ke(d),Object.assign(a,{toggleFullscreen:s,setFullscreen:u,exitFullscreen:d}),{inFullscreen:r,toggleFullscreen:s}}const o0=["top","right","bottom","left"],r0=["regular","flat","outline","push","unelevated"];var s0=Se({name:"QCarousel",props:{...Vt,...jo,...a0,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>r0.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>o0.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...i0,...Qo],setup(e,{slots:t}){const{proxy:{$q:n}}=Fe(),a=Ft(e,n);let i=null,l;const{updatePanelsList:o,getPanelContent:r,panelDirectives:s,goToPanel:u,previousPanel:d,nextPanel:v,getEnabledPanels:y,panelIndex:g}=Ko(),{inFullscreen:C}=l0(),w=k(()=>C.value!==!0&&e.height!==void 0?{height:e.height}:{}),T=k(()=>e.vertical===!0?"vertical":"horizontal"),q=k(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(C.value===!0?" fullscreen":"")+(a.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${T.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${M.value}`:"")),P=k(()=>{const Z=[e.prevIcon||n.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||n.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&n.lang.rtl===!0?Z.reverse():Z}),p=k(()=>e.navigationIcon||n.iconSet.carousel.navigationIcon),b=k(()=>e.navigationActiveIcon||p.value),M=k(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),B=k(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));de(()=>e.modelValue,()=>{e.autoplay&&x()}),de(()=>e.autoplay,Z=>{Z?x():i!==null&&(clearTimeout(i),i=null)});function x(){const Z=Ls(e.autoplay)===!0?Math.abs(e.autoplay):5e3;i!==null&&clearTimeout(i),i=setTimeout(()=>{i=null,Z>=0?v():d()},Z)}fn(()=>{e.autoplay&&x()}),Ke(()=>{i!==null&&clearTimeout(i)});function $(Z,ce){return _("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${Z} q-carousel__navigation--${M.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[_("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},y().map(ce))])}function G(){const Z=[];if(e.navigation===!0){const ce=t["navigation-icon"]!==void 0?t["navigation-icon"]:E=>_(ee,{key:"nav"+E.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${E.active===!0?"":"in"}active`,...E.btnProps,onClick:E.onClick}),$e=l-1;Z.push($("buttons",(E,le)=>{const ve=E.props.name,ke=g.value===le;return ce({index:le,maxIndex:$e,name:ve,active:ke,btnProps:{icon:ke===!0?b.value:p.value,size:"sm",...B.value},onClick:()=>{u(ve)}})}))}else if(e.thumbnails===!0){const ce=e.controlColor!==void 0?` text-${e.controlColor}`:"";Z.push($("thumbnails",$e=>{const E=$e.props;return _("img",{key:"tmb#"+E.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${E.name===e.modelValue?"":"in"}active`+ce,src:E.imgSrc||E["img-src"],onClick:()=>{u(E.name)}})}))}return e.arrows===!0&&g.value>=0&&((e.infinite===!0||g.value>0)&&Z.push(_("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${T.value} absolute flex flex-center`},[_(ee,{icon:P.value[0],...B.value,onClick:d})])),(e.infinite===!0||g.value<l-1)&&Z.push(_("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${T.value} absolute flex flex-center`},[_(ee,{icon:P.value[1],...B.value,onClick:v})]))),Ln(t.control,Z)}return()=>(l=o(t),_("div",{class:q.value,style:w.value},[Yi("div",{class:"q-carousel__slides-container"},r(),"sl-cont",e.swipeable,()=>s.value)].concat(G())))}});const u0=ot({name:"ProductDetail",props:["product","add-to-cart"],data:function(){return{slide:1}},computed:{},methods:{},created(){}}),c0={class:"row"},d0={class:"col-lg-5 col-md-5 col-sm-12 col-xs-12 q-mt-sm"},f0={key:0,class:"q-pr-md"},h0={key:1,class:"q-pr-md"},m0={class:"col-lg-7 col-md-7 col-sm-12 col-xs-12 q-mt-sm"},g0={class:"row"},v0={class:"text-subtitle1 q-mt-sm q-pt-xs"},y0={key:0,class:"text-subtitle1"},p0={class:"q-mt-sm text-weight-bold"},b0={key:0},_0={class:"text-h6"},w0={class:"q-ml-sm text-grey-6"},S0={key:1},k0={class:"text-h6"},C0={class:"q-ml-md text-caption text-green-8 text-weight-bolder q-mt-md"},T0={class:"q-mt-md"};function M0(e,t,n,a,i,l){return S(),V("div",c0,[m("div",d0,[e.product.images&&e.product.images[0]?(S(),V("div",f0,[c(s0,{swipeable:"",animated:"",modelValue:e.slide,"onUpdate:modelValue":t[0]||(t[0]=o=>e.slide=o),thumbnails:"",infinite:"",arrows:"","transition-prev":"slide-right","transition-next":"slide-left","navigation-icon":"radio_button_unchecked","control-type":"regular","control-color":"secondary","control-text-color":"white"},{default:f(()=>[(S(!0),V(et,null,at(e.product.images,(o,r)=>(S(),j(n0,{name:r+1,key:r,"img-src":o},null,8,["name","img-src"]))),128))]),_:1},8,["modelValue"])])):(S(),V("div",h0,[c(ji,{src:e.$q.config.staticPath+"/images/placeholder.png",ratio:16/9},null,8,["src"])]))]),m("div",m0,[c(lt,null,{default:f(()=>[c(we,null,{default:f(()=>[m("div",g0,[m("div",{class:Rs(["col-12",e.$q.platform.is.desktop?"":"q-px-md"])},[m("div",v0,W(e.product.name),1),e.product.categories?(S(),V("div",y0,[(S(!0),V(et,null,at(e.product.categories,(o,r)=>(S(),j(aa,{key:r,dense:""},{default:f(()=>[oe(W(o),1)]),_:2},1024))),128))])):fe("",!0),m("div",p0,W(e.product.description),1),m("div",null,[e.product.currency=="sat"?(S(),V("span",b0,[m("span",_0,W(e.product.price)+" sats",1),m("span",w0,"BTC "+W((e.product.price/1e8).toFixed(8)),1)])):(S(),V("span",S0,[m("span",k0,W(e.product.formatedPrice),1)])),m("span",C0,W(e.product.quantity>0?`In
                  stock. ${e.product.quantity} left.`:"Out of stock."),1)]),m("div",T0,[c(ee,{class:"q-mt-md",color:"primary",rounded:"",icon:"shopping_cart",label:"Add to cart",onClick:t[1]||(t[1]=o=>e.$emit("add-to-cart",e.product))})])],2)])]),_:1})]),_:1})])])}var q0=_t(u0,[["render",M0]]);const P0=ot({name:"CustomerStall",components:{ProductCard:Jo,ProductDetail:q0},props:["stall","products","product-detail"],data:function(){return{}},computed:{product(){if(this.productDetail)return this.products.find(e=>e.id==this.productDetail)}},methods:{changePageS(e,t){var n;e==="stall"&&(t==null?void 0:t.product)&&((n=document.getElementById("product-focus-area"))==null||n.scrollIntoView()),this.$emit("change-page",e,t)},addToCart(e){this.$emit("add-to-cart",e)}}}),D0=m("div",{id:"product-focus-area"},null,-1),$0={key:0,class:"row"},x0={class:"col-12 auto-width"},I0={class:"col-12 q-my-lg"},A0={class:"row q-col-gutter-md"};function O0(e,t,n,a,i,l){const o=Ci("product-detail"),r=Ci("product-card");return S(),V("div",null,[D0,e.productDetail&&e.product?(S(),V("div",$0,[m("div",x0,[c(o,{product:e.product,onAddToCart:e.addToCart},null,8,["product","onAddToCart"])]),m("div",I0,[c(Ae)])])):fe("",!0),m("div",A0,[(S(!0),V(et,null,at(e.products,(s,u)=>(S(),V("div",{class:"col-xs-12 col-sm-6 col-md-4 col-lg-3",key:u},[c(r,{product:s,onChangePage:e.changePageS,onAddToCart:e.addToCart,"is-stall":!0},null,8,["product","onChangePage","onAddToCart"])]))),128))])])}var E0=_t(P0,[["render",O0]]);const N0=ot({name:"CustomerStallList",props:["stalls"],data:function(){return{showStalls:!0}},watch:{stalls(){this.showProducts=!1,setTimeout(()=>{this.showProducts=!0},0)}},computed:{},methods:{},created(){}}),L0={key:0,class:"row q-col-gutter-md"},R0={class:"q-pa-md q-gutter-sm",style:{height:"80px"}},B0=["src"],V0={class:"row no-wrap items-center"},F0={class:"col text-subtitle2 ellipsis-2-lines"},Y0={class:"text-caption text-green-8 text-weight-bolder q-mt-md"},U0=["textContent"],H0=["textContent"],z0={key:0,class:"text-subtitle1"},W0=["textContent"],j0={key:1,class:"text-subtitle1"},Q0={class:"text-caption text-grey ellipsis-2-lines",style:{"min-height":"40px"}},K0={class:"q-ml-auto"};function G0(e,t,n,a,i,l){return e.showStalls?(S(),V("div",L0,[(S(!0),V(et,null,at(e.stalls,o=>(S(),V("div",{key:o.id,class:"col-xs-12 col-sm-6 col-md-4 col-lg-3"},[c(lt,{class:"card--product"},{default:f(()=>[c(we,{class:"q-pb-xs q-pt-md"},{default:f(()=>[m("div",R0,[(S(!0),V(et,null,at(o.images,(r,s)=>(S(),j(vt,{key:s,size:"40px",class:"overlapping",style:Bs(`left: ${s*25}px; border: 2px solid white; position: absolute`)},{default:f(()=>[m("img",{src:r},null,8,B0)]),_:2},1032,["style"]))),128))])]),_:2},1024),c(we,{class:"q-pb-xs q-pt-md"},{default:f(()=>[m("div",V0,[m("div",F0,W(o.name),1)])]),_:2},1024),c(Ae),c(we,{class:"q-pl-sm"},{default:f(()=>[m("div",null,[m("span",Y0,[m("span",{textContent:W(o.productCount)},null,8,U0),oe(" products")]),m("span",{textContent:W(o.currency),class:"float-right"},null,8,H0)])]),_:2},1024),c(we,{class:"q-pl-sm gt-sm"},{default:f(()=>[o.categories?(S(),V("div",z0,[c(Wi,{items:o.categories||[],"virtual-scroll-horizontal":""},{default:f(({item:r,index:s})=>[(S(),j(aa,{key:s,dense:""},{default:f(()=>[m("span",{textContent:W(r)},null,8,W0)]),_:2},1024))]),_:2},1032,["items"])])):(S(),V("div",j0," \xA0 ")),m("div",Q0,[m("p",null,W(o.description||""),1)])]),_:2},1024),c(Ae),c(In,null,{default:f(()=>[m("div",K0,[c(ee,{flat:"",class:"text-weight-bold text-capitalize q-ml-auto float-left",dense:"",color:"primary",onClick:r=>e.$emit("change-page","stall",{stall:o.id})},{default:f(()=>[oe(" Visit Stall ")]),_:2},1032,["onClick"])])]),_:2},1024)]),_:2},1024)]))),128))])):fe("",!0)}var Z0=_t(N0,[["render",G0]]);const J0={class:"row q-mb-md q-pa-none"},X0=["src"],ey=m("div",{id:"search-text"},null,-1),ty={class:"float-right"},ny=["textContent"],ay={key:0,class:"gt-sm"},iy=["textContent","onClick"],ly=["textContent"],oy={key:1,class:"row q-mb-sm"},ry={class:"col-12 text-center"},sy={key:0,class:"absolute-bottom text-subtitle1 text-center"},uy=["textContent"],cy={class:"row q-mb-sm"},dy={class:"col-md-10 col-sm-1 auto-width"},fy={class:"col-md-2 col-sm-1"},hy={key:9},my=m("strong",{class:"text-h4"},"Welcome to the Nostr Market!",-1),gy=m("strong",{class:"text-h5 q-mt-lg"},"In order to start you can:",-1),vy={class:"text-h6"},yy={class:"text-h6"},py={class:"text-h6"},by=m("code",null,"naddr",-1),_y={key:10},wy=m("div",{class:"text-h6"},"Account Setup",-1),Sy=m("p",null,"Enter your Nostr private key or generate a new one.",-1),ky={class:"text-center q-mb-lg"},Cy={key:0,class:"q-my-lg"},Ty=["textContent"],My=["href"],qy={key:0,ratio:1},Py={key:1},Dy={class:"row q-mt-lg"},$y=ot({name:"MarketPage",components:{MarketConfig:Zo},data:function(){return{account:null,accountMetadata:null,accountDialog:{show:!1,data:{watchOnly:!1,key:null}},markets:[],merchants:[],shoppingCarts:[],checkoutCart:null,checkoutStall:null,activePage:"market",activeOrderId:null,dmSubscriptions:{},qrCodeDialog:{data:{payment_request:null,message:null},dismissMsg:null,show:!1},filterCategories:[],groupByStall:!1,relays:new Set,stalls:[],products:[],orders:{},bannerImage:null,logoImage:null,isLoading:!1,showFilterDetails:!1,searchText:null,activeStall:null,activeProduct:null,pool:null,config:{opts:null},defaultBanner:this.$q.config.staticPath+"/images/nostr-cover.png",defaultLogo:this.$q.config.staticPath+"/images/nostr-avatar.png",defaultMarketNaddr:"naddr1qqjrqd3jv9skvwfc956rserz956xyeps94snwd3h95cn2ctr8ymrqdpe89jxzqg5waehxw309aex2mrp0yhxgctdw4eju6t0qyv8wumn8ghj7un9d3shjtnndehhyapwwdhkx6tpdsq36amnwvaz7tmwdaehgu3dwp6kytnhv4kxcmmjv3jhytnwv46qzxthwden5te0dehhxarj9eax2cn9v3jk2tnrd3hh2eqpramhxue69uhkummnw3ezuampd3kx2ar0veekzar0wd5xjtnrdaksyg96ypff6u56q9tk99qnp2kghg5ynuse3v7wdu0xxkurdlggj82gmspsgqqqw4psj5pe0p",readNotes:{merchants:!1,marketUi:!1}}},watch:{config(e,t){var n,a,i,l;(a=(n=e==null?void 0:e.opts)==null?void 0:n.ui)!=null&&a.banner?(this.bannerImage=null,setTimeout(()=>{var o,r;this.bannerImage=this.sanitizeImageSrc((r=(o=e==null?void 0:e.opts)==null?void 0:o.ui)==null?void 0:r.banner,this.defaultBanner)})):this.bannerImage=this.defaultBanner,(l=(i=e==null?void 0:e.opts)==null?void 0:i.ui)!=null&&l.picture?(this.logoImage=null,setTimeout(()=>{var o,r;this.logoImage=this.sanitizeImageSrc((r=(o=e==null?void 0:e.opts)==null?void 0:o.ui)==null?void 0:r.picture,this.defaultLogo)})):this.logoImage=this.defaultLogo},searchText(e,t){if(!!e&&e.toLowerCase().startsWith("naddr"))try{const{type:n,data:a}=NostrTools.nip19.decode(e);if(n!=="naddr"||a.kind!==30019)return;this.$q.dialog(confirm("Do you want to import this market profile?")).onOk(async()=>{await this.addMarket(e),this.searchText=""})}catch{}}},computed:{filterProducts(){let e=this.products.filter(n=>this.hasCategory(n.categories));if(this.activeStall&&(e=e.filter(n=>n.stall_id==this.activeStall)),!this.searchText||this.searchText.length<2)return e;const t=this.searchText.toLowerCase();return e.filter(n=>n.name.toLowerCase().includes(t)||n.description&&n.description.toLowerCase().includes(t)||n.categories&&n.categories.toString().toLowerCase().includes(t))},filterStalls(){const e=this.stalls.map(n=>({...n,categories:this.allStallCatgories(n.id),images:this.allStallImages(n.id).slice(0,8),productCount:this.products.filter(a=>a.stall_id===n.id).length})).filter(n=>this.hasCategory(n.categories));if(!this.searchText||this.searchText.length<2)return e;const t=this.searchText.toLowerCase();return this.stalls.filter(n=>n.name.toLowerCase().includes(t)||n.description&&n.description.toLowerCase().includes(t)||n.categories&&n.categories.toString().toLowerCase().includes(t))},stallName(){var e;return((e=this.stalls.find(t=>t.id==this.activeStall))==null?void 0:e.name)||"Stall"},productName(){var e;return((e=this.products.find(t=>t.id==this.activeProduct))==null?void 0:e.name)||"Product"},isValidAccountKey(){return isValidKey(this.accountDialog.data.key)},allCartsItemCount(){return this.shoppingCarts.map(e=>e.products).flat().reduce((e,t)=>e+t.orderedQuantity,0)},allCategories(){const t=this.products.map(n=>n.categories).flat().filter(n=>!!n).reduce((n,a)=>(n[a]=(n[a]||0)+1,n),{});return Object.keys(t).map(n=>({category:n,count:t[n],selected:this.filterCategories.indexOf(n)!==-1})).sort((n,a)=>a.count-n.count)}},async created(){this.bannerImage=this.defaultBanner,this.logoImage=this.defaultLogo,this.restoreFromStorage();const e=new URLSearchParams(window.location.search);await this.addMarket(e.get("naddr")),await this.handleQueryParams(e),await this.initNostr(),await this.listenForIncommingDms(this.merchants.map(t=>({publicKey:t.publicKey,since:this.lastDmForPubkey(t.publicKey)}))),this.isLoading=!1},methods:{async handleQueryParams(e){const t=e.get("merchant"),n=e.get("stall"),a=e.get("product");n&&(this.setActivePage("customer-stall"),a&&(this.activeProduct=a),this.activeStall=n),t&&!this.merchants.find(i=>i.publicKey===t)&&this.$q.dialog(confirm("We found a merchant pubkey in your request. Do you want to add it to the merchants list?")).onOk(async()=>{this.merchants.push({publicKey:t,profile:null})})},restoreFromStorage(){var l;this.markets=this.$q.localStorage.getItem("nostrmarket.markets")||[],this.merchants=this.$q.localStorage.getItem("nostrmarket.merchants")||[],this.shoppingCarts=this.$q.localStorage.getItem("nostrmarket.shoppingCarts")||[],this.account=this.$q.localStorage.getItem("nostrmarket.account")||null;const e=this.$q.localStorage.getItem("nostrmarket.marketplaceConfig")||{ui:{darkMode:!1}};this.config={...this.config,opts:{...this.config.opts,...e}},this.applyUiConfigs((l=this.config)==null?void 0:l.opts);const t="nostrmarket.orders.";this.$q.localStorage.getAllKeys().filter(o=>o.startsWith(t)).forEach(o=>{const r=o.substring(t.length);this.orders[r]=this.$q.localStorage.getItem(o)});const a=this.$q.localStorage.getItem("nostrmarket.relays");this.relays=new Set(a!=null&&a.length?a:defaultRelays);const i=this.$q.localStorage.getItem("nostrmarket.readNotes")||{};this.readNotes={...this.readNotes,...i}},applyUiConfigs(e={}){var i,l;const{name:t,about:n,ui:a}=e;this.$q.localStorage.set("nostrmarket.marketplaceConfig",{name:t,about:n,ui:a}),(i=e.ui)!=null&&i.theme&&document.body.setAttribute("data-theme",e.ui.theme),this.$q.dark.set(!!((l=e.ui)!=null&&l.darkMode))},async createAccount(e=!1){let t;if(e&&(await this.getFromExtension(),t=!0),isValidKey(this.accountDialog.data.key,"nsec")){let{key:n,watchOnly:a}=this.accountDialog.data;if(n.startsWith("n")){let{type:o,data:r}=NostrTools.nip19.decode(n);n=r}const i=a?null:n,l=a?n:NostrTools.getPublicKey(n);this.$q.localStorage.set("nostrmarket.account",{privkey:i,pubkey:l,nsec:NostrTools.nip19.nsecEncode(n),npub:NostrTools.nip19.npubEncode(l),useExtension:t!=null?t:!1}),this.accountDialog.data={watchOnly:!1,key:null},this.accountDialog.show=!1,this.account=this.$q.localStorage.getItem("nostrmarket.account")}this.accountDialog.show=!1},generateKeyPair(){this.accountDialog.data.key=NostrTools.generatePrivateKey(),this.accountDialog.data.watchOnly=!1},async getFromExtension(){this.accountDialog.data.key=await window.nostr.getPublicKey(),this.accountDialog.data.watchOnly=!0},openAccountDialog(){this.accountDialog.show=!0},async updateUiConfig(e){var i;const{name:t,about:n,ui:a}=e;this.config={...this.config,opts:{...this.config.opts,name:t,about:n,ui:a}},this.applyUiConfigs((i=this.config)==null?void 0:i.opts)},async updateData(e){if(console.log("### updateData",e),e.length<1){this.$q.notify({message:"No matches were found!"});return}let t=new Map,n=new Map;const a=e.filter(i=>i.kind===5).map(i=>(i.tags||[]).filter(l=>l[0]==="e")).flat().map(i=>i[1]).filter(i=>!!i);this.stalls.forEach(i=>n.set(i.id,i)),this.products.forEach(i=>t.set(i.id,i)),e.map(eventToObj).map(i=>{var l;if(i.kind==0){i.pubkey==((l=this.account)==null?void 0:l.pubkey)&&(this.accountMetadata=i.content),this.merchants.filter(o=>o.publicKey===i.pubkey).forEach(o=>o.profile=i.content);return}else i.kind==5?console.log("### delete event",i):i.kind==30018?t.set(i.d,{...i.content,pubkey:i.pubkey,id:i.d,categories:i.t,eventId:i.id}):i.kind==30017&&n.set(i.d,{...i.content,pubkey:i.pubkey,id:i.d,pubkey:i.pubkey})}),this.stalls=await Array.from(n.values()),this.products=Array.from(t.values()).map(i=>{const l=this.stalls.find(o=>o.id==i.stall_id);if(!!l)return i.stallName=l.name,i.images=i.images||[i.image],i.currency!="sat"&&(i.formatedPrice=this.getAmountFormated(i.price,i.currency)),i}).filter(i=>i&&a.indexOf(i.eventId)===-1)},async initNostr(){this.isLoading=!0,this.pool=new NostrTools.SimplePool;const e=Array.from(this.relays),t=this.merchants.map(i=>i.publicKey),n=await this.pool.list(e,[{kinds:[0,30017,30018],authors:t}]);if(!n||n.length==0)return;await this.updateData(n);const a=n.sort((i,l)=>l.created_at-i.created_at)[0];this.poolSubscribe(a.created_at),this.isLoading=!1},async poolSubscribe(e){const t=this.merchants.map(n=>n.publicKey);this.pool.sub(Array.from(this.relays),[{kinds:[0,5,30017,30018],authors:t,since:e}]).on("event",n=>{this.updateData([n])},{id:"masterSub"})},async addMarket(e){var t,n;if(!!e){try{const{type:a,data:i}=NostrTools.nip19.decode(e);if(a!=="naddr"||i.kind!==30019)return;this.config={d:i.identifier,pubkey:i.pubkey,relays:i.relays}}catch(a){console.error(a);return}try{const a=new NostrTools.SimplePool;this.config.relays.forEach(l=>this.relays.add(l));const i=await a.get(this.config.relays,{kinds:[30019],limit:1,authors:[this.config.pubkey],"#d":[this.config.d]});if(!i)return;this.config={...this.config,opts:JSON.parse(i.content)},this.addMerchants((t=this.config.opts)==null?void 0:t.merchants),this.applyUiConfigs((n=this.config)==null?void 0:n.opts)}catch(a){console.warn(a)}}},navigateTo(e,t={stall:null,product:null,pubkey:null}){var r;console.log("### navigateTo",e,t);const{stall:n,product:a,pubkey:i}=t,l=new URL(window.location),o=i||((r=this.stalls.find(s=>s.id==n))==null?void 0:r.pubkey);l.searchParams.set("merchant",o),e==="stall"||e==="product"?n&&(this.activeStall=n,this.setActivePage("customer-stall"),l.searchParams.set("stall",n),this.activeProduct=a,a?l.searchParams.set("product",a):l.searchParams.delete("product")):(this.activeStall=null,this.activeProduct=null,l.searchParams.delete("merchant"),l.searchParams.delete("stall"),l.searchParams.delete("product"),this.setActivePage("market")),window.history.pushState({},"",l)},copyUrl:function(){this.copyText(window.location)},copyText:function(e){var t=this.$q.notify;Quasar.utils.copyToClipboard(e).then(function(){t({message:"Copied to clipboard!",position:"bottom"})})},getAmountFormated(e,t="USD"){return formatCurrency(e,t)},setActivePage(e="market"){this.activePage=e},async addRelay(e){let t=String(e).trim();this.relays.add(t),this.$q.localStorage.set("nostrmarket.relays",Array.from(this.relays)),this.initNostr()},removeRelay(e){this.relays.delete(e),this.relays=new Set(Array.from(this.relays)),this.$q.localStorage.set("nostrmarket.relays",Array.from(this.relays)),this.initNostr()},addMerchant(e){this.merchants.unshift({publicKey:e,profile:null}),this.$q.localStorage.set("nostrmarket.merchants",this.merchants),this.initNostr()},addMerchants(e=[]){const t=this.merchants.map(a=>a.publicKey),n=e.filter(a=>t.indexOf(a)===-1).map(a=>({publicKey:a,profile:null}));this.merchants.unshift(...n),this.$q.localStorage.set("nostrmarket.merchants",this.merchants),this.initNostr()},removeMerchant(e){this.merchants=this.merchants.filter(t=>t.publicKey!==e),this.$q.localStorage.set("nostrmarket.merchants",this.merchants),this.products=this.products.filter(t=>t.pubkey!==e),this.stalls=this.stalls.filter(t=>t.pubkey!==e),this.initNostr()},addProductToCart(e){let t=this.shoppingCarts.find(a=>a.id===e.stall_id);t||(t={id:e.stall_id,products:[]},this.shoppingCarts.push(t)),t.merchant=this.merchants.find(a=>a.publicKey===e.pubkey);let n=t.products.find(a=>a.id===e.id);n||(n={...e,orderedQuantity:0},t.products.push(n)),n.orderedQuantity=Math.min(n.quantity,e.orderedQuantity||n.orderedQuantity+1),this.$q.localStorage.set("nostrmarket.shoppingCarts",this.shoppingCarts),this.$q.notify({type:"positive",message:"Product added to cart!"})},removeProductFromCart(e){const t=this.shoppingCarts.find(n=>n.id===e.stallId);t&&(t.products=t.products.filter(n=>n.id!==e.productId),t.products.length||(this.shoppingCarts=this.shoppingCarts.filter(n=>n.id!==e.stallId)),this.$q.localStorage.set("nostrmarket.shoppingCarts",this.shoppingCarts))},removeCart(e){this.shoppingCarts=this.shoppingCarts.filter(t=>t.id!==e),this.$q.localStorage.set("nostrmarket.shoppingCarts",this.shoppingCarts)},checkoutStallCart(e){this.checkoutCart=e,this.checkoutStall=this.stalls.find(t=>t.id===e.id),this.setActivePage("shopping-cart-checkout")},async placeOrder({event:e,order:t,cartId:n}){var a;if(!((a=this.account)!=null&&a.privkey)){this.openAccountDialog();return}try{this.activeOrderId=t.id,e.content=await NostrTools.nip04.encrypt(this.account.privkey,this.checkoutStall.pubkey,JSON.stringify(t)),e.id=NostrTools.getEventHash(e),e.sig=await NostrTools.signEvent(e,this.account.privkey),this.sendOrderEvent(e),this.persistOrderUpdate(this.checkoutStall.pubkey,e.created_at,t),this.removeCart(n),this.setActivePage("shopping-cart-list")}catch(i){console.warn(i),this.$q.notify({type:"warning",message:"Failed to place order!"})}},sendOrderEvent(e){const t=this.pool.publish(Array.from(this.relays),e);this.$q.notify({type:"positive",message:"The order has been placed!"}),this.qrCodeDialog={data:{payment_request:null,message:null},dismissMsg:null,show:!0},t.on("ok",()=>{this.qrCodeDialog.show=!0}),t.on("failed",n=>{console.error(n)})},async listenForIncommingDms(e){var t;if(!!((t=this.account)!=null&&t.privkey))try{const n=[{kinds:[4],"#p":[this.account.pubkey]},{kinds:[4],authors:[this.account.pubkey]}],a=this.pool.sub(Array.from(this.relays),n);return a.on("event",async i=>{const l=i.tags.find(([s,u])=>s==="p"&&u&&u!=="")[1],o=i.pubkey===this.account.pubkey;if(l!==this.account.pubkey&&!o){console.warn("Unexpected DM. Dropped!");return}this.persistDMEvent(i);const r=o?l:i.pubkey;await this.handleIncommingDm(i,r)}),a}catch(n){console.error(`Error: ${n}`)}},async handleIncommingDm(e,t){try{const n=await NostrTools.nip04.decrypt(this.account.privkey,t,e.content);if(console.log("### plainText",n),!isJson(n))return;const a=JSON.parse(n);[0,1,2].indexOf(a.type)!==-1&&this.persistOrderUpdate(t,e.created_at,a),a.type===1?this.handlePaymentRequest(a):a.type===2&&this.handleOrderStatusUpdate(a)}catch(n){console.warn("Unable to handle incomming DM",n)}},handlePaymentRequest(e){var n;if(e.id&&e.id!==this.activeOrderId)return;if(!((n=e.payment_options)!=null&&n.length)){this.qrCodeDialog.data.message=e.message||"Unexpected error";return}const t=e.payment_options.find(a=>a.type=="ln").link;!t||(this.qrCodeDialog.data.payment_request=t,this.qrCodeDialog.dismissMsg=this.$q.notify({timeout:1e4,message:"Waiting for payment..."}))},handleOrderStatusUpdate(e){if(e.id&&e.id!==this.activeOrderId)return;this.qrCodeDialog.dismissMsg&&this.qrCodeDialog.dismissMsg(),this.qrCodeDialog.show=!1;const t=e.shipped?"Order shipped":e.paid?"Order paid":"Order notification";this.$q.notify({type:"positive",message:t,caption:e.message||""})},persistDMEvent(e){const t=this.$q.localStorage.getItem(`nostrmarket.dm.${e.pubkey}`)||{events:[],lastCreatedAt:0};t.events.find(a=>a.id===e.id)||(t.events.push(e),t.events.sort((a,i)=>a-i),t.lastCreatedAt=t.events[t.events.length-1].created_at,this.$q.localStorage.set(`nostrmarket.dm.${e.pubkey}`,t))},lastDmForPubkey(e){const t=this.$q.localStorage.getItem(`nostrmarket.dm.${e}`);return t?t.lastCreatedAt:0},persistOrderUpdate(e,t,n){let a=this.$q.localStorage.getItem(`nostrmarket.orders.${e}`)||[];const i=a.findIndex(o=>o.id===n.id);if(i===-1){a.unshift({...n,eventCreatedAt:t,createdAt:t}),this.orders[e]=a,this.orders={...this.orders},this.$q.localStorage.set(`nostrmarket.orders.${e}`,a);return}let l=a[i];n.type===0?(l.createdAt=t,l={...l,...n,message:l.message||n.message}):l=l.eventCreatedAt<t?{...l,...n}:{...n,...l},a.splice(i,1,l),this.orders[e]=a,this.orders={...this.orders},this.$q.localStorage.set(`nostrmarket.orders.${e}`,a)},showInvoiceQr(e){!e||(this.qrCodeDialog={data:{payment_request:e},dismissMsg:null,show:!0})},toggleCategoryFilter(e){const t=this.filterCategories.indexOf(e);t===-1?this.filterCategories.push(e):this.filterCategories.splice(t,1)},hasCategory(e=[]){var t;if(!((t=this.filterCategories)!=null&&t.length))return!0;for(const n of e)if(this.filterCategories.indexOf(n)!==-1)return!0;return!1},allStallCatgories(e){const t=this.products.filter(n=>n.stall_id===e).map(n=>n.categories).flat().filter(n=>!!n);return Array.from(new Set(t))},allStallImages(e){const t=this.products.filter(n=>n.stall_id===e).map(n=>n.images&&n.images[0]).filter(n=>!!n);return Array.from(new Set(t))},sanitizeImageSrc(e,t){try{if(e)return new URL(e),e}catch{}return t},async publishNaddr(){var s,u,d;if(!((s=this.account)!=null&&s.privkey)){this.openAccountDialog(),this.$q.notify({message:"Login Required!",icon:"warning"});return}const e=Array.from(this.merchants.map(v=>v.publicKey)),{name:t,about:n,ui:a}=((u=this.config)==null?void 0:u.opts)||{},i={merchants:e,name:t,about:n,ui:a},l=(d=this.config.identifier)!=null?d:crypto.randomUUID(),o={...await NostrTools.getBlankEvent(),kind:30019,content:JSON.stringify(i),created_at:Math.floor(Date.now()/1e3),tags:[["d",l]],pubkey:this.account.pubkey};o.id=NostrTools.getEventHash(o);try{o.sig=await NostrTools.signEvent(o,this.account.privkey);const v=this.pool.publish(Array.from(this.relays),o);v.on("ok",()=>{console.debug("Config event was sent")}),v.on("failed",y=>{console.error(y)})}catch(v){console.error(v),this.$q.notify({message:"Cannot publish market profile",caption:`Error: ${v}`,color:"negative"});return}const r=NostrTools.nip19.naddrEncode({pubkey:o.pubkey,kind:30019,identifier:l,relays:Array.from(this.relays)});this.copyText(r)},logout(){window.localStorage.removeItem("nostrmarket.account"),window.location.href=window.location.origin+window.location.pathname,this.account=null,this.accountMetadata=null},clearAllData(){this.$q.dialog(confirm("This will remove all information about merchants, products, relays and others. You will NOT be logged out. Do you want to proceed?")).onOk(async()=>{this.$q.localStorage.getAllKeys().filter(e=>e!=="nostrmarket.account").forEach(e=>window.localStorage.removeItem(e)),this.merchants=[],this.relays=[],this.orders=[],this.config={opts:null},this.shoppingCarts=[],this.checkoutCart=null,window.location.href=window.location.origin+window.location.pathname})},markNoteAsRead(e){this.readNotes[e]=!0,this.$q.localStorage.set("nostrmarket.readNotes",this.readNotes)},focusOnElement(e){var t;(t=document.getElementById(e))==null||t.scrollIntoView(),this.showFilterDetails=!0}}}),Ay=Object.assign($y,{setup(e){return window.$q=du(),(t,n)=>(S(),V(et,null,[c(su,null,{default:f(()=>{var a,i,l,o;return[m("div",J0,[c(ri,{class:"col-lg-1 col-md-1 col-sm-0 q-pl-none"},{default:f(()=>[c(vt,{rounded:"",size:"64px",class:"q-ma-none q-pa-none gt-sm"},{default:f(()=>[t.logoImage?(S(),V("img",{key:0,src:t.logoImage},null,8,X0)):fe("",!0)]),_:1})]),_:1}),c(ri,{class:"col-lg-6 col-md-5 col-sm-12 auto-width"},{default:f(()=>[ey,c(Xe,{class:"rounded-pill",style:{width:"100%"},rounded:"",outlined:"",clearable:"",modelValue:t.searchText,"onUpdate:modelValue":n[0]||(n[0]=r=>t.searchText=r),modelModifiers:{trim:!0},label:"Filter products, load market profile..."},_o({append:f(()=>[t.searchText?fe("",!0):(S(),j(je,{key:0,name:"search"}))]),_:2},[t.showFilterDetails?{name:"label",fn:f(()=>[oe(" Filter or paste a "),c(rn,{class:"q-px-sm text-subtitle1",color:"secondary"},{default:f(()=>[oe("naddr")]),_:1}),oe(" here ")]),key:"0"}:void 0]),1032,["modelValue"])]),_:1}),c(ri,{class:"col-lg-5 col-md-6 col-sm-12 q-ma-none"},{default:f(()=>[m("div",ty,[c(ee,{color:"gray",icon:"travel_explore",flat:"",size:"lg",onClick:n[1]||(n[1]=r=>t.setActivePage("search-nostr"))},{default:f(()=>[c(Tt,null,{default:f(()=>[oe("Search for products on Nostr")]),_:1})]),_:1}),c(ee,{color:"gray",icon:"settings",flat:"",size:"lg",onClick:n[2]||(n[2]=r=>t.setActivePage("market-config"))},{default:f(()=>[c(Tt,null,{default:f(()=>[oe(" Settings")]),_:1})]),_:1}),t.account?(S(),j(ee,{key:0,onClick:n[3]||(n[3]=r=>t.setActivePage("user-config")),color:"gray",icon:"perm_identity",flat:"",size:"lg"},{default:f(()=>[c(Tt,null,{default:f(()=>[oe("User User Config")]),_:1})]),_:1})):(S(),j(ee,{key:1,onClick:n[4]||(n[4]=r=>t.accountDialog.show=!0),color:"gray",icon:"person_add",flat:"",size:"lg"},{default:f(()=>[c(Tt,null,{default:f(()=>[oe("User Login")]),_:1})]),_:1})),c(ee,{onClick:n[5]||(n[5]=r=>t.setActivePage("user-chat")),color:"gray",icon:"chat",flat:"",size:"lg"},{default:f(()=>[c(Tt,null,{default:f(()=>[oe("Chat")]),_:1})]),_:1}),c(ee,{onClick:n[6]||(n[6]=r=>t.setActivePage("customer-orders")),color:"gray",icon:"receipt_long",flat:"",size:"lg"},{default:f(()=>[c(Tt,null,{default:f(()=>[oe("Orders")]),_:1})]),_:1}),c(ee,{color:"gray",icon:"shopping_cart",dense:"",round:"",flat:"",size:"lg",onClick:n[7]||(n[7]=r=>t.setActivePage("shopping-cart-list"))},{default:f(()=>[c(Tt,null,{default:f(()=>[oe("Shopping Cart")]),_:1}),t.allCartsItemCount?(S(),j(rn,{key:0,color:"secondary",floating:""},{default:f(()=>[m("span",{textContent:W(t.allCartsItemCount)},null,8,ny)]),_:1})):fe("",!0)]),_:1})])]),_:1})]),(a=t.products)!=null&&a.length?(S(),V("div",ay,[c(Wi,{items:t.allCategories,"virtual-scroll-horizontal":""},{default:f(({item:r,index:s})=>[(S(),j(aa,{key:s,color:r.selected?"grey":"",class:"cursor-pointer q-mb-md"},{default:f(()=>[m("span",{textContent:W(r.category),onClick:u=>t.toggleCategoryFilter(r.category)},null,8,iy),c(rn,{onClick:u=>t.toggleCategoryFilter(r.category),rounded:"",class:"q-ml-sm",color:"secondary"},{default:f(()=>[m("span",{textContent:W(r.count)},null,8,ly)]),_:2},1032,["onClick"])]),_:2},1032,["color"]))]),_:1},8,["items"])])):fe("",!0),t.isLoading?(S(),V("div",oy,[m("div",ry,[c(Do,{color:"primary",size:"xl"})])])):fe("",!0),c(lu,{class:"row q-pa-none q-mb-lg gt-sm shadow-2"},{default:f(()=>[t.bannerImage?(S(),j(ji,{key:0,src:t.bannerImage,class:"rounded-borders",style:{width:"100%",height:"250px"},cover:""},{default:f(()=>{var r,s;return[(s=(r=t.config)==null?void 0:r.opts)!=null&&s.about?(S(),V("div",sy,[m("span",{textContent:W(t.config.opts.about)},null,8,uy)])):fe("",!0)]}),_:1},8,["src"])):fe("",!0)]),_:1}),m("div",cy,[m("div",dy,[c(ru,{class:"cursor q-mt-sm q-mr-sm"},{default:f(()=>{var r,s;return[c(Wt,{label:((s=(r=t.config)==null?void 0:r.opts)==null?void 0:s.name)||"Market",icon:"home",onClick:n[9]||(n[9]=u=>t.navigateTo("market")),class:"cursor-pointer auto-width"},{default:f(()=>{var u;return[t.activePage==="market"&&((u=t.stalls)==null?void 0:u.length)?(S(),j(po,{key:0,modelValue:t.groupByStall,"onUpdate:modelValue":n[8]||(n[8]=d=>t.groupByStall=d),class:"q-pl-md float-right",size:"xs",val:"xs",label:"Group by stalls"},null,8,["modelValue"])):fe("",!0)]}),_:1},8,["label"]),t.activePage==="customer-stall"?(S(),j(Wt,{key:0,label:t.stallName,onClick:n[10]||(n[10]=u=>t.navigateTo("stall",{stall:t.activeStall})),icon:"storefront",class:"cursor-pointer"},null,8,["label"])):fe("",!0),t.activePage==="customer-stall"&&t.activeProduct?(S(),j(Wt,{key:1,label:t.productName,class:"cursor-pointer",icon:"widgets"},null,8,["label"])):fe("",!0),t.activePage==="shopping-cart-list"?(S(),j(Wt,{key:2,label:"Shoping Cart",icon:"shopping_cart"})):fe("",!0),t.activePage==="customer-orders"?(S(),j(Wt,{key:3,label:"Orders",icon:"receipt_long"})):fe("",!0),t.activePage==="market-config"?(S(),j(Wt,{key:4,label:"Settings",icon:"settings"})):fe("",!0),t.activePage==="user-config"?(S(),j(Wt,{key:5,label:"User Config",icon:"perm_identity"})):fe("",!0),t.activePage==="user-chat"?(S(),j(Wt,{key:6,label:"User Chat",icon:"chat"})):fe("",!0)]}),_:1})]),m("div",fy,[t.activePage==="customer-stall"?(S(),j(ee,{key:0,flat:"",color:"grey",icon:"content_copy",onClick:n[11]||(n[11]=r=>t.copyUrl()),class:"float-right"})):fe("",!0)])]),c(Ae,{class:"q-mt-sm q-mb-md"}),t.activePage==="market-config"?(S(),j(Zo,{key:2,merchants:t.merchants,onAddMerchant:t.addMerchant,onRemoveMerchant:t.removeMerchant,relays:t.relays,"read-notes":t.readNotes,onAddRelay:t.addRelay,onRemoveRelay:t.removeRelay,"config-ui":(i=t.config)==null?void 0:i.opts,onUiConfigUpdate:t.updateUiConfig,onPublishNaddr:t.publishNaddr,onClearAllData:t.clearAllData,onNoteRead:t.markNoteAsRead},null,8,["merchants","onAddMerchant","onRemoveMerchant","relays","read-notes","onAddRelay","onRemoveRelay","config-ui","onUiConfigUpdate","onPublishNaddr","onClearAllData","onNoteRead"])):t.activePage==="user-config"?(S(),j(Gc,{key:3,account:t.account,onLogout:t.logout,onCopyText:t.copyText},null,8,["account","onLogout","onCopyText"])):t.activePage==="user-chat"?(S(),j(ed,{key:4})):t.activePage==="shopping-cart-list"?(S(),j(fd,{key:5,carts:t.shoppingCarts,onAddToCart:t.addProductToCart,onRemoveFromCart:t.removeProductFromCart,onRemoveCart:t.removeCart,onCheckoutCart:t.checkoutStallCart},null,8,["carts","onAddToCart","onRemoveFromCart","onRemoveCart","onCheckoutCart"])):t.activePage==="shopping-cart-checkout"?(S(),j(Xd,{key:6,cart:t.checkoutCart,stall:t.checkoutStall,"customer-pubkey":(l=t.account)==null?void 0:l.pubkey,onLoginRequired:t.openAccountDialog,onPlaceOrder:t.placeOrder,onChangePage:t.navigateTo},null,8,["cart","stall","customer-pubkey","onLoginRequired","onPlaceOrder","onChangePage"])):t.activePage==="customer-orders"?(S(),j(t0,{key:7,orders:t.orders,products:t.products,stalls:t.stalls,merchants:t.merchants,onShowInvoice:t.showInvoiceQr},null,8,["orders","products","stalls","merchants","onShowInvoice"])):t.activePage==="customer-stall"?(S(),j(E0,{key:8,stall:t.stalls.find(r=>r.id==t.activeStall),products:t.filterProducts,"product-detail":t.activeProduct,onChangePage:t.navigateTo,onAddToCart:t.addProductToCart},null,8,["stall","products","product-detail","onChangePage","onAddToCart"])):(o=t.merchants)!=null&&o.length?(S(),V("div",_y,[t.groupByStall?(S(),j(Z0,{key:0,stalls:t.filterStalls,onChangePage:t.navigateTo},null,8,["stalls","onChangePage"])):(S(),j(Sf,{key:1,"filtered-products":t.filterProducts,"search-text":t.searchText,"filter-categories":t.filterCategories,onChangePage:t.navigateTo,onUpdateData:t.updateData,onAddToCart:t.addProductToCart},null,8,["filtered-products","search-text","filter-categories","onChangePage","onUpdateData","onAddToCart"]))])):(S(),V("div",hy,[c(Qt,{class:"q-mt-md",bordered:""},{default:f(()=>[c(nt,null,{default:f(()=>[c(ae,{class:"q-mt-sm q-ml-lg"},{default:f(()=>[c(se,null,{default:f(()=>[my]),_:1}),c(Ae,{class:"q-mb-xl q-mt-md"}),c(se,null,{default:f(()=>[gy]),_:1})]),_:1})]),_:1}),c(nt,null,{default:f(()=>[c(ae,{class:"q-mt-sm q-ml-lg"},{default:f(()=>[c(se,null,{default:f(()=>[m("ul",null,[m("li",null,[m("span",vy,[c(ee,{onClick:n[12]||(n[12]=r=>t.addMarket(t.defaultMarketNaddr)),size:"xl",flat:"",color:"secondary",class:"q-mb-xs"},{default:f(()=>[oe("Import")]),_:1}),oe(" a list of popular merchants, or ")])]),m("li",null,[m("span",yy,[c(ee,{onClick:n[13]||(n[13]=r=>t.setActivePage("market-config")),flat:"",size:"xl",color:"secondary",class:"q-mb-xs"},{default:f(()=>[oe("Add a merchant")]),_:1}),oe(" using its public key, or ")])]),m("li",null,[m("span",py,[c(ee,{onClick:n[14]||(n[14]=r=>t.focusOnElement("search-text")),flat:"",size:"xl",color:"secondary",class:"q-mb-xs"},{default:f(()=>[oe("Add a market profile")]),_:1}),oe(" using a shareable "),by,oe(" identifier ")])])])]),_:1})]),_:1}),c(ae,{side:""})]),_:1})]),_:1})]))]}),_:1}),c(Si,{modelValue:t.accountDialog.show,"onUpdate:modelValue":n[17]||(n[17]=a=>t.accountDialog.show=a),position:"top"},{default:f(()=>[c(lt,null,{default:f(()=>[c(we,{class:"row"},{default:f(()=>[wy,c(cu)]),_:1}),c(we,null,{default:f(()=>[Sy]),_:1}),c(we,{class:"q-pt-none"},{default:f(()=>[c(Xe,{dense:"",label:"Nsec/Hex",modelValue:t.accountDialog.data.key,"onUpdate:modelValue":n[15]||(n[15]=a=>t.accountDialog.data.key=a),autofocus:"",onKeyup:ki(t.createAccount,["enter"]),error:t.accountDialog.data.key&&!t.isValidAccountKey,hint:"Enter you private key"},null,8,["modelValue","onKeyup","error"])]),_:1}),c(In,{align:"right",class:"text-primary"},{default:f(()=>[t.isValidAccountKey?(S(),j(ee,{key:0,label:"Login",color:"primary",onClick:n[16]||(n[16]=()=>t.createAccount())})):(S(),j(ee,{key:1,flat:"",label:"Generate",onClick:t.generateKeyPair},null,8,["onClick"])),dn((S(),j(ee,{flat:"",color:"grey",class:"q-ml-auto"},{default:f(()=>[oe("Close")]),_:1})),[[Mi]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),c(Si,{modelValue:t.qrCodeDialog.show,"onUpdate:modelValue":n[19]||(n[19]=a=>t.qrCodeDialog.show=a),position:"top"},{default:f(()=>[c(lt,{class:"q-pa-md q-pt-xl"},{default:f(()=>{var a;return[m("div",ky,[t.qrCodeDialog.data.message?(S(),V("div",Cy,[m("strong",null,[m("span",{textContent:W(t.qrCodeDialog.data.message)},null,8,Ty)])])):(S(),V("a",{key:1,href:"lightning:"+((a=t.qrCodeDialog.data)==null?void 0:a.payment_request)},[t.qrCodeDialog.data.payment_request?(S(),V("div",qy,[c(Vs(ac),{value:t.qrCodeDialog.data.payment_request,options:{width:340},class:"rounded-borders"},null,8,["value"])])):(S(),V("div",Py,[c(ro,{color:"primary",size:"2.55em"})]))],8,My))]),m("div",Dy,[t.qrCodeDialog.data.payment_request?(S(),j(ee,{key:0,outline:"",color:"grey",onClick:n[18]||(n[18]=i=>t.copyText(t.qrCodeDialog.data.payment_request))},{default:f(()=>[oe("Copy invoice")]),_:1})):fe("",!0),dn((S(),j(ee,{flat:"",color:"grey",class:"q-ml-auto"},{default:f(()=>[oe("Close")]),_:1})),[[Mi]])])]}),_:1})]),_:1},8,["modelValue"])],64))}});export{Ay as default};
