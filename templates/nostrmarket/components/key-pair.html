<q-card v-if="publicKey" flat bordered>
  <!-- Banner Section -->
  <div
    v-if="merchantConfig && merchantConfig.banner"
    class="banner-container"
    :style="{
      height: '120px',
      backgroundSize: 'cover',
      backgroundPosition: 'center',
      borderRadius: '4px 4px 0 0',
      backgroundImage: 'url(' + merchantConfig.banner + ')'
    }"
  ></div>
  <div
    v-else
    class="banner-placeholder bg-grey-9"
    style="height: 120px; border-radius: 4px 4px 0 0"
  ></div>

  <!-- Profile Section -->
  <q-card-section class="q-pt-none" style="margin-top: -50px">
    <div class="row">
      <!-- Profile Image -->
      <div class="col-auto">
        <q-avatar size="100px" class="shadow-2">
          <img
            v-if="merchantConfig && merchantConfig.picture"
            :src="merchantConfig.picture"
            @error="handleImageError"
          />
          <q-icon
            v-else
            name="person"
            size="60px"
            color="grey-5"
            style="background: var(--q-dark); border-radius: 50%"
          />
        </q-avatar>
      </div>

      <!-- Name, About and NIP-05 -->
      <div class="col q-pl-md" style="padding-top: 50px">
        <div class="row items-center">
          <div class="col">
            <div
              class="text-h6"
              v-if="merchantConfig && (merchantConfig.display_name || merchantConfig.name)"
            >
              <span
                v-text="merchantConfig.display_name || merchantConfig.name"
              ></span>
            </div>
            <div class="text-caption text-grey" v-else>(No name set)</div>
          </div>
        </div>
        <div
          class="text-body2 text-grey q-mt-xs"
          v-if="merchantConfig && merchantConfig.about"
          style="max-width: 400px"
        >
          <span v-text="merchantConfig.about"></span>
        </div>
        <div class="row q-mt-xs q-gutter-sm">
          <div
            class="text-caption text-grey-5"
            v-if="merchantConfig && merchantConfig.nip05"
          >
            <q-icon name="verified" color="primary" size="14px"></q-icon>
            <span v-text="merchantConfig.nip05" class="q-ml-xs"></span>
          </div>
          <div
            class="text-caption text-grey-5"
            v-if="merchantConfig && merchantConfig.lud16"
          >
            <q-icon name="bolt" color="warning" size="14px"></q-icon>
            <span v-text="merchantConfig.lud16" class="q-ml-xs"></span>
          </div>
        </div>
      </div>
    </div>
  </q-card-section>
</q-card>
